/*! jquery.kinetic - v1.8.2 - 2013-03-23 http://the-taylors.org/jquery.kinetic
* Copyright (c) 2013 Dave Taylor; Licensed MIT */(function(t){var t=window.$;"use strict";var e={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},n="kinetic-settings",i="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()),t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in document});var o=function(){return!1},c=function(t,e){return 0===Math.floor(Math.abs(t))?0:t*e},l=function(t,e){var n=t;return t>0?t>e&&(n=e):0-e>t&&(n=0-e),n},s=function(t,e){this.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),t.velocity>0&&this.addClass(e.right),0>t.velocity&&this.addClass(e.left),t.velocityY>0&&this.addClass(e.down),0>t.velocityY&&this.addClass(e.up)},a=function(t,e){e.velocity=0,e.velocityY=0,e.decelerate=!0,"function"==typeof e.stopped&&e.stopped.call(t,e)},r=function(t,e){var n=t[0];e.x&&n.scrollWidth>0?(n.scrollLeft=e.scrollLeft=n.scrollLeft+e.velocity,Math.abs(e.velocity)>0&&(e.velocity=e.decelerate?c(e.velocity,e.slowdown):e.velocity)):e.velocity=0,e.y&&n.scrollHeight>0?(n.scrollTop=e.scrollTop=n.scrollTop+e.velocityY,Math.abs(e.velocityY)>0&&(e.velocityY=e.decelerate?c(e.velocityY,e.slowdown):e.velocityY)):e.velocityY=0,s.call(t,e,e.deceleratingClass),"function"==typeof e.moved&&e.moved.call(t,e),Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0?window.requestAnimationFrame(function(){r(t,e)}):a(t,e)},u=function(e){var i=t.kinetic.callMethods[e],o=Array.prototype.slice.call(arguments);i&&this.each(function(){var e=o.slice(1),c=t(this).data(n);e.unshift(c),i.apply(this,e)})},v=function(e,n){e[0],t.support.touch?e.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove):e.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),e.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",o).bind("dragstart",n.events.dragStart)},d=function(e,n){e[0],t.support.touch?e.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove):e.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove).unbind("scroll",n.events.scroll),e.unbind("click",n.events.inputClick).unbind("selectstart",o),e.unbind("dragstart",n.events.dragStart)},f=function(o){this.addClass(i).each(function(){var i=this,c=t(this);if(!c.data(n)){var a,u,d,f,p=t.extend({},e,o),m=!1,h=!1,g=!1,w=1e3/p.throttleFPS;p.velocity=0,p.velocityY=0;var y=function(){a=!1,u=!1,g=!1};t(document).mouseup(y).click(y);var C=function(){p.velocity=l(m-a,p.maxvelocity),p.velocityY=l(h-u,p.maxvelocity)},b=function(e){return t.isFunction(p.filterTarget)?p.filterTarget.call(i,e)!==!1:!0},k=function(t,e){g=!0,p.velocity=m=0,p.velocityY=h=0,a=t,u=e},Y=function(){a&&m&&p.decelerate===!1&&(p.decelerate=!0,C(),a=m=g=!1,r(c,p))},D=function(e,n){(!d||new Date>new Date(d.getTime()+w))&&(d=new Date,g&&(a||u)&&(f&&(t(f).blur(),f=null,c.focus()),p.decelerate=!1,p.velocity=p.velocityY=0,c[0].scrollLeft=p.scrollLeft=p.x?c[0].scrollLeft-(e-a):c[0].scrollLeft,c[0].scrollTop=p.scrollTop=p.y?c[0].scrollTop-(n-u):c[0].scrollTop,m=a,h=u,a=e,u=n,C(),s.call(c,p,p.movingClass),"function"==typeof p.moved&&p.moved.call(c,p)))};p.events={touchStart:function(t){var e;b(t.target)&&(e=t.originalEvent.touches[0],k(e.clientX,e.clientY),t.stopPropagation())},touchMove:function(t){var e;g&&(e=t.originalEvent.touches[0],D(e.clientX,e.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){b(t.target)&&(k(t.clientX,t.clientY),f=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){Y(),f=null,t.preventDefault&&t.preventDefault()},inputMove:function(t){g&&(D(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof p.moved&&p.moved.call(c,p),t.preventDefault&&t.preventDefault()},inputClick:function(t){return Math.abs(p.velocity)>0?(t.preventDefault(),!1):void 0},dragStart:function(){return f?!1:void 0}},v(c,p),c.data(n,p).css("cursor",p.cursor),p.triggerHardware&&c.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})}})};t.kinetic={settingsKey:n,callMethods:{start:function(e,n){var i=t(this);e=t.extend(e,n),e&&(e.decelerate=!1,r(i,e))},end:function(e){t(this),e&&(e.decelerate=!0)},stop:function(e){var n=t(this);a(n,e)},detach:function(e){var n=t(this);d(n,e),n.removeClass(i).css("cursor","")},attach:function(e){var n=t(this);v(n,e),n.addClass(i).css("cursor","move")}}},t.fn.kinetic=function(t){return "string"==typeof t?u.apply(this,arguments):f.call(this,t),this}})();(function($){var jQuery=window.$;$.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollingHotSpotLeftVisibleClass:"scrollingHotSpotLeftVisible",scrollingHotSpotRightVisibleClass:"scrollingHotSpotRightVisible",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:false,getContentOnLoad:{},countOnlyClass:"",startAtElementId:"",hotSpotScrolling:true,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"hover",hotSpotsVisibleTime:5000,easingAfterHotSpotScrolling:true,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:"",mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:true,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:false,autoScrollingMode:"",autoScrollingDirection:"endlessLoopRight",autoScrollingStep:1,autoScrollingInterval:10,autoScrollingPauseOnHover:false,touchScrolling:false,scrollToAnimationDuration:1000,scrollToEasingFunction:"easeOutQuart"},_create:function(){var self=this,o=this.options,el=this.element;el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));el.data("scrollingHotSpotRight",el.find("."+o.scrollingHotSpotRightClass));el.data("scrollingHotSpotLeft",el.find("."+o.scrollingHotSpotLeftClass));el.data("scrollableArea",el.find("."+o.scrollableAreaClass));if(el.data("scrollingHotSpotRight").length>0){el.data("scrollingHotSpotRight").detach();}
if(el.data("scrollingHotSpotLeft").length>0){el.data("scrollingHotSpotLeft").detach();}
if(el.data("scrollableArea").length===0&&el.data("scrollWrapper").length===0){el.wrapInner("<div class='"+o.scrollableAreaClass+"'>").wrapInner("<div class='"+o.scrollWrapperClass+"'>");el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));el.data("scrollableArea",el.find("."+o.scrollableAreaClass));}
else if(el.data("scrollWrapper").length===0){el.wrapInner("<div class='"+o.scrollWrapperClass+"'>");el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));}
else if(el.data("scrollableArea").length===0){el.data("scrollWrapper").wrapInner("<div class='"+o.scrollableAreaClass+"'>");el.data("scrollableArea",el.find("."+o.scrollableAreaClass));}
if(el.data("scrollingHotSpotRight").length===0){el.prepend("<div class='"+o.scrollingHotSpotRightClass+"'></div>");el.data("scrollingHotSpotRight",el.find("."+o.scrollingHotSpotRightClass));}else{el.prepend(el.data("scrollingHotSpotRight"));}
if(el.data("scrollingHotSpotLeft").length===0){el.prepend("<div class='"+o.scrollingHotSpotLeftClass+"'></div>");el.data("scrollingHotSpotLeft",el.find("."+o.scrollingHotSpotLeftClass));}else{el.prepend(el.data("scrollingHotSpotLeft"));}
el.data("speedBooster",1);el.data("scrollXPos",0);el.data("hotSpotWidth",el.data("scrollingHotSpotLeft").innerWidth());el.data("scrollableAreaWidth",0);el.data("startingPosition",0);el.data("rightScrollingInterval",null);el.data("leftScrollingInterval",null);el.data("autoScrollingInterval",null);el.data("hideHotSpotBackgroundsInterval",null);el.data("previousScrollLeft",0);el.data("pingPongDirection","right");el.data("getNextElementWidth",true);el.data("swapAt",null);el.data("startAtElementHasNotPassed",true);el.data("swappedElement",null);el.data("originalElements",el.data("scrollableArea").children(o.countOnlyClass));el.data("visible",true);el.data("enabled",true);el.data("scrollableAreaHeight",el.data("scrollableArea").height());el.data("scrollerOffset",el.offset());el.data('autoscrollingWasRunning',false);if(o.touchScrolling&&el.data("enabled")){el.data("scrollWrapper").kinetic({y:false,moved:function(settings){if(o.manualContinuousScrolling){if(el.data("scrollWrapper").scrollLeft()<=0){self._checkContinuousSwapLeft();}else{self._checkContinuousSwapRight();}}
    self._trigger("touchMoved");},stopped:function(settings){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();self._trigger("touchStopped");}});}
el.data("scrollWrapper").bind("mouseover",function(){if(o.autoScrollingPauseOnHover&&el.data("autoScrollingInterval")!==null){self.stopAutoScrolling();}});el.data("scrollWrapper").bind("mouseout",function(){if(o.autoScrollingPauseOnHover&&el.data('autoscrollingWasRunning')){self.startAutoScrolling();}});el.data("scrollingHotSpotRight").bind("mousemove",function(e){if(o.hotSpotScrolling){var x=e.pageX-$(this).offset().left;el.data("scrollXPos",Math.round((x/el.data("hotSpotWidth"))*o.hotSpotScrollingStep));if(el.data("scrollXPos")===Infinity||el.data("scrollXPos")<1){el.data("scrollXPos",1);}}});el.data("scrollingHotSpotRight").bind("mouseover",function(){if(o.hotSpotScrolling){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();el.data("rightScrollingInterval",setInterval(function(){if(el.data("scrollXPos")>0&&el.data("enabled")){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+(el.data("scrollXPos")*el.data("speedBooster")));if(o.manualContinuousScrolling){self._checkContinuousSwapRight();}
self._showHideHotSpots();}},o.hotSpotScrollingInterval));self._trigger("mouseOverRightHotSpot");}});el.data("scrollingHotSpotRight").bind("mouseout",function(){if(o.hotSpotScrolling){clearInterval(el.data("rightScrollingInterval"));el.data("scrollXPos",0);if(o.easingAfterHotSpotScrolling&&el.data("enabled")){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()+o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction});}}});el.data("scrollingHotSpotRight").bind("mousedown",function(){el.data("speedBooster",o.hotSpotMouseDownSpeedBooster);});$("body").bind("mouseup",function(){el.data("speedBooster",1);});el.data("scrollingHotSpotLeft").bind("mousemove",function(e){if(o.hotSpotScrolling){var x=el.data("hotSpotWidth")-(e.pageX-$(this).offset().left);el.data("scrollXPos",Math.round((x/el.data("hotSpotWidth"))*o.hotSpotScrollingStep));if(el.data("scrollXPos")===Infinity||el.data("scrollXPos")<1){el.data("scrollXPos",1);}}});el.data("scrollingHotSpotLeft").bind("mouseover",function(){if(o.hotSpotScrolling){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();el.data("leftScrollingInterval",setInterval(function(){if(el.data("scrollXPos")>0&&el.data("enabled")){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-(el.data("scrollXPos")*el.data("speedBooster")));if(o.manualContinuousScrolling){self._checkContinuousSwapLeft();}
self._showHideHotSpots();}},o.hotSpotScrollingInterval));self._trigger("mouseOverLeftHotSpot");}});el.data("scrollingHotSpotLeft").bind("mouseout",function(){if(o.hotSpotScrolling){clearInterval(el.data("leftScrollingInterval"));el.data("scrollXPos",0);if(o.easingAfterHotSpotScrolling&&el.data("enabled")){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()-o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction});}}});el.data("scrollingHotSpotLeft").bind("mousedown",function(){el.data("speedBooster",o.hotSpotMouseDownSpeedBooster);});el.data("scrollableArea").mousewheel(function(event,delta,deltaX,deltaY){if(el.data("enabled")&&o.mousewheelScrolling.length>0){var pixels;if(o.mousewheelScrolling==="vertical"&&deltaY!==0){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*deltaY)*-1);self.move(pixels);}else if(o.mousewheelScrolling==="horizontal"&&deltaX!==0){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*deltaX)*-1);self.move(pixels);}else if(o.mousewheelScrolling==="allDirections"){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*delta)*-1);self.move(pixels);}}});if(o.mousewheelScrolling){el.data("scrollingHotSpotLeft").add(el.data("scrollingHotSpotRight")).mousewheel(function(event){event.preventDefault();});}
$(window).bind("resize",function(){self._showHideHotSpots();self._trigger("windowResized");});if(!(jQuery.isEmptyObject(o.getContentOnLoad))){self[o.getContentOnLoad.method](o.getContentOnLoad.content,o.getContentOnLoad.manipulationMethod,o.getContentOnLoad.addWhere,o.getContentOnLoad.filterTag);}
if(o.hiddenOnStart){self.hide();}
$(window).on('load',function(){if(!(o.hiddenOnStart)){self.recalculateScrollableArea();}
if((o.autoScrollingMode.length>0)&&!(o.hiddenOnStart)){self.startAutoScrolling();}
if(o.autoScrollingMode!=="always"){switch(o.visibleHotSpotBackgrounds){case "always":self.showHotSpotBackgrounds();break;case "onStart":self.showHotSpotBackgrounds();el.data("hideHotSpotBackgroundsInterval",setTimeout(function(){self.hideHotSpotBackgrounds(250);},o.hotSpotsVisibleTime));break;case "hover":el.mouseenter(function(event){if(o.hotSpotScrolling){event.stopPropagation();self.showHotSpotBackgrounds(250);}}).mouseleave(function(event){if(o.hotSpotScrolling){event.stopPropagation();self.hideHotSpotBackgrounds(250);}});break;default:break;}}
self._showHideHotSpots();self._trigger("setupComplete");});},_init:function(){var self=this,el=this.element;self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("initializationComplete");},_setOption:function(key,value){var self=this,o=this.options,el=this.element;o[key]=value;if(key==="hotSpotScrolling"){if(value===true){self._showHideHotSpots();}else{el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}}else if(key==="autoScrollingStep"||key==="easingAfterHotSpotScrollingDistance"||key==="easingAfterHotSpotScrollingDuration"||key==="easingAfterMouseWheelScrollingDuration"){o[key]=parseInt(value,10);}else if(key==="autoScrollingInterval"){o[key]=parseInt(value,10);self.startAutoScrolling();}},showHotSpotBackgrounds:function(fadeSpeed){var self=this,el=this.element,o=this.options;if(fadeSpeed!==undefined){el.data("scrollingHotSpotLeft").addClass(o.scrollingHotSpotLeftVisibleClass);el.data("scrollingHotSpotRight").addClass(o.scrollingHotSpotRightVisibleClass);el.data("scrollingHotSpotLeft").add(el.data("scrollingHotSpotRight")).fadeTo(fadeSpeed,0.35);}
else{el.data("scrollingHotSpotLeft").addClass(o.scrollingHotSpotLeftVisibleClass);el.data("scrollingHotSpotLeft").removeAttr("style");el.data("scrollingHotSpotRight").addClass(o.scrollingHotSpotRightVisibleClass);el.data("scrollingHotSpotRight").removeAttr("style");}
self._showHideHotSpots();},hideHotSpotBackgrounds:function(fadeSpeed){var el=this.element,o=this.options;if(fadeSpeed!==undefined){el.data("scrollingHotSpotLeft").fadeTo(fadeSpeed,0.0,function(){el.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass);});el.data("scrollingHotSpotRight").fadeTo(fadeSpeed,0.0,function(){el.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass);});}
else{el.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass).removeAttr("style");el.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass).removeAttr("style");}},_showHideHotSpots:function(){var self=this,el=this.element,o=this.options;if(!(o.hotSpotScrolling)){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}else{if(o.hotSpotScrolling&&o.autoScrollingMode!=="always"&&el.data("autoScrollingInterval")!==null){el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").show();}
else if(o.autoScrollingMode!=="always"&&o.hotSpotScrolling){if(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth())){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}
else if(el.data("scrollWrapper").scrollLeft()===0){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").show();self._trigger("scrollerLeftLimitReached");clearInterval(el.data("leftScrollingInterval"));el.data("leftScrollingInterval",null);}
else if(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth()+el.data("scrollWrapper").scrollLeft())){el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").hide();self._trigger("scrollerRightLimitReached");clearInterval(el.data("rightScrollingInterval"));el.data("rightScrollingInterval",null);}
else{el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").show();}}
else{el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}}},_setElementScrollPosition:function(method,element){var el=this.element,o=this.options,tempScrollPosition=0;switch(method){case "first":el.data("scrollXPos",0);return true;case "start":if(o.startAtElementId!==""){if(el.data("scrollableArea").has("#"+o.startAtElementId)){tempScrollPosition=$("#"+o.startAtElementId).position().left;el.data("scrollXPos",tempScrollPosition);return true;}}
return false;case "last":el.data("scrollXPos",(el.data("scrollableAreaWidth")-el.data("scrollWrapper").innerWidth()));return true;case "number":if(!(isNaN(element))){tempScrollPosition=el.data("scrollableArea").children(o.countOnlyClass).eq(element-1).position().left;el.data("scrollXPos",tempScrollPosition);return true;}
return false;case "id":if(element.length>0){if(el.data("scrollableArea").has("#"+element)){tempScrollPosition=$("#"+element).position().left;el.data("scrollXPos",tempScrollPosition);return true;}}
return false;default:return false;}},jumpToElement:function(jumpTo,element){var self=this,el=this.element;if(el.data("enabled")){if(self._setElementScrollPosition(jumpTo,element)){el.data("scrollWrapper").scrollLeft(el.data("scrollXPos"));self._showHideHotSpots();switch(jumpTo){case "first":self._trigger("jumpedToFirstElement");break;case "start":self._trigger("jumpedToStartElement");break;case "last":self._trigger("jumpedToLastElement");break;case "number":self._trigger("jumpedToElementNumber",null,{"elementNumber":element});break;case "id":self._trigger("jumpedToElementId",null,{"elementId":element});break;default:break;}}}},scrollToElement:function(scrollTo,element){var self=this,el=this.element,o=this.options,autoscrollingWasRunning=false;if(el.data("enabled")){if(self._setElementScrollPosition(scrollTo,element)){if(el.data("autoScrollingInterval")!==null){self.stopAutoScrolling();autoscrollingWasRunning=true;}
el.data("scrollWrapper").stop(true,false);el.data("scrollWrapper").animate({scrollLeft:el.data("scrollXPos")},{duration:o.scrollToAnimationDuration,easing:o.scrollToEasingFunction,complete:function(){if(autoscrollingWasRunning){self.startAutoScrolling();}
    self._showHideHotSpots();switch(scrollTo){case "first":self._trigger("scrolledToFirstElement");break;case "start":self._trigger("scrolledToStartElement");break;case "last":self._trigger("scrolledToLastElement");break;case "number":self._trigger("scrolledToElementNumber",null,{"elementNumber":element});break;case "id":self._trigger("scrolledToElementId",null,{"elementId":element});break;default:break;}}});}}},move:function(pixels){var self=this,el=this.element,o=this.options;el.data("scrollWrapper").stop(true,true);if((pixels<0&&el.data("scrollWrapper").scrollLeft()>0)||(pixels>0&&el.data("scrollableAreaWidth")>(el.data("scrollWrapper").innerWidth()+el.data("scrollWrapper").scrollLeft()))||o.manualContinuousScrolling){var scrollLength=el.data("scrollableArea").width()-el.data("scrollWrapper").width();var sOffset=el.data("scrollWrapper").scrollLeft()+pixels;if(sOffset<0){var forceSwapElementLeft=function(){el.data("swappedElement",el.data("scrollableArea").children(":last").detach());el.data("scrollableArea").prepend(el.data("swappedElement"));el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+el.data("swappedElement").outerWidth(true));};while(sOffset<0){forceSwapElementLeft();sOffset=el.data("scrollableArea").children(":first").outerWidth(true)+sOffset;}}else if(sOffset-scrollLength>0){var forceSwapElementRight=function(){el.data("swappedElement",el.data("scrollableArea").children(":first").detach());el.data("scrollableArea").append(el.data("swappedElement"));var wrapperLeft=el.data("scrollWrapper").scrollLeft();el.data("scrollWrapper").scrollLeft(wrapperLeft-el.data("swappedElement").outerWidth(true));};while(sOffset-scrollLength>0){forceSwapElementRight();sOffset=sOffset-el.data("scrollableArea").children(":last").outerWidth(true);}}
if(o.easingAfterMouseWheelScrolling){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()+pixels},{duration:o.easingAfterMouseWheelScrollingDuration,easing:o.easingAfterMouseWheelFunction,complete:function(){self._showHideHotSpots();if(o.manualContinuousScrolling){if(pixels>0){self._checkContinuousSwapRight();}else{self._checkContinuousSwapLeft();}}}});}else{el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+pixels);self._showHideHotSpots();if(o.manualContinuousScrolling){if(pixels>0){self._checkContinuousSwapRight();}else{self._checkContinuousSwapLeft();}}}}},getFlickrContent:function(content,manipulationMethod){var self=this,el=this.element;$.getJSON(content,function(data){var flickrImageSizes=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}];var loadedFlickrImages=[];var imageIdStringBuffer=[];var startingIndex;var numberOfFlickrItems=data.items.length;var loadedFlickrImagesCounter=0;if(el.data("scrollableAreaHeight")<=75){startingIndex=0;}else if(el.data("scrollableAreaHeight")<=100){startingIndex=1;}else if(el.data("scrollableAreaHeight")<=240){startingIndex=2;}else if(el.data("scrollableAreaHeight")<=500){startingIndex=3;}else if(el.data("scrollableAreaHeight")<=640){startingIndex=4;}else{startingIndex=5;}
$.each(data.items,function(index,item){loadFlickrImage(item,startingIndex);});function loadFlickrImage(item,sizeIndex){var path=item.media.m;var imgSrc=path.replace("_m",flickrImageSizes[sizeIndex].letter);var tempImg=$("<img />").attr("src",imgSrc);tempImg.load(function(){if(this.height<el.data("scrollableAreaHeight")){if((sizeIndex+1)<flickrImageSizes.length){loadFlickrImage(item,sizeIndex+1);}else{addImageToLoadedImages(this);}}else{addImageToLoadedImages(this);}
if(loadedFlickrImagesCounter===numberOfFlickrItems){switch(manipulationMethod){case "addFirst":el.data("scrollableArea").children(":first").before(loadedFlickrImages);break;case "addLast":el.data("scrollableArea").children(":last").after(loadedFlickrImages);break;default:el.data("scrollableArea").html(loadedFlickrImages);break;}
    self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedFlickrContent",null,{"addedElementIds":imageIdStringBuffer});}});}
function addImageToLoadedImages(imageObj){var widthScalingFactor=el.data("scrollableAreaHeight")/imageObj.height;var tempWidth=Math.round(imageObj.width*widthScalingFactor);var tempIdArr=$(imageObj).attr("src").split("/");var lastElemIndex=(tempIdArr.length-1);tempIdArr=tempIdArr[lastElemIndex].split(".");$(imageObj).attr("id",tempIdArr[0]);$(imageObj).css({"height":el.data("scrollableAreaHeight"),"width":tempWidth});imageIdStringBuffer.push(tempIdArr[0]);loadedFlickrImages.push(imageObj);loadedFlickrImagesCounter++;}});},getAjaxContent:function(content,manipulationMethod,filterTag){var self=this,el=this.element;$.ajaxSetup({cache:false});$.get(content,function(data){var filteredContent;if(filterTag!==undefined){if(filterTag.length>0){filteredContent=$("<div>").html(data).find(filterTag);}else{filteredContent=content;}}else{filteredContent=data;}
switch(manipulationMethod){case "addFirst":el.data("scrollableArea").children(":first").before(filteredContent);break;case "addLast":el.data("scrollableArea").children(":last").after(filteredContent);break;default:el.data("scrollableArea").html(filteredContent);break;}
self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedAjaxContent");});},getHtmlContent:function(content,manipulationMethod,filterTag){var self=this,el=this.element;var filteredContent;if(filterTag!==undefined){if(filterTag.length>0){filteredContent=$("<div>").html(content).find(filterTag);}else{filteredContent=content;}}else{filteredContent=content;}
switch(manipulationMethod){case "addFirst":el.data("scrollableArea").children(":first").before(filteredContent);break;case "addLast":el.data("scrollableArea").children(":last").after(filteredContent);break;default:el.data("scrollableArea").html(filteredContent);break;}
self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedHtmlContent");},recalculateScrollableArea:function(){var tempScrollableAreaWidth=0,foundStartAtElement=false,o=this.options,el=this.element;el.data("scrollableArea").children(o.countOnlyClass).each(function(){if((o.startAtElementId.length>0)&&(($(this).attr("id"))===o.startAtElementId)){el.data("startingPosition",tempScrollableAreaWidth);foundStartAtElement=true;}
tempScrollableAreaWidth=tempScrollableAreaWidth+$(this).outerWidth(true);});if(!(foundStartAtElement)){el.data("startAtElementId","");}
el.data("scrollableAreaWidth",tempScrollableAreaWidth);el.data("scrollableArea").width(el.data("scrollableAreaWidth"));el.data("scrollWrapper").scrollLeft(el.data("startingPosition"));el.data("scrollXPos",el.data("startingPosition"));},getScrollerOffset:function(){var el=this.element;return el.data("scrollWrapper").scrollLeft();},stopAutoScrolling:function(){var self=this,el=this.element;if(el.data("autoScrollingInterval")!==null){clearInterval(el.data("autoScrollingInterval"));el.data("autoscrollingWasRunning",true);el.data("autoScrollingInterval",null);self._showHideHotSpots();self._trigger("autoScrollingStopped");}},startAutoScrolling:function(){var self=this,el=this.element,o=this.options;if(el.data("enabled")){self._showHideHotSpots();clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null);self._trigger("autoScrollingStarted");el.data("autoScrollingInterval",setInterval(function(){if(!(el.data("visible"))||(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth()))){clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null);}else{el.data("previousScrollLeft",el.data("scrollWrapper").scrollLeft());switch(o.autoScrollingDirection){case "right":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+o.autoScrollingStep);if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){self._trigger("autoScrollingRightLimitReached");self.stopAutoScrolling();}
break;case "left":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-o.autoScrollingStep);if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){self._trigger("autoScrollingLeftLimitReached");self.stopAutoScrolling();}
break;case "backAndForth":if(el.data("pingPongDirection")==="right"){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+(o.autoScrollingStep));}else{el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-(o.autoScrollingStep));}
if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){if(el.data("pingPongDirection")==="right"){el.data("pingPongDirection","left");self._trigger("autoScrollingRightLimitReached");}else{el.data("pingPongDirection","right");self._trigger("autoScrollingLeftLimitReached");}}
break;case "endlessLoopRight":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+o.autoScrollingStep);self._checkContinuousSwapRight();break;case "endlessLoopLeft":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-o.autoScrollingStep);self._checkContinuousSwapLeft();break;default:break;}}},o.autoScrollingInterval));}},_checkContinuousSwapRight:function(){var el=this.element,o=this.options;if(el.data("getNextElementWidth")){if((o.startAtElementId.length>0)&&(el.data("startAtElementHasNotPassed"))){el.data("swapAt",$("#"+o.startAtElementId).outerWidth(true));el.data("startAtElementHasNotPassed",false);}else{el.data("swapAt",el.data("scrollableArea").children(":first").outerWidth(true));}
el.data("getNextElementWidth",false);}
if(el.data("swapAt")<=el.data("scrollWrapper").scrollLeft()){el.data("swappedElement",el.data("scrollableArea").children(":first").detach());el.data("scrollableArea").append(el.data("swappedElement"));var wrapperLeft=el.data("scrollWrapper").scrollLeft();el.data("scrollWrapper").scrollLeft(wrapperLeft-el.data("swappedElement").outerWidth(true));el.data("getNextElementWidth",true);}},_checkContinuousSwapLeft:function(){var el=this.element,o=this.options;if(el.data("getNextElementWidth")){if((o.startAtElementId.length>0)&&(el.data("startAtElementHasNotPassed"))){el.data("swapAt",$("#"+o.startAtElementId).outerWidth(true));el.data("startAtElementHasNotPassed",false);}else{el.data("swapAt",el.data("scrollableArea").children(":first").outerWidth(true));}
el.data("getNextElementWidth",false);}
if(el.data("scrollWrapper").scrollLeft()===0){el.data("swappedElement",el.data("scrollableArea").children(":last").detach());el.data("scrollableArea").prepend(el.data("swappedElement"));el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+el.data("swappedElement").outerWidth(true));el.data("getNextElementWidth",true);}},restoreOriginalElements:function(){var self=this,el=this.element;el.data("scrollableArea").html(el.data("originalElements"));self.recalculateScrollableArea();self.jumpToElement("first");},show:function(){var el=this.element;el.data("visible",true);el.show();},hide:function(){var el=this.element;el.data("visible",false);el.hide();},enable:function(){var el=this.element;if(this.options.touchScrolling){el.data("scrollWrapper").kinetic('attach');}
el.data("enabled",true);},disable:function(){var self=this,el=this.element;self.stopAutoScrolling();clearInterval(el.data("rightScrollingInterval"));clearInterval(el.data("leftScrollingInterval"));clearInterval(el.data("hideHotSpotBackgroundsInterval"));if(this.options.touchScrolling){el.data("scrollWrapper").kinetic('detach');}
el.data("enabled",false);},destroy:function(){var self=this,el=this.element;self.stopAutoScrolling();clearInterval(el.data("rightScrollingInterval"));clearInterval(el.data("leftScrollingInterval"));clearInterval(el.data("hideHotSpotBackgroundsInterval"));el.data("scrollingHotSpotRight").unbind("mouseover");el.data("scrollingHotSpotRight").unbind("mouseout");el.data("scrollingHotSpotRight").unbind("mousedown");el.data("scrollingHotSpotLeft").unbind("mouseover");el.data("scrollingHotSpotLeft").unbind("mouseout");el.data("scrollingHotSpotLeft").unbind("mousedown");el.unbind("mousenter");el.unbind("mouseleave");el.data("scrollingHotSpotRight").remove();el.data("scrollingHotSpotLeft").remove();el.data("scrollableArea").remove();el.data("scrollWrapper").remove();el.html(el.data("originalElements"));$.Widget.prototype.destroy.apply(this,arguments);}});})(window.$);/*! Hammer.JS - v2.0.8 - 2016-04-23
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");/*!
* sly 1.6.1 - 8th Aug 2015
* https://github.com/darsain/sly
*
* Licensed under the MIT license.
* http://opensource.org/licenses/MIT
*/;(function($,w,undefined){'use strict';var pluginName='sly';var className='Sly';var namespace=pluginName;var cAF=w.cancelAnimationFrame||w.cancelRequestAnimationFrame;var rAF=w.requestAnimationFrame;var transform,gpuAcceleration;var $doc=$(document);var dragInitEvents='touchstart.'+namespace+' mousedown.'+namespace;var dragMouseEvents='mousemove.'+namespace+' mouseup.'+namespace;var dragTouchEvents='touchmove.'+namespace+' touchend.'+namespace;var wheelEvent=(document.implementation.hasFeature('Event.wheel','3.0')?'wheel.':'mousewheel.')+namespace;var clickEvent='click.'+namespace;var mouseDownEvent='mousedown.'+namespace;var interactiveElements=['INPUT','SELECT','BUTTON','TEXTAREA'];var tmpArray=[];var time;var abs=Math.abs;var sqrt=Math.sqrt;var pow=Math.pow;var round=Math.round;var max=Math.max;var min=Math.min;var lastGlobalWheel=0;$doc.on(wheelEvent,function(event){var sly=event.originalEvent[namespace];var time=+new Date();if(!sly||sly.options.scrollHijack<time-lastGlobalWheel)lastGlobalWheel=time;});function Sly(frame,options,callbackMap){if(!(this instanceof Sly))return new Sly(frame,options,callbackMap);var o=$.extend({},Sly.defaults,options);var self=this;var parallax=isNumber(frame);var $frame=$(frame);var $slidee=o.slidee?$(o.slidee).eq(0):$frame.children().eq(0);var frameSize=0;var slideeSize=0;var pos={start:0,center:0,end:0,cur:0,dest:0};var $sb=$(o.scrollBar).eq(0);var $handle=$sb.children().eq(0);var sbSize=0;var handleSize=0;var hPos={start:0,end:0,cur:0};var $pb=$(o.pagesBar);var $pages=0;var pages=[];var $items=0;var items=[];var rel={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0};var frameStyles=new StyleRestorer($frame[0]);var slideeStyles=new StyleRestorer($slidee[0]);var sbStyles=new StyleRestorer($sb[0]);var handleStyles=new StyleRestorer($handle[0]);var basicNav=o.itemNav==='basic';var forceCenteredNav=o.itemNav==='forceCentered';var centeredNav=o.itemNav==='centered'||forceCenteredNav;var itemNav=!parallax&&(basicNav||centeredNav||forceCenteredNav);var $scrollSource=o.scrollSource?$(o.scrollSource):$frame;var $dragSource=o.dragSource?$(o.dragSource):$frame;var $forwardButton=$(o.forward);var $backwardButton=$(o.backward);var $prevButton=$(o.prev);var $nextButton=$(o.next);var $prevPageButton=$(o.prevPage);var $nextPageButton=$(o.nextPage);var callbacks={};var last={};var animation={};var move={};var dragging={released:1};var scrolling={last:0,delta:0,resetTime:200};var renderID=0;var historyID=0;var cycleID=0;var continuousID=0;var i,l;if(!parallax){frame=$frame[0];}
self.initialized=0;self.frame=frame;self.slidee=$slidee[0];self.pos=pos;self.rel=rel;self.items=items;self.pages=pages;self.isPaused=0;self.options=o;self.dragging=dragging;function load(isInit){var lastItemsCount=0;var lastPagesCount=pages.length;pos.old=$.extend({},pos);frameSize=parallax?0:$frame[o.horizontal?'width':'height']();sbSize=$sb[o.horizontal?'width':'height']();slideeSize=parallax?frame:$slidee[o.horizontal?'outerWidth':'outerHeight']();pages.length=0;pos.start=0;pos.end=max(slideeSize-frameSize,0);if(itemNav){lastItemsCount=items.length;$items=$slidee.children(o.itemSelector);items.length=0;var paddingStart=getPx($slidee,o.horizontal?'paddingLeft':'paddingTop');var paddingEnd=getPx($slidee,o.horizontal?'paddingRight':'paddingBottom');var borderBox=$($items).css('boxSizing')==='border-box';var areFloated=$items.css('float')!=='none';var ignoredMargin=0;var lastItemIndex=$items.length-1;var lastItem;slideeSize=0;$items.each(function(i,element){var $item=$(element);var rect=element.getBoundingClientRect();var itemSize=round(o.horizontal?rect.width||rect.right-rect.left:rect.height||rect.bottom-rect.top);var itemMarginStart=getPx($item,o.horizontal?'marginLeft':'marginTop');var itemMarginEnd=getPx($item,o.horizontal?'marginRight':'marginBottom');var itemSizeFull=itemSize+itemMarginStart+itemMarginEnd;var singleSpaced=!itemMarginStart||!itemMarginEnd;var item={};item.el=element;item.size=singleSpaced?itemSize:itemSizeFull;item.half=item.size/2;item.start=slideeSize+(singleSpaced?itemMarginStart:0);item.center=item.start-round(frameSize/2-item.size/2);item.end=item.start-frameSize+item.size;if(!i){slideeSize+=paddingStart;}
slideeSize+=itemSizeFull;if(!o.horizontal&&!areFloated){if(itemMarginEnd&&itemMarginStart&&i>0){slideeSize-=min(itemMarginStart,itemMarginEnd);}}
if(i===lastItemIndex){item.end+=paddingEnd;slideeSize+=paddingEnd;ignoredMargin=singleSpaced?itemMarginEnd:0;}
items.push(item);lastItem=item;});$slidee[0].style[o.horizontal?'width':'height']=(borderBox?slideeSize:slideeSize-paddingStart-paddingEnd)+'px';slideeSize-=ignoredMargin;if(items.length){pos.start=items[0][forceCenteredNav?'center':'start'];pos.end=forceCenteredNav?lastItem.center:frameSize<slideeSize?lastItem.end:pos.start;}else{pos.start=pos.end=0;}}
pos.center=round(pos.end/2+pos.start/2);updateRelatives();if($handle.length&&sbSize>0){if(o.dynamicHandle){handleSize=pos.start===pos.end?sbSize:round(sbSize*frameSize/slideeSize);handleSize=within(handleSize,o.minHandleSize,sbSize);$handle[0].style[o.horizontal?'width':'height']=handleSize+'px';}else{handleSize=$handle[o.horizontal?'outerWidth':'outerHeight']();}
hPos.end=sbSize-handleSize;if(!renderID){syncScrollbar();}}
if(!parallax&&frameSize>0){var tempPagePos=pos.start;var pagesHtml='';if(itemNav){$.each(items,function(i,item){if(forceCenteredNav){pages.push(item.center);}else if(item.start+item.size>tempPagePos&&tempPagePos<=pos.end){tempPagePos=item.start;pages.push(tempPagePos);tempPagePos+=frameSize;if(tempPagePos>pos.end&&tempPagePos<pos.end+frameSize){pages.push(pos.end);}}});}else{while(tempPagePos-frameSize<pos.end){pages.push(tempPagePos);tempPagePos+=frameSize;}}
if($pb[0]&&lastPagesCount!==pages.length){for(var i=0;i<pages.length;i++){pagesHtml+=o.pageBuilder.call(self,i);}
    $pages=$pb.html(pagesHtml).children();$pages.eq(rel.activePage).addClass(o.activeClass);}}
rel.slideeSize=slideeSize;rel.frameSize=frameSize;rel.sbSize=sbSize;rel.handleSize=handleSize;if(itemNav){if(isInit&&o.startAt!=null){activate(o.startAt);self[centeredNav?'toCenter':'toStart'](o.startAt);}
var activeItem=items[rel.activeItem];slideTo(centeredNav&&activeItem?activeItem.center:within(pos.dest,pos.start,pos.end));}else{if(isInit){if(o.startAt!=null)slideTo(o.startAt,1);}else{slideTo(within(pos.dest,pos.start,pos.end));}}
trigger('load');}
self.reload=function(){load();};function slideTo(newPos,immediate,dontAlign){if(itemNav&&dragging.released&&!dontAlign){var tempRel=getRelatives(newPos);var isNotBordering=newPos>pos.start&&newPos<pos.end;if(centeredNav){if(isNotBordering){newPos=items[tempRel.centerItem].center;}
if(forceCenteredNav&&o.activateMiddle){activate(tempRel.centerItem);}}else if(isNotBordering){newPos=items[tempRel.firstItem].start;}}
if(dragging.init&&dragging.slidee&&o.elasticBounds){if(newPos>pos.end){newPos=pos.end+(newPos-pos.end)/6;}else if(newPos<pos.start){newPos=pos.start+(newPos-pos.start)/6;}}else{newPos=within(newPos,pos.start,pos.end);}
animation.start=+new Date();animation.time=0;animation.from=pos.cur;animation.to=newPos;animation.delta=newPos-pos.cur;animation.tweesing=dragging.tweese||dragging.init&&!dragging.slidee;animation.immediate=!animation.tweesing&&(immediate||dragging.init&&dragging.slidee||!o.speed);dragging.tweese=0;if(newPos!==pos.dest){pos.dest=newPos;trigger('change');if(!renderID){render();}}
resetCycle();updateRelatives();updateButtonsState();syncPagesbar();}
function render(){if(!self.initialized){return;}
if(!renderID){renderID=rAF(render);if(dragging.released){trigger('moveStart');}
return;}
if(animation.immediate){pos.cur=animation.to;}
else if(animation.tweesing){animation.tweeseDelta=animation.to-pos.cur;if(abs(animation.tweeseDelta)<0.1){pos.cur=animation.to;}else{pos.cur+=animation.tweeseDelta*(dragging.released?o.swingSpeed:o.syncSpeed);}}
else{animation.time=min(+new Date()-animation.start,o.speed);pos.cur=animation.from+animation.delta*$.easing[o.easing](animation.time/o.speed,animation.time,0,1,o.speed);}
if(animation.to===pos.cur){pos.cur=animation.to;dragging.tweese=renderID=0;}else{renderID=rAF(render);}
trigger('move');if(!parallax){if(transform){$slidee[0].style[transform]=gpuAcceleration+(o.horizontal?'translateX':'translateY')+'('+(-pos.cur)+'px)';}else{$slidee[0].style[o.horizontal?'left':'top']=-round(pos.cur)+'px';}}
if(!renderID&&dragging.released){trigger('moveEnd');}
syncScrollbar();}
function syncScrollbar(){if($handle.length){hPos.cur=pos.start===pos.end?0:(((dragging.init&&!dragging.slidee)?pos.dest:pos.cur)-pos.start)/(pos.end-pos.start)*hPos.end;hPos.cur=within(round(hPos.cur),hPos.start,hPos.end);if(last.hPos!==hPos.cur){last.hPos=hPos.cur;if(transform){$handle[0].style[transform]=gpuAcceleration+(o.horizontal?'translateX':'translateY')+'('+hPos.cur+'px)';}else{$handle[0].style[o.horizontal?'left':'top']=hPos.cur+'px';}}}}
function syncPagesbar(){if($pages[0]&&last.page!==rel.activePage){last.page=rel.activePage;$pages.removeClass(o.activeClass).eq(rel.activePage).addClass(o.activeClass);trigger('activePage',last.page);}}
self.getPos=function(item){if(itemNav){var index=getIndex(item);return index!==-1?items[index]:false;}else{var $item=$slidee.find(item).eq(0);if($item[0]){var offset=o.horizontal?$item.offset().left-$slidee.offset().left:$item.offset().top-$slidee.offset().top;var size=$item[o.horizontal?'outerWidth':'outerHeight']();return{start:offset,center:offset-frameSize/2+size/2,end:offset-frameSize+size,size:size};}else{return false;}}};self.moveBy=function(speed){move.speed=speed;if(dragging.init||!move.speed||pos.cur===(move.speed>0?pos.end:pos.start)){return;}
move.lastTime=+new Date();move.startPos=pos.cur;continuousInit('button');dragging.init=1;trigger('moveStart');cAF(continuousID);moveLoop();};function moveLoop(){if(!move.speed||pos.cur===(move.speed>0?pos.end:pos.start)){self.stop();}
continuousID=dragging.init?rAF(moveLoop):0;move.now=+new Date();move.pos=pos.cur+(move.now-move.lastTime)/1000*move.speed;slideTo(dragging.init?move.pos:round(move.pos));if(!dragging.init&&pos.cur===pos.dest){trigger('moveEnd');}
move.lastTime=move.now;}
self.stop=function(){if(dragging.source==='button'){dragging.init=0;dragging.released=1;}};self.prev=function(){self.activate(rel.activeItem==null?0:rel.activeItem-1);};self.next=function(){self.activate(rel.activeItem==null?0:rel.activeItem+1);};self.prevPage=function(){self.activatePage(rel.activePage-1);};self.nextPage=function(){self.activatePage(rel.activePage+1);};self.slideBy=function(delta,immediate){if(!delta){return;}
if(itemNav){self[centeredNav?'toCenter':'toStart'](within((centeredNav?rel.centerItem:rel.firstItem)+o.scrollBy*delta,0,items.length));}else{slideTo(pos.dest+delta,immediate);}};self.slideTo=function(pos,immediate){slideTo(pos,immediate);};function to(location,item,immediate){if(type(item)==='boolean'){immediate=item;item=undefined;}
if(item===undefined){slideTo(pos[location],immediate);}else{if(centeredNav&&location!=='center'){return;}
var itemPos=self.getPos(item);if(itemPos){slideTo(itemPos[location],immediate,!centeredNav);}}}
self.toStart=function(item,immediate){to('start',item,immediate);};self.toEnd=function(item,immediate){to('end',item,immediate);};self.toCenter=function(item,immediate){to('center',item,immediate);};function getIndex(item){return item!=null?isNumber(item)?item>=0&&item<items.length?item:-1:$items.index(item):-1;}
self.getIndex=getIndex;function getRelativeIndex(item){return getIndex(isNumber(item)&&item<0?item+items.length:item);}
function activate(item,force){var index=getIndex(item);if(!itemNav||index<0){return false;}
if(last.active!==index||force){$items.eq(rel.activeItem).removeClass(o.activeClass);$items.eq(index).addClass(o.activeClass);last.active=rel.activeItem=index;updateButtonsState();trigger('active',index);}
return index;}
self.activate=function(item,immediate){var index=activate(item);if(o.smart&&index!==false){if(centeredNav){self.toCenter(index,immediate);}else if(index>=rel.lastItem){self.toStart(index,immediate);}else if(index<=rel.firstItem){self.toEnd(index,immediate);}else{resetCycle();}}};self.activatePage=function(index,immediate){if(isNumber(index)){slideTo(pages[within(index,0,pages.length-1)],immediate);}};function getRelatives(slideePos){slideePos=within(isNumber(slideePos)?slideePos:pos.dest,pos.start,pos.end);var relatives={};var centerOffset=forceCenteredNav?0:frameSize/2;if(!parallax){for(var p=0,pl=pages.length;p<pl;p++){if(slideePos>=pos.end||p===pages.length-1){relatives.activePage=pages.length-1;break;}
if(slideePos<=pages[p]+centerOffset){relatives.activePage=p;break;}}}
if(itemNav){var first=false;var last=false;var center=false;for(var i=0,il=items.length;i<il;i++){if(first===false&&slideePos<=items[i].start+items[i].half){first=i;}
if(center===false&&slideePos<=items[i].center+items[i].half){center=i;}
if(i===il-1||slideePos<=items[i].end+items[i].half){last=i;break;}}
relatives.firstItem=isNumber(first)?first:0;relatives.centerItem=isNumber(center)?center:relatives.firstItem;relatives.lastItem=isNumber(last)?last:relatives.centerItem;}
return relatives;}
function updateRelatives(newPos){$.extend(rel,getRelatives(newPos));}
function updateButtonsState(){var isStart=pos.dest<=pos.start;var isEnd=pos.dest>=pos.end;var slideePosState=(isStart?1:0)|(isEnd?2:0);if(last.slideePosState!==slideePosState){last.slideePosState=slideePosState;if($prevPageButton.is('button,input')){$prevPageButton.prop('disabled',isStart);}
if($nextPageButton.is('button,input')){$nextPageButton.prop('disabled',isEnd);}
$prevPageButton.add($backwardButton)[isStart?'addClass':'removeClass'](o.disabledClass);$nextPageButton.add($forwardButton)[isEnd?'addClass':'removeClass'](o.disabledClass);}
if(last.fwdbwdState!==slideePosState&&dragging.released){last.fwdbwdState=slideePosState;if($backwardButton.is('button,input')){$backwardButton.prop('disabled',isStart);}
if($forwardButton.is('button,input')){$forwardButton.prop('disabled',isEnd);}}
if(itemNav&&rel.activeItem!=null){var isFirst=rel.activeItem===0;var isLast=rel.activeItem>=items.length-1;var itemsButtonState=(isFirst?1:0)|(isLast?2:0);if(last.itemsButtonState!==itemsButtonState){last.itemsButtonState=itemsButtonState;if($prevButton.is('button,input')){$prevButton.prop('disabled',isFirst);}
if($nextButton.is('button,input')){$nextButton.prop('disabled',isLast);}
$prevButton[isFirst?'addClass':'removeClass'](o.disabledClass);$nextButton[isLast?'addClass':'removeClass'](o.disabledClass);}}}
self.resume=function(priority){if(!o.cycleBy||!o.cycleInterval||o.cycleBy==='items'&&(!items[0]||rel.activeItem==null)||priority<self.isPaused){return;}
self.isPaused=0;if(cycleID){cycleID=clearTimeout(cycleID);}else{trigger('resume');}
cycleID=setTimeout(function(){trigger('cycle');switch(o.cycleBy){case 'items':self.activate(rel.activeItem>=items.length-1?0:rel.activeItem+1);break;case 'pages':self.activatePage(rel.activePage>=pages.length-1?0:rel.activePage+1);break;}},o.cycleInterval);};self.pause=function(priority){if(priority<self.isPaused){return;}
self.isPaused=priority||100;if(cycleID){cycleID=clearTimeout(cycleID);trigger('pause');}};self.toggle=function(){self[cycleID?'pause':'resume']();};self.set=function(name,value){if($.isPlainObject(name)){$.extend(o,name);}else if(o.hasOwnProperty(name)){o[name]=value;}};self.add=function(element,index){var $element=$(element);if(itemNav){if(index==null||!items[0]||index>=items.length){$element.appendTo($slidee);}else if(items.length){$element.insertBefore(items[index].el);}
if(rel.activeItem!=null&&index<=rel.activeItem){last.active=rel.activeItem+=$element.length;}}else{$slidee.append($element);}
load();};self.remove=function(element){if(itemNav){var index=getRelativeIndex(element);if(index>-1){$items.eq(index).remove();var reactivate=index===rel.activeItem;if(rel.activeItem!=null&&index<rel.activeItem){last.active=--rel.activeItem;}
load();if(reactivate){last.active=null;self.activate(rel.activeItem);}}}else{$(element).remove();load();}};function moveItem(item,position,after){item=getRelativeIndex(item);position=getRelativeIndex(position);if(item>-1&&position>-1&&item!==position&&(!after||position!==item-1)&&(after||position!==item+1)){$items.eq(item)[after?'insertAfter':'insertBefore'](items[position].el);var shiftStart=item<position?item:(after?position:position-1);var shiftEnd=item>position?item:(after?position+1:position);var shiftsUp=item>position;if(rel.activeItem!=null){if(item===rel.activeItem){last.active=rel.activeItem=after?(shiftsUp?position+1:position):(shiftsUp?position:position-1);}else if(rel.activeItem>shiftStart&&rel.activeItem<shiftEnd){last.active=rel.activeItem+=shiftsUp?1:-1;}}
load();}}
self.moveAfter=function(item,position){moveItem(item,position,1);};self.moveBefore=function(item,position){moveItem(item,position);};self.on=function(name,fn){if(type(name)==='object'){for(var key in name){if(name.hasOwnProperty(key)){self.on(key,name[key]);}}}else if(type(fn)==='function'){var names=name.split(' ');for(var n=0,nl=names.length;n<nl;n++){callbacks[names[n]]=callbacks[names[n]]||[];if(callbackIndex(names[n],fn)===-1){callbacks[names[n]].push(fn);}}}else if(type(fn)==='array'){for(var f=0,fl=fn.length;f<fl;f++){self.on(name,fn[f]);}}};self.one=function(name,fn){function proxy(){fn.apply(self,arguments);self.off(name,proxy);}
self.on(name,proxy);};self.off=function(name,fn){if(fn instanceof Array){for(var f=0,fl=fn.length;f<fl;f++){self.off(name,fn[f]);}}else{var names=name.split(' ');for(var n=0,nl=names.length;n<nl;n++){callbacks[names[n]]=callbacks[names[n]]||[];if(fn==null){callbacks[names[n]].length=0;}else{var index=callbackIndex(names[n],fn);if(index!==-1){callbacks[names[n]].splice(index,1);}}}}};function callbackIndex(name,fn){for(var i=0,l=callbacks[name].length;i<l;i++){if(callbacks[name][i]===fn){return i;}}
return-1;}
function resetCycle(){if(dragging.released&&!self.isPaused){self.resume();}}
function handleToSlidee(handlePos){return round(within(handlePos,hPos.start,hPos.end)/hPos.end*(pos.end-pos.start))+pos.start;}
function draggingHistoryTick(){dragging.history[0]=dragging.history[1];dragging.history[1]=dragging.history[2];dragging.history[2]=dragging.history[3];dragging.history[3]=dragging.delta;}
function continuousInit(source){dragging.released=0;dragging.source=source;dragging.slidee=source==='slidee';}
function dragInit(event){var isTouch=event.type==='touchstart';var source=event.data.source;var isSlidee=source==='slidee';if(dragging.init||!isTouch&&isInteractive(event.target)){return;}
if(source==='handle'&&(!o.dragHandle||hPos.start===hPos.end)){return;}
if(isSlidee&&!(isTouch?o.touchDragging:o.mouseDragging&&event.which<2)){return;}
if(!isTouch){stopDefault(event);}
continuousInit(source);dragging.init=0;dragging.$source=$(event.target);dragging.touch=isTouch;dragging.pointer=isTouch?event.originalEvent.touches[0]:event;dragging.initX=dragging.pointer.pageX;dragging.initY=dragging.pointer.pageY;dragging.initPos=isSlidee?pos.cur:hPos.cur;dragging.start=+new Date();dragging.time=0;dragging.path=0;dragging.delta=0;dragging.locked=0;dragging.history=[0,0,0,0];dragging.pathToLock=isSlidee?isTouch?30:10:0;$doc.on(isTouch?dragTouchEvents:dragMouseEvents,dragHandler);self.pause(1);(isSlidee?$slidee:$handle).addClass(o.draggedClass);trigger('moveStart');if(isSlidee){historyID=setInterval(draggingHistoryTick,10);}}
function dragHandler(event){dragging.released=event.type==='mouseup'||event.type==='touchend';dragging.pointer=dragging.touch?event.originalEvent[dragging.released?'changedTouches':'touches'][0]:event;dragging.pathX=dragging.pointer.pageX-dragging.initX;dragging.pathY=dragging.pointer.pageY-dragging.initY;dragging.path=sqrt(pow(dragging.pathX,2)+pow(dragging.pathY,2));dragging.delta=o.horizontal?dragging.pathX:dragging.pathY;if(!dragging.released&&dragging.path<1)return;if(!dragging.init){if(dragging.path<o.dragThreshold){return dragging.released?dragEnd():undefined;}
else{if(o.horizontal?abs(dragging.pathX)>abs(dragging.pathY):abs(dragging.pathX)<abs(dragging.pathY)){dragging.init=1;}else{return dragEnd();}}}
stopDefault(event);if(!dragging.locked&&dragging.path>dragging.pathToLock&&dragging.slidee){dragging.locked=1;dragging.$source.on(clickEvent,disableOneEvent);}
if(dragging.released){dragEnd();if(o.releaseSwing&&dragging.slidee){dragging.swing=(dragging.delta-dragging.history[0])/40*300;dragging.delta+=dragging.swing;dragging.tweese=abs(dragging.swing)>10;}}
slideTo(dragging.slidee?round(dragging.initPos-dragging.delta):handleToSlidee(dragging.initPos+dragging.delta));}
function dragEnd(){clearInterval(historyID);dragging.released=true;$doc.off(dragging.touch?dragTouchEvents:dragMouseEvents,dragHandler);(dragging.slidee?$slidee:$handle).removeClass(o.draggedClass);setTimeout(function(){dragging.$source.off(clickEvent,disableOneEvent);});if(pos.cur===pos.dest&&dragging.init){trigger('moveEnd');}
self.resume(1);dragging.init=0;}
function isInteractive(element){return~$.inArray(element.nodeName,interactiveElements)||$(element).is(o.interactive);}
function movementReleaseHandler(){self.stop();$doc.off('mouseup',movementReleaseHandler);}
function buttonsHandler(event){stopDefault(event);switch(this){case $forwardButton[0]:case $backwardButton[0]:self.moveBy($forwardButton.is(this)?o.moveBy:-o.moveBy);$doc.on('mouseup',movementReleaseHandler);break;case $prevButton[0]:self.prev();break;case $nextButton[0]:self.next();break;case $prevPageButton[0]:self.prevPage();break;case $nextPageButton[0]:self.nextPage();break;}}
function normalizeWheelDelta(event){scrolling.curDelta=((o.horizontal?event.deltaY||event.deltaX:event.deltaY)||-event.wheelDelta);scrolling.curDelta/=event.deltaMode===1?3:100;if(!itemNav){return scrolling.curDelta;}
time=+new Date();if(scrolling.last<time-scrolling.resetTime){scrolling.delta=0;}
scrolling.last=time;scrolling.delta+=scrolling.curDelta;if(abs(scrolling.delta)<1){scrolling.finalDelta=0;}else{scrolling.finalDelta=round(scrolling.delta/1);scrolling.delta%=1;}
return scrolling.finalDelta;}
function scrollHandler(event){event.originalEvent[namespace]=self;var time=+new Date();if(lastGlobalWheel+o.scrollHijack>time&&$scrollSource[0]!==document&&$scrollSource[0]!==window){lastGlobalWheel=time;return;}
if(!o.scrollBy||pos.start===pos.end){return;}
var delta=normalizeWheelDelta(event.originalEvent);if(o.scrollTrap||delta>0&&pos.dest<pos.end||delta<0&&pos.dest>pos.start){stopDefault(event,1);}
self.slideBy(o.scrollBy*delta);}
function scrollbarHandler(event){if(o.clickBar&&event.target===$sb[0]){stopDefault(event);slideTo(handleToSlidee((o.horizontal?event.pageX-$sb.offset().left:event.pageY-$sb.offset().top)-handleSize/2));}}
function keyboardHandler(event){if(!o.keyboardNavBy){return;}
switch(event.which){case o.horizontal?37:38:stopDefault(event);self[o.keyboardNavBy==='pages'?'prevPage':'prev']();break;case o.horizontal?39:40:stopDefault(event);self[o.keyboardNavBy==='pages'?'nextPage':'next']();break;}}
function activateHandler(event){if(isInteractive(this)){event.originalEvent[namespace+'ignore']=true;return;}
if(this.parentNode!==$slidee[0]||event.originalEvent[namespace+'ignore'])return;self.activate(this);}
function activatePageHandler(){if(this.parentNode===$pb[0]){self.activatePage($pages.index(this));}}
function pauseOnHoverHandler(event){if(o.pauseOnHover){self[event.type==='mouseenter'?'pause':'resume'](2);}}
function trigger(name,arg1){if(callbacks[name]){l=callbacks[name].length;tmpArray.length=0;for(i=0;i<l;i++){tmpArray.push(callbacks[name][i]);}
for(i=0;i<l;i++){tmpArray[i].call(self,name,arg1);}}}
self.destroy=function(){Sly.removeInstance(frame);$scrollSource.add($handle).add($sb).add($pb).add($forwardButton).add($backwardButton).add($prevButton).add($nextButton).add($prevPageButton).add($nextPageButton).off('.'+namespace);$doc.off('keydown',keyboardHandler);$prevButton.add($nextButton).add($prevPageButton).add($nextPageButton).removeClass(o.disabledClass);if($items&&rel.activeItem!=null){$items.eq(rel.activeItem).removeClass(o.activeClass);}
$pb.empty();if(!parallax){$frame.off('.'+namespace);frameStyles.restore();slideeStyles.restore();sbStyles.restore();handleStyles.restore();$.removeData(frame,namespace);}
items.length=pages.length=0;last={};self.initialized=0;return self;};self.init=function(){if(self.initialized){return;}
if(Sly.getInstance(frame))throw new Error('There is already a Sly instance on this element');Sly.storeInstance(frame,self);self.on(callbackMap);var holderProps=['overflow','position'];var movableProps=['position','webkitTransform','msTransform','transform','left','top','width','height'];frameStyles.save.apply(frameStyles,holderProps);sbStyles.save.apply(sbStyles,holderProps);slideeStyles.save.apply(slideeStyles,movableProps);handleStyles.save.apply(handleStyles,movableProps);var $movables=$handle;if(!parallax){$movables=$movables.add($slidee);$frame.css('overflow','hidden');if(!transform&&$frame.css('position')==='static'){$frame.css('position','relative');}}
if(transform){if(gpuAcceleration){$movables.css(transform,gpuAcceleration);}}else{if($sb.css('position')==='static'){$sb.css('position','relative');}
$movables.css({position:'absolute'});}
if(o.forward){$forwardButton.on(mouseDownEvent,buttonsHandler);}
if(o.backward){$backwardButton.on(mouseDownEvent,buttonsHandler);}
if(o.prev){$prevButton.on(clickEvent,buttonsHandler);}
if(o.next){$nextButton.on(clickEvent,buttonsHandler);}
if(o.prevPage){$prevPageButton.on(clickEvent,buttonsHandler);}
if(o.nextPage){$nextPageButton.on(clickEvent,buttonsHandler);}
$scrollSource.on(wheelEvent,scrollHandler);if($sb[0]){$sb.on(clickEvent,scrollbarHandler);}
if(itemNav&&o.activateOn){$frame.on(o.activateOn+'.'+namespace,'*',activateHandler);}
if($pb[0]&&o.activatePageOn){$pb.on(o.activatePageOn+'.'+namespace,'*',activatePageHandler);}
$dragSource.on(dragInitEvents,{source:'slidee'},dragInit);if($handle){$handle.on(dragInitEvents,{source:'handle'},dragInit);}
$doc.on('keydown',keyboardHandler);if(!parallax){$frame.on('mouseenter.'+namespace+' mouseleave.'+namespace,pauseOnHoverHandler);$frame.on('scroll.'+namespace,resetScroll);}
self.initialized=1;load(true);if(o.cycleBy&&!parallax){self[o.startPaused?'pause':'resume']();}
return self;};}
Sly.getInstance=function(element){return $.data(element,namespace);};Sly.storeInstance=function(element,sly){return $.data(element,namespace,sly);};Sly.removeInstance=function(element){return $.removeData(element,namespace);};function type(value){if(value==null){return String(value);}
if(typeof value==='object'||typeof value==='function'){return Object.prototype.toString.call(value).match(/\s([a-z]+)/i)[1].toLowerCase()||'object';}
return typeof value;}
function stopDefault(event,noBubbles){event.preventDefault();if(noBubbles){event.stopPropagation();}}
function disableOneEvent(event){stopDefault(event,1);$(this).off(event.type,disableOneEvent);}
function resetScroll(){this.scrollLeft=0;this.scrollTop=0;}
function isNumber(value){return!isNaN(parseFloat(value))&&isFinite(value);}
function getPx($item,property){return 0|round(String($item.css(property)).replace(/[^\-0-9.]/g,''));}
function within(number,min,max){return number<min?min:number>max?max:number;}
function StyleRestorer(element){var self={};self.style={};self.save=function(){if(!element||!element.nodeType)return;for(var i=0;i<arguments.length;i++){self.style[arguments[i]]=element.style[arguments[i]];}
return self;};self.restore=function(){if(!element||!element.nodeType)return;for(var prop in self.style){if(self.style.hasOwnProperty(prop))element.style[prop]=self.style[prop];}
return self;};return self;}
(function(w){rAF=w.requestAnimationFrame||w.webkitRequestAnimationFrame||fallback;var prev=new Date().getTime();function fallback(fn){var curr=new Date().getTime();var ms=Math.max(0,16-(curr-prev));var req=setTimeout(fn,ms);prev=curr;return req;}
var cancel=w.cancelAnimationFrame||w.webkitCancelAnimationFrame||w.clearTimeout;cAF=function(id){cancel.call(w,id);};}(window));(function(){var prefixes=['','Webkit','Moz','ms','O'];var el=document.createElement('div');function testProp(prop){for(var p=0,pl=prefixes.length;p<pl;p++){var prefixedProp=prefixes[p]?prefixes[p]+prop.charAt(0).toUpperCase()+prop.slice(1):prop;if(el.style[prefixedProp]!=null){return prefixedProp;}}}
transform=testProp('transform');gpuAcceleration=testProp('perspective')?'translateZ(0) ':'';}());w[className]=Sly;$.fn[pluginName]=function(options,callbackMap){var method,methodArgs;if(!$.isPlainObject(options)){if(type(options)==='string'||options===false){method=options===false?'destroy':options;methodArgs=Array.prototype.slice.call(arguments,1);}
options={};}
return this.each(function(i,element){var plugin=Sly.getInstance(element);if(!plugin&&!method){plugin=new Sly(element,options,callbackMap).init();}else if(plugin&&method){if(plugin[method]){plugin[method].apply(plugin,methodArgs);}}});};Sly.defaults={slidee:null,horizontal:false,itemNav:null,itemSelector:null,smart:false,activateOn:null,activateMiddle:false,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:false,dragSource:null,mouseDragging:false,touchDragging:false,releaseSwing:false,swingSpeed:0.2,elasticBounds:false,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:false,dynamicHandle:false,minHandleSize:50,clickBar:false,syncSpeed:0.5,pagesBar:null,activatePageOn:null,pageBuilder:function(index){return '<li>'+(index+1)+'</li>';},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5000,pauseOnHover:false,startPaused:false,moveBy:300,speed:0,easing:'swing',startAt:null,keyboardNavBy:null,draggedClass:'dragged',activeClass:'active',disabledClass:'disabled'};}(Cog.jQuery(),window));'use strict';Array.prototype.find=Array.prototype.find||function(callback){if(this===null){throw new TypeError('Array.prototype.find called on null or undefined');}else if(typeof callback!=='function'){throw new TypeError('callback must be a function');}
var list=Object(this);var length=list.length>>>0;var thisArg=arguments[1];for(var i=0;i<length;i++){var element=list[i];if(callback.call(thisArg,element,i,list)){return element;}}};function polyfill(){var CLASS_NAME='focus-within';function computeEventPath(node){var path=[];var parent=null;while((parent=node.parentNode||node.host||node.defaultView)){path.push(parent);node=parent;}
return path;}
function addClass(value){return function(el){var attributes=(typeof el.getAttribute!=='undefined')?el.getAttribute('class')||'':undefined;if(attributes&&attributes.indexOf(value)===-1){el.setAttribute('class',attributes.concat(' ',value).trim());}};}
function removeClass(value){return function(el){var attributes=(typeof el.getAttribute!=='undefined')?el.getAttribute('class')||'':undefined;if(attributes&&attributes.indexOf(value)!==-1){var newAttributes=attributes.replace(value,'').trim();(newAttributes==='')?el.removeAttribute('class'):el.setAttribute('class',newAttributes);}};}
function load(){var handler=function(e){var running;function action(){running=false;if('blur'===e.type){Array.prototype.slice.call(computeEventPath(e.target)).forEach(removeClass(CLASS_NAME));}
if('focus'===e.type){Array.prototype.slice.call(computeEventPath(e.target)).forEach(addClass(CLASS_NAME));}}
if(!running){window.requestAnimationFrame(action);running=true;}};document.addEventListener('focus',handler,true);document.addEventListener('blur',handler,true);addClass('js-focus-within')(document.body);return true;}
try{return!document.querySelector(':'+CLASS_NAME);}catch(error){return load();}}
polyfill();/*!npm.im/object-fit-images 3.2.4*/var objectFitImages=(function(){'use strict';var OFI='fregante:object-fit-images';var propRegex=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g;var testImg=typeof Image==='undefined'?{style:{'object-position':1}}:new Image();var supportsObjectFit='object-fit'in testImg.style;var supportsObjectPosition='object-position'in testImg.style;var supportsOFI='background-size'in testImg.style;var supportsCurrentSrc=typeof testImg.currentSrc==='string';var nativeGetAttribute=testImg.getAttribute;var nativeSetAttribute=testImg.setAttribute;var autoModeEnabled=false;function createPlaceholder(w,h){return("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+w+"' height='"+h+"'%3E%3C/svg%3E");}
function polyfillCurrentSrc(el){if(el.srcset&&!supportsCurrentSrc&&window.picturefill){var pf=window.picturefill._;if(!el[pf.ns]||!el[pf.ns].evaled){pf.fillImg(el,{reselect:true});}
if(!el[pf.ns].curSrc){el[pf.ns].supported=false;pf.fillImg(el,{reselect:true});}
el.currentSrc=el[pf.ns].curSrc||el.src;}}
function getStyle(el){var style=getComputedStyle(el).fontFamily;var parsed;var props={};while((parsed=propRegex.exec(style))!==null){props[parsed[1]]=parsed[2];}
return props;}
function setPlaceholder(img,width,height){var placeholder=createPlaceholder(width||1,height||0);if(nativeGetAttribute.call(img,'src')!==placeholder){nativeSetAttribute.call(img,'src',placeholder);}}
function onImageReady(img,callback){if(img.naturalWidth){callback(img);}else{setTimeout(onImageReady,100,img,callback);}}
function fixOne(el){var style=getStyle(el);var ofi=el[OFI];style['object-fit']=style['object-fit']||'fill';if(!ofi.img){if(style['object-fit']==='fill'){return;}
if(!ofi.skipTest&&supportsObjectFit&&!style['object-position']){return;}}
if(!ofi.img){ofi.img=new Image(el.width,el.height);ofi.img.srcset=nativeGetAttribute.call(el,"data-ofi-srcset")||el.srcset;ofi.img.src=nativeGetAttribute.call(el,"data-ofi-src")||el.src;nativeSetAttribute.call(el,"data-ofi-src",el.src);if(el.srcset){nativeSetAttribute.call(el,"data-ofi-srcset",el.srcset);}
setPlaceholder(el,el.naturalWidth||el.width,el.naturalHeight||el.height);if(el.srcset){el.srcset='';}
try{keepSrcUsable(el);}catch(err){if(window.console){console.warn('https://bit.ly/ofi-old-browser');}}}
polyfillCurrentSrc(ofi.img);el.style.backgroundImage="url(\""+((ofi.img.currentSrc||ofi.img.src).replace(/"/g,'\\"'))+"\")";el.style.backgroundPosition=style['object-position']||'center';el.style.backgroundRepeat='no-repeat';el.style.backgroundOrigin='content-box';if(/scale-down/.test(style['object-fit'])){onImageReady(ofi.img,function(){if(ofi.img.naturalWidth>el.width||ofi.img.naturalHeight>el.height){el.style.backgroundSize='contain';}else{el.style.backgroundSize='auto';}});}else{el.style.backgroundSize=style['object-fit'].replace('none','auto').replace('fill','100% 100%');}
onImageReady(ofi.img,function(img){setPlaceholder(el,img.naturalWidth,img.naturalHeight);});}
function keepSrcUsable(el){var descriptors={get:function get(prop){return el[OFI].img[prop?prop:'src'];},set:function set(value,prop){el[OFI].img[prop?prop:'src']=value;nativeSetAttribute.call(el,("data-ofi-"+prop),value);fixOne(el);return value;}};Object.defineProperty(el,'src',descriptors);Object.defineProperty(el,'currentSrc',{get:function(){return descriptors.get('currentSrc');}});Object.defineProperty(el,'srcset',{get:function(){return descriptors.get('srcset');},set:function(ss){return descriptors.set(ss,'srcset');}});}
function hijackAttributes(){function getOfiImageMaybe(el,name){return el[OFI]&&el[OFI].img&&(name==='src'||name==='srcset')?el[OFI].img:el;}
if(!supportsObjectPosition){HTMLImageElement.prototype.getAttribute=function(name){return nativeGetAttribute.call(getOfiImageMaybe(this,name),name);};HTMLImageElement.prototype.setAttribute=function(name,value){return nativeSetAttribute.call(getOfiImageMaybe(this,name),name,String(value));};}}
function fix(imgs,opts){var startAutoMode=!autoModeEnabled&&!imgs;opts=opts||{};imgs=imgs||'img';if((supportsObjectPosition&&!opts.skipTest)||!supportsOFI){return false;}
if(imgs==='img'){imgs=document.getElementsByTagName('img');}else if(typeof imgs==='string'){imgs=document.querySelectorAll(imgs);}else if(!('length'in imgs)){imgs=[imgs];}
for(var i=0;i<imgs.length;i++){imgs[i][OFI]=imgs[i][OFI]||{skipTest:opts.skipTest};fixOne(imgs[i]);}
if(startAutoMode){document.body.addEventListener('load',function(e){if(e.target.tagName==='IMG'){fix(e.target,{skipTest:opts.skipTest});}},true);autoModeEnabled=true;imgs='img';}
if(opts.watchMQ){window.addEventListener('resize',fix.bind(null,imgs,{skipTest:opts.skipTest}));}}
fix.supportsObjectFit=supportsObjectFit;fix.supportsObjectPosition=supportsObjectPosition;hijackAttributes();return fix;}());objectFitImages();(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.ResizeObserver=factory());}(this,(function(){'use strict';var MapShim=(function(){if(typeof Map!=='undefined'){return Map;}
function getIndex(arr,key){var result=-1;arr.some(function(entry,index){if(entry[0]===key){result=index;return true;}
return false;});return result;}
return(function(){function anonymous(){this.__entries__=[];}
var prototypeAccessors={size:{configurable:true}};prototypeAccessors.size.get=function(){return this.__entries__.length;};anonymous.prototype.get=function(key){var index=getIndex(this.__entries__,key);var entry=this.__entries__[index];return entry&&entry[1];};anonymous.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value;}else{this.__entries__.push([key,value]);}};anonymous.prototype.delete=function(key){var entries=this.__entries__;var index=getIndex(entries,key);if(~index){entries.splice(index,1);}};anonymous.prototype.has=function(key){return!!~getIndex(this.__entries__,key);};anonymous.prototype.clear=function(){this.__entries__.splice(0);};anonymous.prototype.forEach=function(callback,ctx){var this$1=this;if(ctx===void 0)ctx=null;for(var i=0,list=this$1.__entries__;i<list.length;i+=1){var entry=list[i];callback.call(ctx,entry[1],entry[0]);}};Object.defineProperties(anonymous.prototype,prototypeAccessors);return anonymous;}());})();var isBrowser=typeof window!=='undefined'&&typeof document!=='undefined'&&window.document===document;var global$1=(function(){if(typeof global!=='undefined'&&global.Math===Math){return global;}
if(typeof self!=='undefined'&&self.Math===Math){return self;}
if(typeof window!=='undefined'&&window.Math===Math){return window;}
return Function('return this')();})();var requestAnimationFrame$1=(function(){if(typeof requestAnimationFrame==='function'){return requestAnimationFrame.bind(global$1);}
return function(callback){return setTimeout(function(){return callback(Date.now());},1000/60);};})();var trailingTimeout=2;var throttle=function(callback,delay){var leadingCall=false,trailingCall=false,lastCallTime=0;function resolvePending(){if(leadingCall){leadingCall=false;callback();}
if(trailingCall){proxy();}}
function timeoutCallback(){requestAnimationFrame$1(resolvePending);}
function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout){return;}
trailingCall=true;}else{leadingCall=true;trailingCall=false;setTimeout(timeoutCallback,delay);}
lastCallTime=timeStamp;}
return proxy;};var REFRESH_DELAY=20;var transitionKeys=['top','right','bottom','left','width','height','size','weight'];var mutationObserverSupported=typeof MutationObserver!=='undefined';var ResizeObserverController=function(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY);};ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer)){this.observers_.push(observer);}
if(!this.connected_){this.connect_();}};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_;var index=observers.indexOf(observer);if(~index){observers.splice(index,1);}
if(!observers.length&&this.connected_){this.disconnect_();}};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected){this.refresh();}};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter(function(observer){return observer.gatherActive(),observer.hasActive();});activeObservers.forEach(function(observer){return observer.broadcastActive();});return activeObservers.length>0;};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_){return;}
document.addEventListener('transitionend',this.onTransitionEnd_);window.addEventListener('resize',this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true});}else{document.addEventListener('DOMSubtreeModified',this.refresh);this.mutationEventsAdded_=true;}
this.connected_=true;};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_){return;}
document.removeEventListener('transitionend',this.onTransitionEnd_);window.removeEventListener('resize',this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect();}
if(this.mutationEventsAdded_){document.removeEventListener('DOMSubtreeModified',this.refresh);}
this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false;};ResizeObserverController.prototype.onTransitionEnd_=function(ref){var propertyName=ref.propertyName;if(propertyName===void 0)propertyName='';var isReflowProperty=transitionKeys.some(function(key){return!!~propertyName.indexOf(key);});if(isReflowProperty){this.refresh();}};ResizeObserverController.getInstance=function(){if(!this.instance_){this.instance_=new ResizeObserverController();}
return this.instance_;};ResizeObserverController.instance_=null;var defineConfigurable=(function(target,props){for(var i=0,list=Object.keys(props);i<list.length;i+=1){var key=list[i];Object.defineProperty(target,key,{value:props[key],enumerable:false,writable:false,configurable:true});}
return target;});var getWindowOf=(function(target){var ownerGlobal=target&&target.ownerDocument&&target.ownerDocument.defaultView;return ownerGlobal||global$1;});var emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0;}
function getBordersSize(styles){var positions=[],len=arguments.length-1;while(len-->0)positions[len]=arguments[len+1];return positions.reduce(function(size,position){var value=styles['border-'+position+'-width'];return size+toFloat(value);},0);}
function getPaddings(styles){var positions=['top','right','bottom','left'];var paddings={};for(var i=0,list=positions;i<list.length;i+=1){var position=list[i];var value=styles['padding-'+position];paddings[position]=toFloat(value);}
return paddings;}
function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height);}
function getHTMLElementContentRect(target){var clientWidth=target.clientWidth;var clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight){return emptyRect;}
var styles=getWindowOf(target).getComputedStyle(target);var paddings=getPaddings(styles);var horizPad=paddings.left+paddings.right;var vertPad=paddings.top+paddings.bottom;var width=toFloat(styles.width),height=toFloat(styles.height);if(styles.boxSizing==='border-box'){if(Math.round(width+horizPad)!==clientWidth){width-=getBordersSize(styles,'left','right')+horizPad;}
if(Math.round(height+vertPad)!==clientHeight){height-=getBordersSize(styles,'top','bottom')+vertPad;}}
if(!isDocumentElement(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth;var horizScrollbar=Math.round(height+vertPad)-clientHeight;if(Math.abs(vertScrollbar)!==1){width-=vertScrollbar;}
if(Math.abs(horizScrollbar)!==1){height-=horizScrollbar;}}
return createRectInit(paddings.left,paddings.top,width,height);}
var isSVGGraphicsElement=(function(){if(typeof SVGGraphicsElement!=='undefined'){return function(target){return target instanceof getWindowOf(target).SVGGraphicsElement;};}
return function(target){return target instanceof getWindowOf(target).SVGElement&&typeof target.getBBox==='function';};})();function isDocumentElement(target){return target===getWindowOf(target).document.documentElement;}
function getContentRect(target){if(!isBrowser){return emptyRect;}
if(isSVGGraphicsElement(target)){return getSVGContentRect(target);}
return getHTMLElementContentRect(target);}
function createReadOnlyRect(ref){var x=ref.x;var y=ref.y;var width=ref.width;var height=ref.height;var Constr=typeof DOMRectReadOnly!=='undefined'?DOMRectReadOnly:Object;var rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect;}
function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height};}
var ResizeObservation=function(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target;};ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight;};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect;};var ResizeObserverEntry=function(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect});};var ResizeObserverSPI=function(callback,controller,callbackCtx){this.activeObservations_=[];this.observations_=new MapShim();if(typeof callback!=='function'){throw new TypeError('The callback provided as parameter 1 is not a function.');}
this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx;};ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.');}
if(typeof Element==='undefined'||!(Element instanceof Object)){return;}
if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".');}
var observations=this.observations_;if(observations.has(target)){return;}
observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh();};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.');}
if(typeof Element==='undefined'||!(Element instanceof Object)){return;}
if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".');}
var observations=this.observations_;if(!observations.has(target)){return;}
observations.delete(target);if(!observations.size){this.controller_.removeObserver(this);}};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this);};ResizeObserverSPI.prototype.gatherActive=function(){var this$1=this;this.clearActive();this.observations_.forEach(function(observation){if(observation.isActive()){this$1.activeObservations_.push(observation);}});};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive()){return;}
var ctx=this.callbackCtx_;var entries=this.activeObservations_.map(function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect());});this.callback_.call(ctx,entries,ctx);this.clearActive();};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0);};ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0;};var observers=typeof WeakMap!=='undefined'?new WeakMap():new MapShim();var ResizeObserver=function(callback){if(!(this instanceof ResizeObserver)){throw new TypeError('Cannot call a class as a function.');}
if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.');}
var controller=ResizeObserverController.getInstance();var observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer);};['observe','unobserve','disconnect'].forEach(function(method){ResizeObserver.prototype[method]=function(){return(ref=observers.get(this))[method].apply(ref,arguments);var ref;};});var index=(function(){if(typeof global$1.ResizeObserver!=='undefined'){return global$1.ResizeObserver;}
global$1.ResizeObserver=ResizeObserver;return ResizeObserver;})();return index;})));!function(t,e){"object"==typeof exports?module.exports=e(window,document):t.SimpleScrollbar=e(window,document)}(this,function(t,e){function s(t){Object.prototype.hasOwnProperty.call(t,"data-simple-scrollbar")||Object.defineProperty(t,"data-simple-scrollbar",{value:new o(t)})}function i(t,s){function i(t){var e=t.pageY-a;a=t.pageY,n(function(){s.el.scrollTop+=e/s.scrollRatio})}function r(){t.classList.remove("ss-grabbed"),e.body.classList.remove("ss-grabbed"),e.removeEventListener("mousemove",i),e.removeEventListener("mouseup",r)}var a;t.addEventListener("mousedown",function(s){return a=s.pageY,t.classList.add("ss-grabbed"),e.body.classList.add("ss-grabbed"),e.addEventListener("mousemove",i),e.addEventListener("mouseup",r),!1})}function r(t){for(this.target=t,this.direction=window.getComputedStyle(this.target).direction,this.bar='<div class="ss-scroll">',this.wrapper=e.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=e.createElement("div"),this.el.setAttribute("class","ss-content"),"rtl"===this.direction&&this.el.classList.add("rtl"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,i(this.bar,this),this.moveBar(),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var s=window.getComputedStyle(t);"0px"===s.height&&"0px"!==s["max-height"]&&(t.style.height=s["max-height"])}function a(){for(var t=e.querySelectorAll("*[ss-container]"),i=0;i<t.length;i++)s(t[i])}var n=t.requestAnimationFrame||t.setImmediate||function(t){return setTimeout(t,0)};r.prototype={moveBar:function(t){var e=this.el.scrollHeight,s=this.el.clientHeight,i=this;this.scrollRatio=s/e;var r="rtl"===i.direction,a=r?i.target.clientWidth-i.bar.clientWidth+18:-1*(i.target.clientWidth-i.bar.clientWidth-11);n(function(){i.scrollRatio>=1?i.bar.classList.add("ss-hidden"):(i.bar.classList.remove("ss-hidden"),i.bar.style.cssText="height:"+Math.max(100*i.scrollRatio,10)+"%; top:"+i.el.scrollTop/e*100+"%;right:"+a+"px;")})}},e.addEventListener("DOMContentLoaded",a),r.initEl=s,r.initAll=a;var o=r;return o});/*!lazysizes - v5.2.2*/!function(e){var t=function(u,D,f){"use strict";var k,H;if(function(){var e;var t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:true,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:true,ricTimeout:0,throttleDelay:125};H=u.lazySizesConfig||u.lazysizesConfig||{};for(e in t){if(!(e in H)){H[e]=t[e]}}}(),!D||!D.getElementsByClassName){return{init:function(){},cfg:H,noSupport:true}}var O=D.documentElement,a=u.HTMLPictureElement,P="addEventListener",$="getAttribute",q=u[P].bind(u),I=u.setTimeout,U=u.requestAnimationFrame||I,l=u.requestIdleCallback,j=/^picture$/i,r=["load","error","lazyincluded","_lazyloaded"],i={},G=Array.prototype.forEach,J=function(e,t){if(!i[t]){i[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")}return i[t].test(e[$]("class")||"")&&i[t]},K=function(e,t){if(!J(e,t)){e.setAttribute("class",(e[$]("class")||"").trim()+" "+t)}},Q=function(e,t){var i;if(i=J(e,t)){e.setAttribute("class",(e[$]("class")||"").replace(i," "))}},V=function(t,i,e){var a=e?P:"removeEventListener";if(e){V(t,i)}r.forEach(function(e){t[a](e,i)})},X=function(e,t,i,a,r){var n=D.createEvent("Event");if(!i){i={}}i.instance=k;n.initEvent(t,!a,!r);n.detail=i;e.dispatchEvent(n);return n},Y=function(e,t){var i;if(!a&&(i=u.picturefill||H.pf)){if(t&&t.src&&!e[$]("srcset")){e.setAttribute("srcset",t.src)}i({reevaluate:true,elements:[e]})}else if(t&&t.src){e.src=t.src}},Z=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,i){i=i||e.offsetWidth;while(i<H.minSize&&t&&!e._lazysizesWidth){i=t.offsetWidth;t=t.parentNode}return i},ee=function(){var i,a;var t=[];var r=[];var n=t;var s=function(){var e=n;n=t.length?r:t;i=true;a=false;while(e.length){e.shift()()}i=false};var e=function(e,t){if(i&&!t){e.apply(this,arguments)}else{n.push(e);if(!a){a=true;(D.hidden?I:U)(s)}}};e._lsFlush=s;return e}(),te=function(i,e){return e?function(){ee(i)}:function(){var e=this;var t=arguments;ee(function(){i.apply(e,t)})}},ie=function(e){var i;var a=0;var r=H.throttleDelay;var n=H.ricTimeout;var t=function(){i=false;a=f.now();e()};var s=l&&n>49?function(){l(t,{timeout:n});if(n!==H.ricTimeout){n=H.ricTimeout}}:te(function(){I(t)},true);return function(e){var t;if(e=e===true){n=33}if(i){return}i=true;t=r-(f.now()-a);if(t<0){t=0}if(e||t<9){s()}else{I(s,t)}}},ae=function(e){var t,i;var a=99;var r=function(){t=null;e()};var n=function(){var e=f.now()-i;if(e<a){I(n,a-e)}else{(l||r)(r)}};return function(){i=f.now();if(!t){t=I(n,a)}}},e=function(){var v,m,c,h,e;var y,z,g,p,C,b,A;var n=/^img$/i;var d=/^iframe$/i;var E="onscroll"in u&&!/(gle|ing)bot/.test(navigator.userAgent);var _=0;var w=0;var N=0;var M=-1;var x=function(e){N--;if(!e||N<0||!e.target){N=0}};var W=function(e){if(A==null){A=Z(D.body,"visibility")=="hidden"}return A||!(Z(e.parentNode,"visibility")=="hidden"&&Z(e,"visibility")=="hidden")};var S=function(e,t){var i;var a=e;var r=W(e);g-=t;b+=t;p-=t;C+=t;while(r&&(a=a.offsetParent)&&a!=D.body&&a!=O){r=(Z(a,"opacity")||1)>0;if(r&&Z(a,"overflow")!="visible"){i=a.getBoundingClientRect();r=C>i.left&&p<i.right&&b>i.top-1&&g<i.bottom+1}}return r};var t=function(){var e,t,i,a,r,n,s,l,o,u,f,c;var d=k.elements;if((h=H.loadMode)&&N<8&&(e=d.length)){t=0;M++;for(;t<e;t++){if(!d[t]||d[t]._lazyRace){continue}if(!E||k.prematureUnveil&&k.prematureUnveil(d[t])){R(d[t]);continue}if(!(l=d[t][$]("data-expand"))||!(n=l*1)){n=w}if(!u){u=!H.expand||H.expand<1?O.clientHeight>500&&O.clientWidth>500?500:370:H.expand;k._defEx=u;f=u*H.expFactor;c=H.hFac;A=null;if(w<f&&N<1&&M>2&&h>2&&!D.hidden){w=f;M=0}else if(h>1&&M>1&&N<6){w=u}else{w=_}}if(o!==n){y=innerWidth+n*c;z=innerHeight+n;s=n*-1;o=n}i=d[t].getBoundingClientRect();if((b=i.bottom)>=s&&(g=i.top)<=z&&(C=i.right)>=s*c&&(p=i.left)<=y&&(b||C||p||g)&&(H.loadHidden||W(d[t]))&&(m&&N<3&&!l&&(h<3||M<4)||S(d[t],n))){R(d[t]);r=true;if(N>9){break}}else if(!r&&m&&!a&&N<4&&M<4&&h>2&&(v[0]||H.preloadAfterLoad)&&(v[0]||!l&&(b||C||p||g||d[t][$](H.sizesAttr)!="auto"))){a=v[0]||d[t]}}if(a&&!r){R(a)}}};var i=ie(t);var B=function(e){var t=e.target;if(t._lazyCache){delete t._lazyCache;return}x(e);K(t,H.loadedClass);Q(t,H.loadingClass);V(t,L);X(t,"lazyloaded")};var a=te(B);var L=function(e){a({target:e.target})};var T=function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}};var F=function(e){var t;var i=e[$](H.srcsetAttr);if(t=H.customMedia[e[$]("data-media")||e[$]("media")]){e.setAttribute("media",t)}if(i){e.setAttribute("srcset",i)}};var s=te(function(t,e,i,a,r){var n,s,l,o,u,f;if(!(u=X(t,"lazybeforeunveil",e)).defaultPrevented){if(a){if(i){K(t,H.autosizesClass)}else{t.setAttribute("sizes",a)}}s=t[$](H.srcsetAttr);n=t[$](H.srcAttr);if(r){l=t.parentNode;o=l&&j.test(l.nodeName||"")}f=e.firesLoad||"src"in t&&(s||n||o);u={target:t};K(t,H.loadingClass);if(f){clearTimeout(c);c=I(x,2500);V(t,L,true)}if(o){G.call(l.getElementsByTagName("source"),F)}if(s){t.setAttribute("srcset",s)}else if(n&&!o){if(d.test(t.nodeName)){T(t,n)}else{t.src=n}}if(r&&(s||o)){Y(t,{src:n})}}if(t._lazyRace){delete t._lazyRace}Q(t,H.lazyClass);ee(function(){var e=t.complete&&t.naturalWidth>1;if(!f||e){if(e){K(t,"ls-is-cached")}B(u);t._lazyCache=true;I(function(){if("_lazyCache"in t){delete t._lazyCache}},9)}if(t.loading=="lazy"){N--}},true)});var R=function(e){if(e._lazyRace){return}var t;var i=n.test(e.nodeName);var a=i&&(e[$](H.sizesAttr)||e[$]("sizes"));var r=a=="auto";if((r||!m)&&i&&(e[$]("src")||e.srcset)&&!e.complete&&!J(e,H.errorClass)&&J(e,H.lazyClass)){return}t=X(e,"lazyunveilread").detail;if(r){re.updateElem(e,true,e.offsetWidth)}e._lazyRace=true;N++;s(e,t,r,a,i)};var r=ae(function(){H.loadMode=3;i()});var l=function(){if(H.loadMode==3){H.loadMode=2}r()};var o=function(){if(m){return}if(f.now()-e<999){I(o,999);return}m=true;H.loadMode=3;i();q("scroll",l,true)};return{_:function(){e=f.now();k.elements=D.getElementsByClassName(H.lazyClass);v=D.getElementsByClassName(H.lazyClass+" "+H.preloadClass);q("scroll",i,true);q("resize",i,true);q("pageshow",function(e){if(e.persisted){var t=D.querySelectorAll("."+H.loadingClass);if(t.length&&t.forEach){U(function(){t.forEach(function(e){if(e.complete){R(e)}})})}}});if(u.MutationObserver){new MutationObserver(i).observe(O,{childList:true,subtree:true,attributes:true})}else{O[P]("DOMNodeInserted",i,true);O[P]("DOMAttrModified",i,true);setInterval(i,999)}q("hashchange",i,true);["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){D[P](e,i,true)});if(/d$|^c/.test(D.readyState)){o()}else{q("load",o);D[P]("DOMContentLoaded",i);I(o,2e4)}if(k.elements.length){t();ee._lsFlush()}else{i()}},checkElems:i,unveil:R,_aLSL:l}}(),re=function(){var i;var n=te(function(e,t,i,a){var r,n,s;e._lazysizesWidth=a;a+="px";e.setAttribute("sizes",a);if(j.test(t.nodeName||"")){r=t.getElementsByTagName("source");for(n=0,s=r.length;n<s;n++){r[n].setAttribute("sizes",a)}}if(!i.detail.dataAttr){Y(e,i.detail)}});var a=function(e,t,i){var a;var r=e.parentNode;if(r){i=s(e,r,i);a=X(e,"lazybeforesizes",{width:i,dataAttr:!!t});if(!a.defaultPrevented){i=a.detail.width;if(i&&i!==e._lazysizesWidth){n(e,r,a,i)}}}};var e=function(){var e;var t=i.length;if(t){e=0;for(;e<t;e++){a(i[e])}}};var t=ae(e);return{_:function(){i=D.getElementsByClassName(H.autosizesClass);q("resize",t)},checkElems:t,updateElem:a}}(),t=function(){if(!t.i&&D.getElementsByClassName){t.i=true;re._();e._()}};return I(function(){H.init&&t()}),k={cfg:H,autoSizer:re,loader:e,init:t,uP:Y,aC:K,rC:Q,hC:J,fire:X,gW:s,rAF:ee}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});(function(){"use strict";var matched,browser;var uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};matched=uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}
if(browser.chrome){browser.webkit=true;}else if(browser.webkit){browser.safari=true;}
Cog.registerStatic({name:"utils.browser",sharedApi:browser,api:{}});})();Cog.utils=Cog.utils||{};(function(){"use strict";function namespace(namespaceString){var parts=namespaceString.split("."),parent=window,currentPart="";for(var i=0,length=parts.length;i<length;i++){currentPart=parts[i];parent[currentPart]=parent[currentPart]||{};parent=parent[currentPart];}
return parent;}
Cog.registerStatic({name:"utils.namespace",sharedApi:namespace,api:{}});})();(function($){'use strict';var api={},overlayContainer,overlayContent,overlayContentInner,overlayBackground,overlayLoading,overlayClose,mobileChecked=false,mobile=false,scrollPosition,startingPositionTop=100;function Overlay(elem,url){this.obj=elem;this.url=url;this.properties={'href':$(elem).attr('href'),'width':$(elem).data('overlaywidth')};}
Overlay.prototype.attachEvents=function(){var self=this,url=self.properties.href;if(url){if(!mobile){if(url.indexOf('.html')>-1){url=this.url.setSelector(url,'lightbox');}else if(url.substring(url.length-1)==='/'){url=url.substring(0,url.lastIndexOf('/'))+'.lightbox/';}else{url=url+'.lightbox/';}}
$(self.obj).on('click',function(event){event.preventDefault();event.stopPropagation();if(!mobile){self.initOverlayContainer();self.showLoadingContainer();}
self.visible=true;$.ajax({type:'GET',url:url,dataType:'html',success:function(response){self.overlayBuilder(response);Cog.init({$element:overlayContentInner});}});});$(document).on('click touchstart','.overlay-content',function(event){event.stopPropagation();}).on('click touchstart','.overlay-background, .overlay-container, .overlay-close',function(){if(self.visible){self.hideOverlay();}}).on('keydown',function(event){if(event.keyCode===27){self.hideOverlay();}});}};Overlay.prototype.initOverlayContainer=function(){var body=$('body'),overlayBackgroundHtml="<div class='overlay-background'></div>",overlayContainerHtml="<div class='overlay-container'>"+
"<div class='overlay-content'>"+
"<div tabindex='0' class='overlay-close'></div>"+
"<div class='overlay-loading'></div>"+
"<div class='overlay-content-inner'></div>"+
'</div>'+
'</div>';if(!overlayContainer){body.append(overlayBackgroundHtml,overlayContainerHtml);overlayBackground=$('.overlay-background');overlayContainer=$('.overlay-container');overlayContent=$('.overlay-content');overlayContentInner=$('.overlay-content-inner');overlayLoading=$('.overlay-loading');overlayClose=$('.overlay-close');}else{overlayContentInner.empty();}};Overlay.prototype.showLoadingContainer=function(){overlayClose.hide();overlayBackground.show();overlayContainer.css({'top':'50px'});overlayContainer.show();overlayLoading.show();};Overlay.prototype.overlayBuilder=function(response){var self=this;if(mobile){window.open(self.properties.href,'_blank');}else{self.showOverlay(response);}};Overlay.prototype.showOverlay=function(response){var overlayWidth=this.properties.width;overlayLoading.hide();overlayClose.show();scrollPosition=$(window).scrollTop();$('body').addClass('overlayVisible');overlayContent.removeClass('lightbox--full-content-size lightbox--default-size');overlayContent.css('max-width','none');if(!overlayWidth){overlayContent.addClass('lightbox--full-content-size');}else{overlayContent.addClass('lightbox--default-size');}
overlayContentInner.append(response);if(overlayContentInner.find('.video').length){overlayContent.css({'width':overlayWidth});}else{overlayContent.css({'max-width':overlayWidth});}
$('.container-fluid').on('scroll',function(e){e.preventDefault();e.stopPropagation();return false;});};Overlay.prototype.hideOverlay=function(){overlayContainer.fadeOut();overlayBackground.fadeOut();if(this.visible){this.visible=false;Cog.fireEvent('overlay','close');$('body').removeClass('overlayVisible');}
$('.container-fluid').off('scroll');$(window).scrollTop(scrollPosition);};function checkMobile(){var device=Cog.Cookie.read('device-group');return(device==='mobile');}
api.onRegister=function(elements){var self=this;if(!mobileChecked){mobile=checkMobile();mobileChecked=true;}
elements.$scope.each(function(){var overlay=new Overlay(this,self.external.url);overlay.attachEvents();});};Cog.registerComponent({name:'overlay',api:api,selector:'a.lightbox:not(.eligibility-overlay-trigger)',requires:[{name:'utils.url',apiId:'url'}]});})(Cog.jQuery());(function($){"use strict";var api={},href,blank,hiddenClass="is-hidden";function openDialog(event){var $target=$(event.target);event.preventDefault();if($target.prop("tagName").toUpperCase()!=="A"){$target=$target.closest(".external");}
href=$target.attr("href");blank=$target.attr("target");api.scope.removeClass(hiddenClass);return false;}
function acceptButton(){if(blank==="_blank"){window.open(href,"_blank");api.scope.addClass(hiddenClass);}else{window.location.href=href;}}
function denyButton(){api.scope.addClass(hiddenClass);}
api.init=function(scope){api.scope=scope;api.scope.find(".exit-notification-accept").click(acceptButton);api.scope.find(".exit-notification-deny").click(denyButton);$("body").on("click","a.external",openDialog);};Cog.register({name:"exitNotification",api:api,selector:"#exit-notification"});})(Cog.jQuery());(function($){"use strict";var api={};var sharedApi={};sharedApi.isMobile=function(){return!!window.matchMedia('screen and (max-width: 767px)').matches;};sharedApi.isMobileOrTablet=function(){return!window.matchMedia('screen and (min-width: 992px)').matches;};sharedApi.isTablet=function(){return!!window.matchMedia('screen and (min-width: 768px) and (max-width: 1023px)').matches;};sharedApi.isTabletOrDesktopSmall=function(){return!!window.matchMedia('screen and (min-width: 768px) and (max-width: 1200px)').matches;};sharedApi.isTabletOrDesktop=function(){return!!window.matchMedia('screen and (min-width: 768px)').matches;};sharedApi.isTabletHorizontalOrDesktop=function(){return!!window.matchMedia('screen and (min-width: 992px)').matches;};sharedApi.isDesktop=function(){return!!window.matchMedia('screen and (min-width: 1024px)').matches;};sharedApi.isDesktopLarge=function(){return!!window.matchMedia('screen and (min-width: 1201px)').matches;};Cog.registerStatic({name:'utils.media',api:api,sharedApi:sharedApi,});})(Cog.jQuery());(function($){"use strict";var api={},sharedApi={};api.init=function(){_.templateSettings={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{\%(.+?)\%\}/g};$.extend(sharedApi,$("body").data());};Cog.registerStatic({name:"utils.settings",api:api,sharedApi:sharedApi});})(Cog.jQuery());(function($){"use strict";var api={};api.init=function(){$(document).on("click","a[href*=#]:not([href^=#])",function(e){var target=this.hash;var $target=$("[id="+target.substring(1)+"]").size()?$("[id="+target.substring(1)+"]"):$("[name="+target.substring(1)+"]");if($target.size()&&window.location.origin+window.location.pathname+this.hash===this.href){$("html, body").stop().animate({"scrollTop":$target.offset().top},800,function(){window.location.hash=target;});e.preventDefault();}});};Cog.registerStatic({name:"utils.scroll",api:api});})(Cog.jQuery());(function(){"use strict";var api={},sharedApi={};sharedApi.setSelector=function(url,selector,index){var post="";var pIndex=url.indexOf("?");if(pIndex===-1){pIndex=url.indexOf("#");}
if(pIndex!==-1){post=url.substring(pIndex);url=url.substring(0,pIndex);}
index=index?index:0;var selectors=sharedApi.getSelectors(url);var ext=url.substring(url.lastIndexOf("."));url=url.substring(0,url.lastIndexOf("."));var fragment=(selectors.length>0)?url.replace("."+selectors.join("."),""):url;if(selectors.length>0){for(var i=0;i<selectors.length;i++){if(index===i){fragment+="."+selector;}else{fragment+="."+selectors[i];}}}else{fragment+="."+selector;}
return fragment+ext+post;};sharedApi.getSelectors=function(url){var selectors=[];url=url||window.location.href;url=sharedApi.removeParameters(url);url=sharedApi.removeAnchor(url);var fragment=url.substring(url.lastIndexOf("/"));if(fragment){var split=fragment.split(".");if(split.length>2){for(var i=0;i<split.length;i++){if(i>0&&i<split.length-1){selectors.push(split[i]);}}}}
return selectors;};sharedApi.removeParameters=function(url){if(url.indexOf("?")!==-1){return url.substring(0,url.indexOf("?"));}
return url;};sharedApi.removeAnchor=function(url){if(url.indexOf("#")!==-1){return url.substring(0,url.indexOf("#"));}
return url;};Cog.registerStatic({name:"utils.url",api:api,sharedApi:sharedApi});})();(function($){"use strict";var api={};var cache={};var sharedApi={};var selectors={edit:'.cq-wcm-edit, .cq-wcm-edit-touch',};sharedApi.isEdit=function(){if(typeof cache.isEdit==='undefined'){cache.isEdit=$('body').is(selectors.edit);}
return cache.isEdit;};sharedApi.isAuthor=function(){if(typeof cache.isAuthor==='undefined'){cache.isAuthor=window.Granite&&window.Granite.author;}
return cache.isAuthor;};sharedApi.isPublish=function(){return!sharedApi.isAuthor();};Cog.registerStatic({name:'utils.status',api:api,sharedApi:sharedApi,});})(Cog.jQuery());(function($){"use strict";var api={};var sharedApi={};var selectors={homepage:'.homepage-top-promo-box',category:'.category-top-promo-box',categorySubcategory:'.category-subcategory-section',subcategory:'.subcategory-top-promo-box',};sharedApi.isSection=function($elem){return $elem.parents().is(selectors.homepage+', '
+selectors.category+', '
+selectors.categorySubcategory+', '
+selectors.subcategory);};sharedApi.isSectionHero=function($elem){return $elem.parents().is(selectors.homepage+', '
+selectors.category+', '
+selectors.subcategory);};Cog.registerStatic({name:'utils.promoBoxSection',api:api,sharedApi:sharedApi,});})(Cog.jQuery());(function($){'use strict';var api={},selectors={activeItemContent:'> .component-content > .accordion-container > .is-active > .accordion-content-wrapper',accordionHead:'> div > ul > li.accordion-slide > div.accordion-head',accordionSlide:'li.accordion-slide',contentWrapper:'div.accordion-content-wrapper',};api.onHeaderClick=function(event){var $this=$(event.currentTarget),$headParent=api.liParent($this),$accordionContent=$this.next(selectors.contentWrapper),$aTag=$this.find('a');Cog.fireEvent('accordion','change',{$target:$aTag,elementExtraInfo:$this.next().is(':visible')?'close':'open',manual:event.originalEvent!==undefined,});Cog.fireEventAsync('table','check-overflow',{scope:this});$headParent.toggleClass('is-active');$accordionContent.stop(true,true).slideToggle(300);Cog.fireEventAsync('table','check-swipe-icon-position',{scope:this});event.preventDefault();};api.previous=function(event){api.focus(api.liParent($(event.currentTarget)).prev());event.preventDefault();};api.next=function(event){api.focus(api.liParent($(event.currentTarget)).next());event.preventDefault();};api.first=function(event){api.focus(api.liParent($(event.currentTarget)).parent().children('li').first());event.preventDefault();};api.last=function(event){api.focus(api.liParent($(event.currentTarget)).parent().children('li').last());event.preventDefault();};api.liParent=function($elem){return $elem.parents('li').first();};api.focus=function($liElem){$liElem.find('> .accordion-head > a, > .accordion-head > .accordion-title > a').focus();};api.findAnchorElementInAccordionRelatedToUrlHash=function($accordion){var $anchorElement=$accordion.find(window.location.hash);var $closestAccordion=$anchorElement.closest('.accordion.component');return($closestAccordion.length===1&&$accordion[0]===$closestAccordion[0])?$anchorElement:null;};api.scrollTo=function($anchorElement){setTimeout(function(){$('html, body').stop().animate({scrollTop:$anchorElement.offset().top},300);},310);};api.onHeaderKeydown=function(event){var keyCode=event.which||event.keyCode;switch(keyCode){case 32:api.onHeaderClick(event);break;case 35:api.last(event);break;case 36:api.first(event);break;case 37:case 38:api.previous(event);break;case 39:case 40:api.next(event);break;default:break;}};api.bindAnchorClicks=function($accordion){$accordion.find('[id]').each(function(){var $anchorElement=$(this);var $accordionSlide=null;var $current=$anchorElement.parent();while($current.length!==0&&$current[0]!==$accordion[0]){if($current.hasClass('accordion-slide')){$accordionSlide=$current;}
$current=$current.parent();}
if($anchorElement[0]&&$accordionSlide){$('a[href="#'+$anchorElement[0].id+'"]').on('click',function(e){var isAccordionHeadClick=!!$(e.target).closest('.accordion-head').length;if(!isAccordionHeadClick){api.openPanel($accordionSlide,$anchorElement);}});}});};api.openPanel=function($accordionSlide,$anchorElement){var wrapperStyle=api.findContentWrapper($accordionSlide).attr('style');if(!wrapperStyle||wrapperStyle==='display: none;'){$accordionSlide.find('> div.accordion-head').click();api.scrollTo($anchorElement);}};api.findContentWrapper=function($accordionSlide){return $accordionSlide.find('> '+selectors.contentWrapper);};api.findParentSlide=function($anchorElement){return $anchorElement?$anchorElement.closest(selectors.accordionSlide).parents(selectors.accordionSlide):null;};api.onRegister=function(element){if(this.external.status.isEdit()){return;}
var $this=element.$scope;$this.on('click',selectors.accordionHead,api.onHeaderClick);$this.on('keydown',selectors.accordionHead,api.onHeaderKeydown);api.bindAnchorClicks($this);var $anchorElementToDisplay=api.findAnchorElementInAccordionRelatedToUrlHash($this);var $parentSlide=api.findParentSlide($anchorElementToDisplay);if($parentSlide){var $contentWrapper=api.findContentWrapper($parentSlide);$contentWrapper.css('display','block');var $headParent=api.liParent($contentWrapper);$headParent.addClass('is-active');}
var $wrapper=$anchorElementToDisplay?api.findContentWrapper($anchorElementToDisplay.closest(selectors.accordionSlide)):$this.find(selectors.activeItemContent);if($wrapper.length){$wrapper.css('display','block');var $headParent=api.liParent($wrapper);$headParent.addClass('is-active');}
if($anchorElementToDisplay){api.scrollTo($anchorElementToDisplay);}};Cog.registerComponent({name:'accordion',api:api,selector:'.accordion',requires:[{name:'utils.status',apiId:'status',},],});})(Cog.jQuery());(function($){"use strict";var api={};api.delay=0;api.showSlide=function(nextIndex,context,delay,autoRotate){clearTimeout(context.timerId);var current=context.slides.filter(".is-active"),currentIndex=current.index();nextIndex=(nextIndex<0)?(context.slides.length-1):((nextIndex>=context.slides.length)?0:nextIndex);if(Number(nextIndex)!==Number(currentIndex)){context.slides.stop(true,true);current.removeClass("is-active").fadeOut(function(){$(this).removeClass("is-active");context.controls.removeClass("is-active").eq(nextIndex).addClass("is-active");});context.slides.eq(nextIndex).fadeIn(function(){$(this).addClass("is-active");});}
if(delay>0&&autoRotate!==false){context.timerId=setTimeout(function(){api.showSlide(nextIndex+1,context,delay,autoRotate);},delay*1000);}};api.onRegister=function(scope){var $carousel=scope.$scope,$slideNav=$carousel.find(".carousel-nav"),$slideControls=$slideNav.find("li:not(.carousel-nav-prev):not(.carousel-nav-next)"),$slidesList=$carousel.find(".carousel-slides"),$slides=$slidesList.find(".carousel-slide"),slidesMaxHeight=$slidesList.data("height"),delay=0,autoRotate=$slidesList.data("rotate"),context={slides:$slides,controls:$slideControls},status=this.external.status,resizeView=function(){if(status.isAuthor()){return;}
var maxHeight=0;$slides.each(function(){var height=$(this).height();maxHeight=height>maxHeight?height:maxHeight;});if(slidesMaxHeight){if(maxHeight>slidesMaxHeight){maxHeight=slidesMaxHeight;}}
$slidesList.css("height",maxHeight+"px");};$(window).resize(_.throttle(function(){resizeView();},250));resizeView();delay=$slidesList.data("delay")||0;$slides.hide().first().show();$slideNav.on("click","a",function(e){e.preventDefault();var $parent=$(this).parent(),index=$slideControls.index($parent);if($parent.is(".carousel-nav-prev,.carousel-nav-next")){index=$slides.filter(".is-active").index();index=$parent.hasClass("carousel-nav-prev")?index-1:index+1;}
api.showSlide(index,context);});if(delay>0&&autoRotate!==false){context.timerId=setTimeout(function(){api.showSlide(1,context,delay,autoRotate);},delay*1000);}};Cog.registerComponent({name:"carousel",api:api,selector:".carousel",requires:[{name:"utils.status",apiId:"status"}]});})(Cog.jQuery());(function($){"use strict";var api={},clearForm,resetForm,manualInputs;clearForm=function($form,oldbrowser){$form.find("input:text, input:password, input:file, select, textarea").val("");$form.find("input:radio").prop("checked",false);$form.find("input:checkbox").prop("checked",false);if(oldbrowser){$form.find("input:text, input:password, input:file, select, textarea").blur();}};resetForm=function($form){$form[0].reset();$form.find("input, textarea").blur();};manualInputs=(function(){function applyStyle($input,$label){if($input.is(":checked")){$label.addClass("checked");}else{$label.removeClass("checked");}}
return function($inputs){$inputs.each(function(i,input){var $input=$(input),$label=$input.parent().find("label");$label.on("click",function(ev){ev.preventDefault();input.checked=!input.checked;});applyStyle($input,$label);$input.on("change",function(){applyStyle($input,$label);});});};})();api.onRegister=function(scope){var form=scope.$scope,disabledMessage="Submit functionality is disabled"+
" in Edit mode - switch to Preview mode to use it.",browser=this.external.browser,status=this.external.status;form.find("textarea[maxlength]").bind("change keyup",function(){var maxlength=$(this).attr("maxlength"),val=$(this).val();if(val.length>maxlength){$(this).val(val.substring(0,maxlength));}});manualInputs(form.find("input[type=radio], input[type=checkbox]"));form.find("button.clearButton").bind("click",function(){clearForm($(this.form));});form.find("button.control-tooltip-button").bind("click",function(e){e.preventDefault();});if(browser.msie&&browser.version<10){form.on("click","button.clearButton",function(){clearForm($(this.form),true);});form.find("input.reset").bind("click",function(e){e.preventDefault();resetForm($(this.form));});form.find("button.editSubmit").bind("click",function(e){if(status.isAuthor()){return true;}
e.preventDefault();window.alert(disabledMessage);});}else{form.on("click","button.clearButton",function(){clearForm($(this.form));});form.find("button.editSubmit").bind("click",function(e){if(status.isAuthor()){return true;}
e.preventDefault();window.alert(disabledMessage);});}};Cog.registerComponent({name:"form",api:api,selector:".form",requires:[{name:"utils.browser",apiId:"browser"},{name:"utils.status",apiId:"status"}]});}(Cog.jQuery()));(function($){"use strict";var api={},refs={componentName:"imageGallery",thumbnailsContainerSelector:".imageGallery-thumbnails",imageViewOverlaySelector:".imageGallery-view-overlay",imageViewSelector:".imageGallery-view",thumbnailsListContainerSelector:".imageGallery-list",mainArrowsSelector:".imageGallery-view .imageGallery-arrow",thumbnailsArrowsSelector:".imageGallery-thumbnails .imageGallery-arrow",thumbnailsArrowsLeftClass:"imageGallery-arrow-left",thumbnailsArrowsRightClass:"imageGallery-arrow-right",descriptionSelector:".imageGallery-description",thumbnailsListInner:".imageGallery-list-inner",thumbnailsList:".imageGallery-list"},Direction={PREV:-1,NEXT:1},settings={loop:true,playTimeout:4000};api.onRegister=function(scope){function showNext($context){var currentItem=$context.filter(".is-active"),$nextItem=currentItem.next();if($nextItem.length){$nextItem.trigger("click");}else if(settings.loop){$context.eq(0).trigger("click");}}
function showPrev($context){var currentItem=$context.filter(".is-active"),$prevItem=currentItem.prev();if($prevItem.length){$prevItem.trigger("click");}else if(settings.loop){$context.last().trigger("click");}}
function centerActiveThumbnail($context){var activeItem=$context.filter(".is-active"),currentItemPosition=activeItem.position();scrollThumbnails($context,currentItemPosition.left*-1);}
function scrollThumbnails($context,to){to+=$thumbnailsList.parent().width()/2-$context.filter(".is-active").width()/2;to=Math.max(to,-1*$thumbnailsList.width()+$thumbnailsList.parent().width());to=Math.min(0,to);$thumbnailsList.animate({left:to});}
var $this=scope.$scope,$mainImage=$this.find(refs.imageViewSelector+" img"),$mainImageContainer=$this.find(refs.imageViewSelector),$thumbnailsContainer=$this.find(refs.thumbnailsContainerSelector),$thumbnailsListContainer=$thumbnailsContainer.find(refs.thumbnailsListContainerSelector),$thumbnailsList=$thumbnailsListContainer.find(refs.thumbnailsListInner),$thumbnailsItems=$thumbnailsList.find("li"),$arrowsMain=$this.find(refs.mainArrowsSelector),$arrowsThumbs=$this.find(refs.thumbnailsArrowsSelector),$descriptionContainer=$this.find(refs.descriptionSelector),$firstItem=$thumbnailsItems.eq(0),playingTimer,maxImageHeight=$mainImageContainer.data("height");function setListWidth(){var thumbnailWidth=$firstItem.outerWidth(true),listOuterWidth=$thumbnailsItems.length*thumbnailWidth;$thumbnailsList.css("width",listOuterWidth);}
$mainImageContainer.on("click",function(){clearInterval(playingTimer);if($this.hasClass("is-playing")){$this.removeClass("is-playing");}else{playingTimer=setInterval(function(){var $activeItem=$thumbnailsItems.filter(".is-active"),$nextItem=$activeItem.next();if($nextItem.length){$nextItem.trigger("click");}else{$thumbnailsItems.eq(0).trigger("click");}},settings.playTimeout);$this.addClass("is-playing");}});$thumbnailsItems.on("click",function(ev){ev.preventDefault();ev.stopPropagation();var $this=$(this),$link=$this.find("a"),$linkImg=$link.find("img");if(!$this.hasClass("is-active")){$thumbnailsItems.removeClass("is-active");$this.addClass("is-active");$mainImage.on("load",function(){$mainImage.fadeIn(200);$descriptionContainer.text($link.data("description"));});if($linkImg.attr("src")!==$mainImage.attr("src")){var thumbnailsListLeft=$thumbnailsList.parent().offset().left,thumbnailsListRight=thumbnailsListLeft+
$thumbnailsList.parent().width(),thumbnailLeft=$this.offset().left,thumbnailRight=thumbnailLeft+$this.outerWidth(false);if(thumbnailsListLeft>thumbnailLeft){$thumbnailsList.animate({left:"+="+(thumbnailsListLeft-thumbnailLeft)});}else if(thumbnailsListRight<thumbnailRight){$thumbnailsList.animate({left:"-="+(thumbnailRight-thumbnailsListRight)});}
$mainImage.fadeTo(200,0,function(){var originalHeight=$linkImg.data("height"),correctHeight=!maxImageHeight||originalHeight<=maxImageHeight?originalHeight:maxImageHeight,originalWidth=$linkImg.data("width"),correctWidth=(correctHeight*originalWidth)/originalHeight;$mainImage.attr("width",parseInt(correctWidth,10));$mainImage.attr("height",parseInt(correctHeight,10));$mainImage.attr("src",$link.attr("href"));$mainImage.fadeTo(200,1);});}}});$arrowsThumbs.on("click",function(e){e.preventDefault();e.stopPropagation();var vector=$(this).hasClass(refs.thumbnailsArrowsLeftClass)?Direction.PREV:Direction.NEXT,currentScroll=parseInt($thumbnailsList.css("left"),10),to=currentScroll-vector*$thumbnailsItems.eq(0).width()*2;to-=$thumbnailsList.parent().width()/2-
$thumbnailsItems.filter(".is-active").width()/2;scrollThumbnails($thumbnailsItems,to);});$arrowsMain.on("click",function(ev){ev.preventDefault();ev.stopPropagation();$thumbnailsList.stop(false,true);var $this=$(this),vector=$this.hasClass(refs.thumbnailsArrowsLeftClass)?Direction.PREV:Direction.NEXT;if(vector===Direction.NEXT){showNext($thumbnailsItems);}else{showPrev($thumbnailsItems);}
centerActiveThumbnail($thumbnailsItems);$arrowsMain.removeClass("is-disabled");});var originalHeight=$mainImage.attr("height"),correctHeight=!maxImageHeight||originalHeight<=maxImageHeight?originalHeight:maxImageHeight,originalWidth=$mainImage.attr("width"),correctWidth=(correctHeight*originalWidth)/originalHeight;$mainImage.attr("width",parseInt(correctWidth,10));$mainImage.attr("height",parseInt(correctHeight,10));setListWidth();};Cog.registerComponent({name:"imageGallery",api:api,selector:".imageGallery"});})(Cog.jQuery());(function($){"use strict";var api={},loaded=false,$maps=[],URL="https://maps.googleapis.com/maps/api/js",defaultOptions={height:250,zoom:14,latitude:51.500134,longitude:-0.12623,mapType:"ROADMAP",markers:[]};function loadScript(params){var scriptElement=document.createElement("script"),to=document.getElementsByTagName("script")[0];scriptElement.async=true;scriptElement.src=URL+"?"+$.param(params);to.parentNode.insertBefore(scriptElement,to);loaded=true;}
function showMarkers(scope){if(!scope.mapOptions.markers.length){return;}
var marker,k,infoWindow,tmarker;for(k in scope.mapOptions.markers){if(scope.mapOptions.markers.hasOwnProperty(k)&&scope.mapOptions.markers[k].title.length){marker=scope.mapOptions.markers[k];tmarker=new google.maps.Marker({position:new google.maps.LatLng(marker.latitude,marker.longitude),map:scope.gmap,title:marker.title});if(marker.description.length){infoWindow=new google.maps.InfoWindow({content:_.unescape(marker.description)});google.maps.event.addListener(tmarker,"click",openInfoWindow(tmarker,infoWindow,scope.gmap));}}}}
function openInfoWindow(tmarker,infoWindow,gMap){return(function(tmarker,infoWindow){return function(){infoWindow.open(gMap,tmarker);};})(tmarker,infoWindow);}
function onRegister(scope){var map=scope,options=$.extend(defaultOptions,map.data()),centerPosition;map.height(options.height);centerPosition=new google.maps.LatLng(options.latitude,options.longitude);scope.mapOptions={zoom:options.zoom,center:centerPosition,markers:options.markers,mapTypeId:google.maps.MapTypeId[options.mapType]};scope.gmap=new google.maps.Map(map[0],scope.mapOptions);showMarkers(scope);var tabContent=map.parents(".tabs-content");if(tabContent.size()){Cog.addListener("tab","change",function(e){if(tabContent.attr("id")===e.eventData.id){google.maps.event.trigger(scope.gmap,"resize");}});}}
api.callback=function(){_.each($maps,function(el){onRegister($(el));});};api.init=function(components){var params={};$maps=components;if(!$maps.size()){return false;}
if(loaded){api.callback();return false;}
if($maps.first().data("key")){params.key=$maps.first().data("key");}
params.callback="Cog.component.map.callback";loadScript(params);};api.onRegister=$.noop;Cog.registerComponent({name:"map",api:api,selector:".map-canvas"});Cog.component.map=api;})(Cog.jQuery());(function($){"use strict";function Nav($nav){this.$nav=$nav;this.bindUIEvents();}
Nav.prototype.bindUIEvents=function(){var self=this;self.$nav.on("tap click",".navigation-mobile-menu",function(e){e.preventDefault();$(this).next(".navigation-root").toggleClass("is-open");$(this).attr("aria-expanded",function(_,attr){if(attr==="false"){attr=false;}
return!attr;});});if(!self.$nav.is(".navigation-horizontal")||$("html").hasClass("mod-touch")){self.$nav.on("tap click",".has-children > .navigation-item-title >"+
" .navigation-item-decoration",function(event){event.preventDefault();event.stopPropagation();var $this=$(this).closest(".has-children"),$siblings=$this.siblings(".has-children");$siblings.not($this).removeClass("is-open").find(".has-children").removeClass("is-open");$this.toggleClass("is-open");}).on("keydown",".has-children > .navigation-item-title >"+
" .navigation-item-decoration",function(event){if(event.which===13){event.stopPropagation();event.preventDefault();$(this).trigger("click");}});self.$nav.on("click",".has-children > .navigation-item-title >"+
".navigation-item-decoration",function(event){event.preventDefault();event.stopPropagation();});}else{self.$nav.on("mouseenter focusin",".has-children",function(){var $this=$(this);$this.addClass("is-open");}).on("mouseleave",".has-children",function(){$(this).removeClass("is-open");}).on("focusout",".has-children",function(){var $this=$(this);setTimeout(function(){if(!$this.is(":focus")&&!$this.find(":focus").size()){$this.removeClass("is-open");}},0);});}};var api={};api.navs=[];api.onRegister=function(scope){var $nav=scope.$scope;api.navs.push(new Nav($nav));};Cog.registerComponent({name:"navigation",api:api,selector:".navigation"});return api;}(Cog.jQuery()));(function($){'use strict';var api={tabs:[]};function Tab($scope){this.$scope=$scope;this.init();this.bindEvents();this.adjustPosition();}
Tab.prototype.init=function(){var $this=this.$scope;this.$contents=$this.find('> .component-content > .tabs-content');this.$contents.addClass('is-hidden');this.isVertical=$this.hasClass('tabs-vertical');this.$tabs=$this.find('> .component-content > .tabs-nav .tabs-nav-item');this.showSwipeIcon();$(window).on('resize',_.debounce(this.showSwipeIcon.bind(this),150));};Tab.prototype.bindEvents=function(){function activateTab(event){var $tab=$(event.currentTarget),newPanel,$aTag=$tab.find('a');self.$contents.addClass('is-hidden');newPanel=self.$contents.filter($aTag.attr('href'));newPanel.removeClass('is-hidden');self.$tabs.removeClass('is-active');$tab.addClass('is-active');event.preventDefault();Cog.fireEvent('tab','change',{id:newPanel.attr('id'),container:newPanel,$target:$aTag,manual:event.originalEvent!==undefined});}
function findAnchorElement(){var anchorIdFromUrl=window.location.hash;anchorIdFromUrl=anchorIdFromUrl?anchorIdFromUrl.substr(1):undefined;return anchorIdFromUrl?$(document.getElementById(anchorIdFromUrl)):undefined;}
function getTabIndex($anchorElement){var tabIndex=-1;var tabsContent=$anchorElement.closest('.tabs-content')[0];if(tabsContent&&tabsContent.id){tabIndex=tabsContent.id.substring(tabsContent.id.lastIndexOf('-')+1);}
return tabIndex;}
function isInTabs($anchorElement){return $anchorElement.closest('.tabs.component').length===1;}
function scrollTo($anchorElement){setTimeout(function(){$('html, body').stop().animate({scrollTop:$anchorElement.offset().top},300);},0);}
function bindAnchorClicks($tabsComponent,$tabsList){$tabsComponent.find('.tabContent > .content [id]').each(function(){var $anchorElement=$(this);var tabIndex=getTabIndex($anchorElement);var $navItemToClick=$($tabsList[tabIndex]);if($anchorElement[0]&&$navItemToClick){$('a[href="#'+$anchorElement[0].id+'"]').on('click',function(){if(!$navItemToClick.hasClass('.is-active')){$navItemToClick.click();}
scrollTo($anchorElement);});}});}
var self=this;this.navWidth=this.$scope.find('> .component-content > .tabs-nav').width();this.listWidth=0;this.listHeight=0;this.$tabs.each(function(){self.listWidth+=$(this).outerWidth(true);self.listHeight+=$(this).outerHeight(true);});if(!this.isVertical){if(this.navWidth<this.listWidth){this.initializeScrolling();}}else{this.setContentHeight();}
this.$tabs.on('click',activateTab);this.$tabs.filter('.is-active').trigger('click');bindAnchorClicks(this.$scope,this.$tabs);var $anchorElement=findAnchorElement();if($anchorElement&&$anchorElement.length===1&&isInTabs($anchorElement)){var tabIndex=getTabIndex($anchorElement);var navItemToClick=self.$tabs[tabIndex];if(navItemToClick){$(navItemToClick).click();scrollTo($anchorElement);}}};Tab.prototype.initializeScrolling=function(){var $switchers=this.$scope.find('.tabs-nav-switcher'),$switcherRight=$switchers.filter('.tabs-nav-switcher-right'),$switcherLeft=$switchers.filter('.tabs-nav-switcher-left'),$list=this.$scope.find('.tabs-nav-list'),self=this;$switcherRight.removeClass('is-hidden');$switchers.on('click',function(){var $this=$(this),difference=$this.hasClass('tabs-nav-switcher-right')?-20:20,nextLeft=(parseInt($list.css('left'),10)+difference);if(nextLeft<0){$switcherLeft.removeClass('is-hidden');if(-1*nextLeft>=self.listWidth-self.navWidth){$switcherRight.addClass('is-hidden');}else{$switcherRight.removeClass('is-hidden');}}else{$switcherLeft.addClass('is-hidden');}
$list.stop().animate({left:nextLeft+'px'});});};Tab.prototype.setContentHeight=function(){var self=this;this.$contents.each(function(){if($(this).height()<self.listHeight){$(this).css('min-height',self.listHeight+'px');}});};Tab.prototype.showSwipeIcon=function(){var $tabNav=this.$scope.find('.tabs-nav'),$navElements=$tabNav.find('>ul li'),navWidth=0;for(var i=0;i<=$navElements.length;i++){navWidth+=$($navElements[i]).outerWidth();}
if($tabNav.width()<navWidth-2){$tabNav.addClass('tabs-nav-scroll');}else{$tabNav.removeClass('tabs-nav-scroll');}};Tab.prototype.adjustPosition=function(){$(document).ready(function(){if(window.location.href){var $target=$(document.getElementById(window.location.hash.substr(1)));if($target.length){$('html, body').stop().animate({scrollTop:$target.offset().top,},0);}}});};api.onRegister=function(scope){api.tabs.push(new Tab(scope.$scope));};Cog.registerComponent({name:'tabs',api:api,selector:'.tabs'});})(Cog.jQuery());(function($){"use strict";var api={};api.preprocess={twitter:function(tweet,settings){function parseDate(tdate){var system_date=new Date(Date.parse(tdate)),user_date=new Date();var K=function(){var a=navigator.userAgent;return{ie:a.match(/MSIE\s([^;]*)/)}};if(K.ie){system_date=Date.parse(tdate.replace(/( \+)/,' UTC$1'))}
var diff=Math.floor((user_date-system_date)/1000);if(diff<=1){return "just now";}
if(diff<20){return diff+" seconds ago";}
if(diff<40){return "half a minute ago";}
if(diff<60){return "less than a minute ago";}
if(diff<=90){return "one minute ago";}
if(diff<=3540){return Math.round(diff/60)+" minutes ago";}
if(diff<=5400){return "1 hour ago";}
if(diff<=86400){return Math.round(diff/3600)+" hours ago";}
if(diff<=129600){return "1 day ago";}
if(diff<604800){return Math.round(diff/86400)+" days ago";}
if(diff<=777600){return "1 week ago";}
return "on "+system_date;}
var target=settings.blankLinks?" target=\"_blank\"":"";tweet.text=tweet.text.replace(/(^|\s)https:\/\/t.co\/(\w+)/,"$1<a href=\"https://t.co/$2\""+target+"><strong>http://t.co/$2</strong><\/a>").replace(/(^|\s)@(\w+)/g,"$1<a href=\"https:\/\/www.twitter.com\/$2\""+
target+">@<strong>$2</strong><\/a>").replace(/(^|\s)#(\w+)/g,"$1<a href=\"https:\/\/twitter.com\/search?q=%23$2&src=hash\""+
target+">#<strong>$2</strong><\/a>");var posted=parseDate(tweet.created_at);tweet.created_at=posted;tweet.target=target;tweet.retwitted=false;if(typeof tweet.retweeted_status!=="undefined"){tweet.retwitted=tweet.retweeted_status.user.name;}
return tweet;}};api.onRegister=function(scope){var fp,provider,content,interval,getTweets,isTicker;getTweets=function(provider,settings){var self=api;$.getJSON(provider,function(data){api.processData.call(self,data,settings,scope);});};api.scope=fp=scope.$scope;content=$(fp).find(".component-content");provider=content.data("providerPath");isTicker=api.scope.hasClass('twitter-ticker');if(provider){interval=content.data("refresh-interval");getTweets.call(fp,provider,content.data());if(interval&&!isTicker){(function(fp,provider,settings){window.setInterval(function(){getTweets.call(fp,provider,settings);},interval*1000);})(fp,provider,content.data());}}};api.processData=function(data,settings,scope){if(typeof data.feedType==="undefined"){return false;}
var template=api.getTemplate(data.feedType),output="";_.forEach(data.statuses,function(feed){if(typeof api.preprocess[data.feedType]==="function"){feed=api.preprocess[data.feedType](feed,settings);}
var $tweet=$(_.template(template,feed));var $timeTpl=$('<a class="tweet-link" href="https://twitter.com/'+
feed.user.screen_name+
'/status/'+feed.id_str+
'"><time class="twitter-date-ago">'+feed.created_at+'</time></a>');$tweet.find('.twitter-actions').before($timeTpl);output+=$tweet[0].outerHTML;});if(scope.$scope.hasClass('twitter-ticker')){var MINIMUM_STATUSES_QTY=8;var additional='';var multiplier=Math.ceil(MINIMUM_STATUSES_QTY/data.statuses.length);for(var i=1;i<multiplier;i++){additional+=output;}
output+=additional;}
$(scope.$scope).find(".feed-provider-feeds").html(output);Cog.fireEvent("twitter","feedsLoaded");return true;};api.getTemplate=function(type){return $("."+type+"-template")[0].innerHTML;};Cog.registerComponent({name:"feedProvider",api:api,selector:".twitter",requires:["utils.settings"]});})(Cog.jQuery());(function($){'use strict';var api={},features=['playpause','progress','current','duration','tracks','volume','fullscreen'];function Video($el){this.$el=$el;this.$video=$el.find('video');this.imageAlt=$el.find('.component-content').data('imagealt');this.initialize();this.bindEvents();}
Video.prototype={initialize:function(){var tabContent=this.$video.parents('.tabs-content');if(tabContent.size()){Cog.addListener('tab','change',function(e){if(tabContent.attr('id')===e.eventData.id){this.mediaElement.player.resetSize();}},{scope:this});}
this.$video.mediaelementplayer({features:features,enableAutosize:false,plugins:['flash','youtube'],pluginPath:api.external.settings.themePath+'/assets/swf/',flashName:'flashmediaelement.swf',videoHeight:this.$video.attr('height'),success:this.onMejsSuccess.bind(this)});},bindEvents:function(){Cog.addListener('overlay','close',this.onOverlayClose,{scope:this,disposable:true});},onOverlayClose:function(){if(this.$el.parents('.overlay-container').size()){this.mediaElement.stop();this.mediaElement.remove();Cog.finalize(this.$el);}},onMejsSuccess:function(mediaElement){this.mediaElement=mediaElement;var image=this.$el.find('.mejs-poster > img')[0];if(image){image.alt=this.imageAlt;}}};api.onRegister=function(scope){if(this.external.status.isEdit()){return;};new Video(scope.$scope);};Cog.registerComponent({name:'videoplayer',api:api,selector:'.video',requires:[{name:'utils.settings',apiId:'settings'},{name:'utils.status',apiId:'status'}]});})(Cog.jQuery());(function($){"use strict";var api={},features=["playpause","progress","current","duration","tracks","volume","fullscreen"],refs={thumbnailsListContainerSelector:".videoGallery-list",thumbnailsArrowsSelector:".videoGallery-arrow",descriptionSelector:".videoGallery-description",titleSelector:".videoGallery-heading",videoWrapper:".videoGallery-video"};function provideArrayOfSources(domElement){var data=$(domElement).data(),sources=[{src:data.srcMp4,type:"video/mp4"},{src:data.srcOgg,type:"video/ogg"},{src:data.srcWebm,type:"video/webm"}];return _.filter(sources,"src");}
function VideoGallery($el){this.$el=$el;this.$video=$el.find("video");this.mediaElement=null;this.$thumbnails=this.$el.find(refs.thumbnailsListContainerSelector);this.$thumbnailsList=this.$thumbnails.find("ul");this.$thumbnailsItems=this.$thumbnails.find("li");this.$arrows=this.$el.find(refs.thumbnailsArrowsSelector);this.listContainerWidth=this.$thumbnails.width();this.thumbnailWidth=this.$thumbnailsItems.eq(0).outerWidth(true);this.autoPlayNext=this.$el.find(refs.videoWrapper).data("autoplay-next-video");this.initialize();this.bindEvents();}
VideoGallery.prototype={initialize:function(){var self=this;this.$thumbnailsList.css("width",this.thumbnailWidth*this.$thumbnailsItems.length);this.$video.mediaelementplayer({features:features,enableAutosize:true,plugins:["flash"],pluginPath:api.external.settings.themePath+"/assets/swf/",flashName:"flashmediaelement.swf",success:this.onMejsSuccess.bind(this)});function recalculateListWith(){self.listContainerWidth=self.$thumbnails.width();self.$thumbnailsList.css({left:0});self.$arrows.filter(".videoGallery-arrow-left").addClass("is-disabled");self.$arrows.filter(".videoGallery-arrow-right").removeClass("is-disabled");}
$(window).resize(_.throttle(recalculateListWith,150));},bindEvents:function(){var self=this;Cog.addListener("overlay","close",this.onOverlayClose,{scope:this,disposable:true});this.$thumbnailsItems.on("click",function(){var $this=$(this);self.reloadVideo({src:provideArrayOfSources($this),autoplay:true,title:$this.data("title"),poster:$this.find("img").attr("src"),description:$this.data("description")});self.$thumbnailsItems.removeClass("is-active");$this.addClass("is-active");});this.$arrows.click("click",function(){self.$thumbnailsList.stop(false,true);var $this=$(this),listOuterWidth=self.thumbnailWidth*self.$thumbnailsItems.length,left=parseInt(self.$thumbnailsList.css("left"),10),vector=$this.hasClass("videoGallery-arrow-left")?1:-1,nextLeft=left+(self.thumbnailWidth*vector),maxLeft=listOuterWidth-self.listContainerWidth+
(self.listContainerWidth%self.thumbnailWidth);self.$arrows.removeClass("is-disabled");if(nextLeft<=0&&(-1)*nextLeft<=maxLeft){self.$thumbnailsList.animate({left:nextLeft});}else{$this.addClass("is-disabled");}
nextLeft+=self.thumbnailWidth*vector;if(!(nextLeft<=0&&(-1)*nextLeft<=maxLeft)){$this.addClass("is-disabled");}});},reloadVideo:function(data){var mediaElement=this.mediaElement,$descriptionContainer=this.$el.find(refs.descriptionSelector),$titleContainer=this.$el.find(refs.titleSelector);mediaElement.pause();mediaElement.setSrc(data.src);mediaElement.load();if(data.poster){this.$video.attr("poster",data.poster);this.$video.parents(".mejs-inner").find(".mejs-poster").css({"background-image":"url('"+data.poster+"')","display":"block"});}
if(data.autoplay){mediaElement.play();}
$descriptionContainer.text(data.description);$titleContainer.text(data.title);},onOverlayClose:function(){if(this.$el.parents(".overlay-container").size()){this.mediaElement.stop();this.mediaElement.remove();Cog.finalize(this.$el);}},onMejsSuccess:function(mediaElement){var self=this,$thumbnailsItems=this.$thumbnailsItems;this.mediaElement=mediaElement;mediaElement.addEventListener("ended",function(){var $nextThumbnail=$thumbnailsItems.filter(".is-active").eq(0).next();if($nextThumbnail.length){self.reloadVideo({src:provideArrayOfSources($nextThumbnail),autoplay:self.autoPlayNext,title:$nextThumbnail.data("title"),poster:$nextThumbnail.find("img").attr("src"),description:$nextThumbnail.data("description")});$thumbnailsItems.removeClass("is-active");$nextThumbnail.addClass("is-active");}});}};api.onRegister=function(scope){new VideoGallery(scope.$scope);};Cog.registerComponent({name:"videoGallery",api:api,selector:".videoGallery",requires:[{name:"utils.settings",apiId:"settings"}]});}(Cog.jQuery()));(function($){var api={emailTipBox:[]};var successMessage='Youve successfully joined MSEs Money Tips email list.';var errorMessage='Sorry something went wrong - you may already have joined MSEs '+'Money Tips email list with this email address. If not, please try again.';var errorMessageEmailError='Sorry, something went wrong - please enter a valid email address.';var errorMessageSubscribed='Sorry, something went wrong - you have already joined MSE\'s '+'Money Tips email list with this email address.';var errorMessageEmptyMail='Sorry, something went wrong - please enter your email address.';var errorMessageTipBoxMain='Please enter a valid email address.';function EmailTipBox($scope){this.$scope=$scope;this.bindUIEvents();this.init();}
EmailTipBox.prototype.init=function(){this.openTipBox();this.closeTipPopUp();this.submitEmail();this.readCookie();this.hideForScreenReader();};EmailTipBox.prototype.readCookie=function(){if(Cog.Cookie.read('tip')!=='tip'){this.showTipPopupOnScroll();}};EmailTipBox.prototype.hideForScreenReader=function(){if(this.$scope.parents('.tip-email-popup').length){this.$scope.attr('aria-hidden','true');}};EmailTipBox.prototype.openTipBox=function(){var $this=this.$scope;var $toggleButton=$this.find('.email-tip-box__collapse');$toggleButton.click(function(){$this.toggleClass('email-tip-box--collapsed email-tip-box--expanded');});};EmailTipBox.prototype.removeTipBox=function(){var $tipBoxes=$('body').find('.reference-email-tip-box:not(.sidebar-section-container .reference-email-tip-box)');$tipBoxes.remove();};EmailTipBox.prototype.displayErrorMessage=function(message){Cog.fireEvent('analytics','tipbox.displayErrorMessage',{$target:this.$scope,elementExtraInfo:message});var $this=this.$scope;var $parent=$this.parent();var $visibleOldError=$parent.parent().find('.email-tip-box__error');var $error=$('<p class="email-tip-box__error" style="display: none">'+message+'</p>');var $formInputs=$this.find('.inputs');if($visibleOldError.length){$visibleOldError.remove();}
if($parent.parent().hasClass('tip-email-popup')){$parent.after($error);$error.fadeIn('normal');}else if($this.parent().hasClass('tip-box-general')){$parent.after($error);$error.fadeIn('normal');}else if($this.parent().hasClass('tip-box-main')){var $tipBoxMainError=$error;if(message===errorMessageEmailError||message===errorMessageEmptyMail){$tipBoxMainError=$('<p class="email-tip-box__error" style="display: none">\n                    '+errorMessageTipBoxMain+'</p>');}
$formInputs.after($tipBoxMainError);$tipBoxMainError.fadeIn('normal');}else{$this.after($error);$error.fadeIn('normal');}};EmailTipBox.prototype.displaySuccessMessage=function(message){Cog.fireEvent('analytics','tipbox.displaySuccessMessage',{$target:this.$scope,isHomeTipBox:this.$scope.is('.tip-box-general-form, .tip-box-main-form')});var $this=this.$scope;var $visibleOldError=$this.parent().parent().find('.email-tip-box__error');if($visibleOldError.length){$visibleOldError.remove();}
$('body').prepend('<p class="email-tip-box__success">'+message+'</p>');$('body').find('.reference-email-tip-box input[type="email"]').val('');setTimeout(function(){$('body').find('.email-tip-box__success').remove();},12000);};EmailTipBox.prototype.closeTipPopUp=function(){var _this=this;var $this=this.$scope;var $tipPopUpClose=$this.find('.email-tip-box__popup-close');$tipPopUpClose.click(function(){Cog.fireEvent('analytics','tipbox.closeTipBoxPopUp',{$target:_this.$scope});$this.parent().parent().css({bottom:'-300px'});setTimeout(function(){$this.parent().parent().remove();Cog.Cookie.create('tip','tip',90);},900);});};EmailTipBox.prototype.showTipPopupOnScroll=function(){var _this2=this;var $tipPopUp=this.$scope.closest('.tip-email-popup');var documentHeight=$(document).height();var placeToShow=documentHeight/20;var $scope=this.$scope;var alreadyShown=false;if($tipPopUp.length){$(window).scroll(function(){if(!alreadyShown&&$(document).scrollTop()>placeToShow){alreadyShown=true;$tipPopUp.css({bottom:'-1px',overflow:'visible'});_this2.$scope.attr('aria-hidden','false');Cog.fireEvent('analytics','tipbox.showTipBoxPopUp',{$target:$scope});}});}};EmailTipBox.prototype.submitEmail=function(){var $this=this.$scope;var self=this;var $form=$this.find('form');$form.submit(function(e){var email=self.$scope.find('input[type=email]').val();e.preventDefault();if(!email.length){self.displayErrorMessage(errorMessageEmptyMail);}else{self.sendApiRequest('/services/email-tip-box/subscribe',email);}
$this.addClass('sending-in-progress');});};EmailTipBox.prototype.sendApiRequest=function(url,email){var self=this;$.ajaxSetup({type:'POST',url:url,dataType:'json',data:{email:email}});$.ajax({success:function success(data){var apiSuccess=data.success;var apiExistingUser=data.existing_user;self.parseApiData(apiSuccess,apiExistingUser);},error:function error(){}});};EmailTipBox.prototype.parseApiData=function(apiSuccess,apiExistingUser){switch(apiSuccess){case 0:switch(apiExistingUser){case 0:this.displayErrorMessage(errorMessageEmailError);break;case 1:this.displayErrorMessage(errorMessage);break;}
break;case 1:switch(apiExistingUser){case 0:this.displaySuccessMessage(successMessage);this.removeTipBox();Cog.Cookie.create('tip','tip',90);break;case 1:this.displayErrorMessage(errorMessageSubscribed);break;}
break;}};EmailTipBox.prototype.bindUIEvents=function(){this.$scope.find('.email-tip-box__input input[type=email], '+'.tip-box-general-inputs input[type=email], '+'.tip-box-main-inputs input[type=email]').on('focus',function(ev){Cog.fireEvent('analytics','tipbox.focusEmailAddress',{$target:$(ev.currentTarget)});});this.$scope.find('.email-tip-box__input,'+'.tip-box-general-inputs form, '+'.tip-box-main-inputs form').on('submit',function(ev){Cog.fireEvent('analytics','tipbox.submitEmailAddress',{$target:$(ev.currentTarget)});});};api.onRegister=function(scope){api.emailTipBox.push(new EmailTipBox(scope.$scope));};Cog.registerComponent({name:'email-tip-box',api:api,selector:'.email-tip-box, .tip-box-general-form, .tip-box-main-form'});})(Cog.jQuery());(function($){var api={};var visibleClass='visible';var $headerBottomMenu=$('.header-bottom-menu');api.hideMenuItems=function(){$headerBottomMenu.find('.menuItem>div').removeClass(visibleClass);};api.showMenuItem=function(item){$(item).find('~ div').addClass(visibleClass);};api.onRegister=function(){$headerBottomMenu.on('keyup',function(e){var $currentButton=$(e.target);var keyCode=e.keyCode||e.which;if(!$currentButton.parent().hasClass('menuItem'))return;if(keyCode===9){api.showMenuItem(e.target);}
if(keyCode===40){e.preventDefault();$currentButton.parent().find('.linksBlock a').eq(0).get(0).focus();}});$headerBottomMenu.on('keydown',function(e){var $currentButton=$(e.target);var keyCode=e.keyCode||e.which;if(!$currentButton.parent().hasClass('menuItem'))return;if(keyCode===9){api.hideMenuItems();}
if(keyCode===40){e.preventDefault();}});$headerBottomMenu.on('mouseleave',api.hideMenuItems);$(document).on('touchstart',function(e){if(!$(e.target).closest('.header-bottom-menu').length){api.hideMenuItems();}});};Cog.registerComponent({name:'megaMenuMainNavigation',api:api,selector:'.header-bottom-menu'});})(Cog.jQuery());(function($){var api={};var swipeHintHtml='<div class="swipeHint"><span></span></div>';var $mobileMenuContainer=$('.header-bottom-menu-mobile-version');api.toggleMobileMenu=function(element,$menuToggleButton){$menuToggleButton.click(function(){if(element.hasClass('searchExpanded')){element.removeClass('searchExpanded');element.parents('#header').find('.header-top-paragraph').slideUp(200);}
element.toggleClass('menuExpanded');});};api.toggleSearchBox=function(element,$searchToggleButton){$searchToggleButton.click(function(){if(element.hasClass('menuExpanded')){element.removeClass('menuExpanded');}
element.toggleClass('searchExpanded');element.parents('#header').find('.header-top-paragraph').slideToggle(200);});};api.ShowSwipeHand=function(){if(!Cog.Cookie.read('swipeHint')){$mobileMenuContainer.append(swipeHintHtml);Cog.Cookie.create('swipeHint','true',90);setTimeout(function(){$mobileMenuContainer.find('.swipeHint').animate({opacity:0},300,'linear',function(){$(this).remove();});},5000);}};api.turnOffLinksMobile=function(){var $mobileMenuLinks=$('.menuBar-desktop > ul > li .menuItem > a:nth-child(1)');if(Modernizr.touch){if(window.matchMedia('(min-width: 992px)').matches){$mobileMenuLinks.bind('click',function(e){e.preventDefault();});}else{$mobileMenuLinks.bind('click',function(){return true;});}}};api.onRegister=function(element){var $this=element.$scope;var $menuToggleButton=$this.find('.mobile-menu-toggle');var $searchToggleButton=$this.find('.mobile-menu-search');$('.mobile-menu-homepage a:nth-child(1)').attr('href','http://www.moneysavingexpert.com');api.toggleMobileMenu($this,$menuToggleButton);api.toggleSearchBox($this,$searchToggleButton);api.ShowSwipeHand();api.turnOffLinksMobile();$(window).on('resize',_.debounce(function(){api.turnOffLinksMobile();},150));};Cog.registerComponent({name:'megaMenuMobileVersion',api:api,selector:'.header-bottom-menu-mobile-version'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={topNavMainLinks:'.top-nav-v2__links',topNavLinksVariant:'.top-nav-v2__links .richText',topNavLinkList:'.top-nav-v2__links ul',topNavLinks:'[class*="top-nav-v2__links-"]',moreBtn:'.top-nav-v2__moreButton > a'};var TopNav=function(){function TopNav($scope,status){_classCallCheck(this,TopNav);this.$scope=$scope;this.status=status;this.checkMenuVariant();}
TopNav.prototype.checkMenuVariant=function checkMenuVariant(){if(this.status.isAuthor()){return;}
this.$topNavLinkVariant=this.$scope.find(selectors.topNavLinksVariant);this.topNavLinks=this.$scope.find(selectors.topNavLinks);if(this.$topNavLinkVariant.is(selectors.topNavLinks)){var classList=this.topNavLinks.attr('class').split(/\s+/);var className=classList.find(function(el){return el.match(/top-nav-v2__links-/gi);});var visibleLinksNum=className.substr(className.length-1);this.createSubmenu(visibleLinksNum);}else{this.createSubmenu(4);}};TopNav.prototype.createSubmenu=function createSubmenu(linksQuantity){this.$topNavLinkList=this.$scope.find(selectors.topNavLinkList);this.$topNavMainLinks=this.$scope.find(selectors.topNavMainLinks);var topNavLinks=this.$topNavLinkList.children();topNavLinks.each(function(idx,el){if(idx>linksQuantity-1&&idx<topNavLinks.length-1){$(el).addClass('top-nav-v2__moreItem').attr('role','menuitem');}});$('.top-nav-v2__moreItem').wrapAll('<ul class="top-nav-v2__moreList" />');$('.top-nav-v2__moreList').wrap('<li class="top-nav-v2__moreButton" role="menu" aria-haspopup="true" aria-expanded="false">\n                    <a href="#">More</a>\n                </li>');this.handleMoreButton();this.$topNavMainLinks.addClass('is-visible');};TopNav.prototype.handleMoreButton=function handleMoreButton(){var _this=this;this.$moreBtn=this.$scope.find(selectors.moreBtn);this.$moreBtn.on('click',function(evt){evt.preventDefault();var $el=$(evt.target).parent();var isExpanded=$el.attr('aria-expanded')==='true';$el.toggleClass('active').attr('aria-expanded',isExpanded?'false':'true');Cog.fireEvent('analytics','mobileTopnav.moreButtonClick',{target:evt.target,currentTarget:evt.currentTarget});});$(document).on('click',function(evt){if(!_this.$moreBtn.is($(evt.target))){_this.$moreBtn.parent().removeClass('active').attr('aria-expanded',false);}});};return TopNav;}();api.onRegister=function(scope){new TopNav(scope.$scope,this.external.status);};Cog.registerComponent({name:'Nav',api:api,selector:'.top-nav-v2',requires:[{name:'utils.status',apiId:'status'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={topNavMobileWrapper:'.top-nav-v2-mobile-view',topNavMobileHamburgerImage:'.top-nav-v2-mobile-menu-open-image',topNavMobileCloseImage:'.top-nav-v2-mobile-menu-close-image',topNavMobileSearchToggleLink:'.top-nav-v2__search',topNavMobileToggleMenu:'.top-nav-v2-mobile-menu-toggle',topNavMobileToggleMenuOpen:'top-nav-v2-mobile-menu-toggle--open',topNavMobileLogoAnchor:'.top-nav-v2-mobile-logo-image-left a, .top-nav-v2-mobile-logo-mse a'};var TopNavMobile=function(){function TopNavMobile($element,status){_classCallCheck(this,TopNavMobile);this.$element=$element;this.status=status;this.bindUIElements();this.bindValues();this.bindUIEvents();}
TopNavMobile.prototype.bindUIElements=function bindUIElements(){this.$topNavMobileWrapper=this.$element;this.$topNavMobileHamburgerImage=this.$topNavMobileWrapper.find(selectors.topNavMobileHamburgerImage);this.$topNavMobileHamburgerLink=this.$topNavMobileHamburgerImage.find('a');this.$topNavMobileCloseImage=this.$topNavMobileWrapper.find(selectors.topNavMobileCloseImage);this.$topNavMobileCloseLink=this.$topNavMobileCloseImage.find('a');this.$topNavMobileLogoAnchor=this.$topNavMobileWrapper.find(selectors.topNavMobileLogoAnchor);};TopNavMobile.prototype.bindValues=function bindValues(){this.mobileTopNavSnippetName=!this.status.isAuthor()?this.$topNavMobileWrapper.closest('.snippetReference').attr('class').split(' ').filter(function(elem){return elem.indexOf('mobile')!==-1;}).toString():'';};TopNavMobile.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$topNavMobileHamburgerLink.on('click',function(ev){ev.preventDefault();var isHamburgerMenuOpen=true;_this.handleHamburgerMenuTracking(isHamburgerMenuOpen);});this.$topNavMobileCloseLink.on('click',function(ev){ev.preventDefault();var isHamburgerMenuOpen=false;_this.handleHamburgerMenuTracking(isHamburgerMenuOpen);});this.$topNavMobileLogoAnchor.on('click',function(ev){_this.handleLogoTracking(ev);});$(document).ready(function(){return $(selectors.topNavMobileHamburgerImage).show();});};TopNavMobile.prototype.handleLogoTracking=function handleLogoTracking(ev){var logoAnchorClicked=$(ev.currentTarget);var logoImageAltText=logoAnchorClicked.find('img').attr('alt');var logoHref=logoAnchorClicked.attr('href');Cog.fireEvent('analytics','mobileTopnav.logoClick',{actionType:'click',clickType:'internal',siteSection:'MastHead TopNav',itemIdentifier:logoImageAltText||'',internalDestination:logoHref,elementLayer1:'snippet '+this.mobileTopNavSnippetName,elementLayer2:'image',elementLayer3:undefined});};TopNavMobile.prototype.handleHamburgerMenuTracking=function handleHamburgerMenuTracking(isHamburgerMenuOpen){Cog.fireEvent('analytics','mobileTopnav.hamburgerMenuClick',{actionType:'click',clickType:'internal',siteSection:'MastHead TopNav',itemIdentifier:'Burger '+(isHamburgerMenuOpen?'Open':'Close'),elementLayer1:'snippet '+this.mobileTopNavSnippetName,elementLayer2:'button',elementLayer3:undefined});};return TopNavMobile;}();api.onRegister=function(scope){new TopNavMobile(scope.$scope,this.external.status);};Cog.registerComponent({name:'NavMobile',api:api,selector:'.top-nav-v2-mobile-view',requires:[{name:'utils.status',apiId:'status'}]});})(Cog.jQuery());(function($){var api={};var visibleClass='visible';var $topHeaderLinks=$('.top-header-links');var $forumLinkButton=$('.forum-link-button');var $headerTopNavItem=$('.header-top-navigation ul li');api.openTopLinks=function(){$topHeaderLinks.stop(true,true).slideToggle(300);$forumLinkButton.toggleClass('open');};api.handleNavDropdowns=function(element){var $visibleDropdown=$('ul.visible');var $element=$(element);if($visibleDropdown.length&&!$element.next('ul').hasClass(visibleClass)){$visibleDropdown.removeClass(visibleClass);$element.next('ul').addClass(visibleClass);}else{$element.next('ul').toggleClass(visibleClass);}};api.onRegister=function(){if($headerTopNavItem.find('ul')){$headerTopNavItem.find('ul').parent().addClass('has-children');}
$forumLinkButton.on('click',api.openTopLinks);$forumLinkButton.on('keyup',function(ev){if(ev.keyCode===13||ev.keyCode===32){api.openTopLinks();}});$('body').click(function(e){if($(e.target).is('li.has-children > a')){e.preventDefault();api.handleNavDropdowns(e.target);}else if(!$(e.target).is('ul.visible')){$('ul.visible').removeClass(visibleClass);}});};Cog.registerComponent({name:'topNavigation',api:api,selector:'.header-top-navigation'});})(Cog.jQuery());(function(){var api={};api.viewMoreTips=function($viewMoreButton,$tipsContainer){$viewMoreButton.click(function(){$tipsContainer.addClass('view-all-tips');this.remove();});};api.onRegister=function(element){var $this=element.$scope;var $viewMoreButton=$this.find('.tip-list__view-more');var $tipsContainer=$this.find('.tips-div ul');api.viewMoreTips($viewMoreButton,$tipsContainer);};Cog.registerComponent({name:'tipList',api:api,selector:'.tip-list-component'});})();(function($){var api={};var $searchForm=$('.form.error-page-form');var $searchInput=$('.error-page-form input[name="textField"]');var $mainSiteButton=$searchForm.find('input[value="mainSite"]');var $forumsButton=$searchForm.find('input[value="forums"]');api.handleSearchQuery=function(){var searchQuery=void 0;var inputValue=$searchInput.val();if($mainSiteButton.is(':checked')){searchQuery='https://www.moneysavingexpert.com/advanced-search.php?q='+inputValue+'&searchtype=guides';}else if($forumsButton.is(':checked')){searchQuery='http://forums.moneysavingexpert.com/search.php?q='+inputValue+'&searchid=174650582';}
window.location.href=searchQuery;};api.onRegister=function(){$searchForm.submit(function(e){e.preventDefault();api.handleSearchQuery();});};Cog.registerComponent({name:'errorPageForm',api:api,selector:'.error-page-form'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var classes={isVisible:'is-visible',isHidden:'is-hidden',isActive:'is-active',linkNext:'link-next',linkPrev:'link-prev',iconClear:'icon-clear',iconSearch:'icon-search',searchForm:'search-header-form',searchInput:'search-header-input',resultsContainer:'st-results-container',searchTipsContainer:'search-no-result-container',browseInsteadContainer:'search-browse-instead-container',spellingSuggestionContainer:'st-spelling-suggestion',spellingSuggestionLink:'st-spelling-suggestion-link',filtersAllItem:'filters-all-item',filtersItem:'filters-item',filtersContainer:'search-header-filters',forumLink:'forum-link'};var SwiftypeSearch=function(){function SwiftypeSearch($element){_classCallCheck(this,SwiftypeSearch);this.$swiftSearch=$element;this.engineKey=this.$swiftSearch.data('engine-key');this.resultsPerPage=this.$swiftSearch.data('result-per-page');this.initialQuery='';this.bindUIElements();this.bindUIEvents();this.init();}
SwiftypeSearch.prototype.init=function init(){this.initializeTexts();this.initializeTemplates();this.initSwiftypeSearch();this.updateSearchValue();this.updateFiltersValue();this.handleSearchIcons();};SwiftypeSearch.prototype.bindUIElements=function bindUIElements(){this.$searchForm=this.$swiftSearch.find('.'+classes.searchForm);this.$searchInput=this.$searchForm.find('.'+classes.searchInput);this.$iconClear=this.$searchForm.find('.'+classes.iconClear);this.$iconSearch=this.$searchForm.find('.'+classes.iconSearch);this.$resultsContainer=this.$swiftSearch.find('#'+classes.resultsContainer);this.$searchTipsContainer=$('.'+classes.searchTipsContainer);this.$browseInsteadContainer=$('.'+classes.browseInsteadContainer);this.$spellingSuggestionContainer=$('.'+classes.spellingSuggestionContainer);this.$spellingSuggestionLink=$('.'+classes.spellingSuggestionLink);this.$window=$(window);this.$filtersAllItem=$('.'+classes.filtersAllItem);this.$filtersItem=$('.'+classes.filtersItem);this.filtersContainer=$('.'+classes.filtersContainer);this.$forumLink=$('.'+classes.forumLink);};SwiftypeSearch.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$iconClear.on('click keyup',function(ev){if(ev.type==='click'||ev.which===13){_this.$searchInput.val('');_this.$filtersAllItem.addClass(classes.isActive);_this.$filtersItem.removeClass(classes.isActive);_this.$forumLink.removeClass(classes.isVisible);_this.initialQuery='';_this.toggleSearchButtons();location.hash='';_this.$searchInput.data('filters','');}});this.$window.on('hashchange',function(){var params=$.hashParams();_this.initialQuery=params.stq;_this.activeFilters=params.stf?params.stf.split(','):[];_this.toggleSearchButtons();_this.showFilters();});this.$iconSearch.on('click keyup',function(ev){if(ev.type==='click'||ev.which===13){_this.$searchForm.trigger('submit');}});this.$searchForm.on('submit',function(){if(!_this.$searchInput.val()){_this.$forumLink.removeClass(classes.isVisible);}
Cog.fireEvent('analytics','search.searchBoxSubmit',{actionType:'click',clickType:'pageAction',siteSection:'mainSection',elementLayer1:'swiftypeResults',elementLayer2:'searchBox',elementLayer3:'searchButton',searchTerm:_this.$searchInput.val()});});$(document).on('click','.'+classes.spellingSuggestionLink,function(){$('.'+classes.spellingSuggestionContainer).parent().remove();});this.$filtersItem.on('click keyup',function(ev){if(ev.type==='click'||ev.which===13){var $clickedFilter=$(ev.delegateTarget);var areFiltersSelected=false;$clickedFilter.toggleClass(classes.isActive);areFiltersSelected=_this.getFiltersStr().length>0;if(areFiltersSelected){_this.$filtersAllItem.removeClass(classes.isHidden).removeClass(classes.isActive);}else{_this.$filtersAllItem.addClass(classes.isActive);}
_this.reloadResults();if(!$clickedFilter.hasClass(classes.isActive)){$clickedFilter.blur();}}});this.$filtersAllItem.on('click keyup',function(ev){if(ev.type==='click'||ev.which===13){_this.$filtersAllItem.addClass(classes.isActive);_this.$filtersItem.removeClass(classes.isActive);_this.reloadResults();}});this.$filtersAllItem.on('transitionend',function(){if(_this.$filtersAllItem.hasClass(classes.isActive)){_this.$filtersAllItem.addClass(classes.isHidden);}});};SwiftypeSearch.prototype.reloadResults=function reloadResults(){var params=$.hashParams();var filtersStr=this.getFiltersStr();this.$searchInput.data('filters',filtersStr);if(params.stq){Swiftype.setSearchHash(params.stq,params.stp,filtersStr);}};SwiftypeSearch.prototype.getFiltersStr=function getFiltersStr(){return $('.'+classes.filtersItem+'.'+classes.isActive).map(function(ind,obj){return encodeURIComponent($(obj).data('category'));}).get().toString();};SwiftypeSearch.prototype.initializeTexts=function initializeTexts(){this.texts={noResults:this.$swiftSearch.data('no-results')||'Sorry, we couldnt find any results for "*{query}*"',spellingSuggestionNoResults:this.$swiftSearch.data('spelling-suggestion-no-results')||'There are no results for "*{query}*"',spellingSuggestion:this.$swiftSearch.data('spelling-suggestion')||'Showing results for "*{suggestion}*" instead',spellingSuggestionWithResults:this.$swiftSearch.data('spelling-suggestion-with-results')||'Did you mean: "*{suggestion}*"?',error:this.$swiftSearch.data('error')||'*Sorry!* Our search isnt working. Were hoping to have it up-and-running again soon.',forumLink:this.$forumLink.html()||''};};SwiftypeSearch.prototype.prepareHtmls=function prepareHtmls(searchQuery,spellingSuggestion){function replaceBold(str){return str.replace('*','<b>').replace('*','</b>');}
function replaceSuggestion(str){return replaceBold(str).replace('{suggestion}','<a href="#" data-hash="true" class="st-spelling-suggestion-link" data-spelling-suggestion="'+spellingSuggestion+'">'+spellingSuggestion+'</a>');}
function replaceQuery(str){return replaceBold(str).replace('{query}',searchQuery).replace('q=query','q='+searchQuery);}
return{noResult:'\n                    <div class="st-no-results-container">\n                        <div id="st-no-results" class="st-no-results">\n                            '+replaceQuery(this.texts.noResults)+'\n                        </div>\n                    </div>',spellingSuggestionWithResults:'\n                    <div class="st-no-results-container">\n                        <div class="st-spelling-suggestion">\n                            '+replaceSuggestion(this.texts.spellingSuggestionWithResults)+'\n                        </div>\n                    </div>',spellingSuggestion:'\n                    <div class="st-no-results-container is-hidden">\n                        <div class="st-spelling-suggestion">\n                            <span>'+replaceQuery(this.texts.spellingSuggestionNoResults)+'</span>\n                            <p>'+replaceSuggestion(this.texts.spellingSuggestion)+'</p>\n                        </div>\n                    </div>',error:'\n                    <div class="st-no-results-container">\n                        <div class="st-no-results st-no-results-error">\n                            '+replaceBold(this.texts.error)+'\n                        </div>\n                    </div>',forumLink:replaceQuery(this.texts.forumLink)};};SwiftypeSearch.prototype.updateSearchValue=function updateSearchValue(){var currentQuery=Swiftype.currentQuery||'';this.$searchInput.val(currentQuery);};SwiftypeSearch.prototype.updateFiltersValue=function updateFiltersValue(){var params=$.hashParams();var filters=[];if(params.stf){filters=params.stf.split(',');this.$filtersAllItem.removeClass(classes.isActive).removeClass(classes.isHidden);this.$filtersItem.each(function(ind,obj){var $obj=$(obj);var category=$obj.data('category');if($.inArray(category,filters)!==-1){$obj.addClass(classes.isActive);}else{$obj.removeClass(classes.isActive);}});}else{this.$filtersAllItem.addClass(classes.isActive).addClass(classes.isHidden);this.$filtersItem.removeClass(classes.isActive);}
var filtersStr=filters.map(encodeURIComponent).toString();this.$searchInput.data('filters',filtersStr);};SwiftypeSearch.prototype.handleSearchIcons=function handleSearchIcons(){var _this2=this;if(this.initialQuery.length){this.toggleSearchButtons();}
this.$searchInput.on('change keyup',function(){_this2.toggleSearchButtons();});this.$searchInput.on('focus',function(){Cog.fireEvent('analytics','search.searchBoxFocus',{actionType:'textboxEntry',siteSection:'mainSection',elementLayer1:'swiftypeResults',elementLayer2:'searchInputText'});});};SwiftypeSearch.prototype.initializeTemplates=function initializeTemplates(){this.resultTemplate=Hogan.compile('\n                {{#headline}}\n                {{#url}}\n                <div class="search-result">\n                    <a href="{{ url }}">\n                        {{#image}}\n                        <img alt="{{ headline }} image" src="{{ image }}" />\n                        {{/image}}\n                        {{#headlineHighlight}}\n                        <h4 class="result-title"> {{{ headlineHighlight }}} </h4>\n                        {{/headlineHighlight}}\n                        <p class="result-description"> {{{ description }}} </p>\n                        <p class="result-category">\n                            {{#label}}\n                            <span class="result-category-label"> {{ label }}  </span>\n                            {{/label}}\n                            {{#hasDate}}\n                            <span class="result-date"> {{ date }} </span>\n                            {{/hasDate}}\n                        </p>\n                    </a>\n                </div>\n                {{/url}}\n                {{/headline}}');this.loadingTemplate='<div class="swiftype-loading">\n                   <div class="loading-spinner-container">\n                       <span class="loading-spinner"></span>\n                   </div>\n                </div>';this.pageLinkTemplate=Hogan.compile('<a href="#"\n                    class="page-link {{ cssClass }}"\n                    data-hash="true"\n                    aria-label="Goto Page {{ pageNumber }}"\n                    data-page="{{ pageNumber }}">{{ linkText }}</a>');};SwiftypeSearch.prototype.readFilters=function readFilters(){return{page:{category:this.activeFilters}};};SwiftypeSearch.prototype.initSwiftypeSearch=function initSwiftypeSearch(){this.$searchInput.swiftypeSearch({spelling:'always',fetchFields:{page:['headline','title','url','image','description','category','label','publication_date','publication_date_formatted']},filters:this.readFilters.bind(this),resultContainingElement:this.$resultsContainer,engineKey:this.engineKey,postRenderFunction:this.customPostRenderer.bind(this),loadingFunction:this.customLoadingFunction.bind(this),renderFunction:this.customRenderResults.bind(this),renderPaginationForType:this.customRenderPagination.bind(this),perPage:this.resultsPerPage,renderErrorFunction:this.renderErrorFunction.bind(this),timeout:15000});this.initialQuery=Swiftype.currentQuery||'';};SwiftypeSearch.prototype.showFilters=function showFilters(){if(window.location.hash){this.filtersContainer.removeClass('is-hidden');}else{this.filtersContainer.addClass('is-hidden');}};SwiftypeSearch.prototype.toggleSearchButtons=function toggleSearchButtons(){if(Swiftype.currentQuery&&Swiftype.currentQuery.length){var newSearchQuery=this.$searchInput.val();var isQueryChanged=newSearchQuery!==this.initialQuery;if(isQueryChanged){this.$iconClear.removeClass(classes.isVisible);this.$iconSearch.addClass(classes.isVisible);this.$iconClear.attr('tabindex','-1');this.$iconSearch.attr('tabindex','0');}else{this.$iconClear.addClass(classes.isVisible);this.$iconSearch.removeClass(classes.isVisible);this.$iconClear.attr('tabindex','0');this.$iconSearch.attr('tabindex','-1');}}};SwiftypeSearch.prototype.handleForumLink=function handleForumLink(htmls,visible){if(visible){this.$forumLink.html(htmls.forumLink);this.$forumLink.addClass(classes.isVisible);}else{this.$forumLink.removeClass(classes.isVisible);}};SwiftypeSearch.prototype.parseIsoDate=function parseIsoDate(date){var dateObj=new Date(date);var locale='en-us';var year=dateObj.getFullYear();var month=dateObj.toLocaleString(locale,{month:'short'});var dt=dateObj.getDate();return month+' '+dt+', '+year;};SwiftypeSearch.prototype.customRenderResults=function customRenderResults(documentType,item){var data={headline:item.headline||item.title,headlineHighlight:item.headline||item.title,url:item.url,image:item.category==='Deals'&&item.image,description:item.description,label:item.label,hasDate:item.publication_date_formatted||item.publication_date,date:item.publication_date_formatted||this.parseIsoDate(item.publication_date)};return this.resultTemplate.render(data);};SwiftypeSearch.prototype.customLoadingFunction=function customLoadingFunction(query,$resultContainer){$resultContainer.html(this.loadingTemplate);};SwiftypeSearch.prototype.customPostRenderer=function customPostRenderer(data){var totalResultCount=0;var spellingSuggestion=null;var searchQuery=void 0;var spellingContainerAlreadyApplied=void 0;if(this.$spellingContainer){this.$resultsContainer.prepend(this.$spellingContainer);this.$spellingContainer.removeClass(''+classes.isHidden);this.$spellingContainer=false;spellingContainerAlreadyApplied=true;}
if(data.info&&data.info.page){searchQuery=this.escapeHtml(data.info.page.query);$.each(data.info,function(index,infoEl){totalResultCount+=infoEl.total_result_count;if(infoEl.spelling_suggestion){spellingSuggestion=infoEl.spelling_suggestion.text;}});}
var htmls=this.prepareHtmls(searchQuery,spellingSuggestion);if(totalResultCount===0&&!spellingSuggestion){this.$resultsContainer.append(htmls.noResult);this.$searchTipsContainer.addClass(''+classes.isVisible);this.$browseInsteadContainer.addClass(''+classes.isVisible);}else if(totalResultCount===0&&spellingSuggestion){this.$searchTipsContainer.removeClass(''+classes.isVisible);this.$spellingContainer=$(htmls.spellingSuggestion);this.updateFiltersValue();Swiftype.setSearchHash(spellingSuggestion,1,this.getFiltersStr());}else if(totalResultCount&&spellingSuggestion&&!spellingContainerAlreadyApplied){this.$resultsContainer.prepend(htmls.spellingSuggestionWithResults);this.$searchTipsContainer.removeClass(''+classes.isVisible);}
if(totalResultCount){this.$searchTipsContainer.removeClass(''+classes.isVisible);this.$browseInsteadContainer.removeClass(''+classes.isVisible);}
this.handleForumLink(htmls,totalResultCount);this.updateSearchValue();this.updateFiltersValue();this.toggleSearchButtons();this.$searchInput.blur();Cog.fireEvent('analytics','search.searchResultsLoaded',{actionType:'resultsLoaded',searchTerm:searchQuery,filters:this.calculateFilters(),searchResultsNumber:totalResultCount});};SwiftypeSearch.prototype.calculateFilters=function calculateFilters(){var filters=[];if($.hashParams().stf){filters=$.hashParams().stf.split(',');}
var results={};this.$filtersItem.each(function(ind,obj){var $obj=$(obj);var category=$obj.data('category');results[category]={label:$obj.text().trim(),active:$.inArray(category,filters)!==-1};});return results;};SwiftypeSearch.prototype.escapeHtml=function escapeHtml(query){if(_.isUndefined(query)){return '';}
var lt=/</g;var gt=/>/g;var ap=/'/g;var ic=/"/g;return query.toString().replace(lt,'&lt;').replace(gt,'&gt;').replace(ap,'&#39;').replace(ic,'&#34;');};SwiftypeSearch.prototype.customRenderPagination=function customRenderPagination(type,currentPage,totalPages){if(totalPages<2){return false;}
var paginationTemplate='<div class="swiftype-pagination-container"><div class="swiftype-pagination"><nav role="navigation" aria-label="Pagination">';var maxPageCount=100;var isLast=currentPage===totalPages||currentPage===maxPageCount;var isFirst=currentPage===1;var prevPage=currentPage-1;var nextPage=currentPage+1;var maxPagesCount=100;if(isLast&&!isFirst){paginationTemplate+=this.renderPageLink(prevPage,'Prev',classes.linkPrev);paginationTemplate+=this.renderPagesRange(currentPage-3,currentPage,totalPages,currentPage);}else if(!isFirst){paginationTemplate+=this.renderPageLink(prevPage,'Prev',classes.linkPrev);paginationTemplate+=this.renderPagesRange(prevPage,nextPage,totalPages,currentPage);}else{paginationTemplate+=this.renderPagesRange(currentPage,currentPage+3,totalPages,currentPage);}
if(!isLast&&currentPage<=maxPagesCount&&totalPages>1){paginationTemplate+=this.renderPageLink(nextPage,'Next',classes.linkNext);}
paginationTemplate+='</nav></div></div>';return paginationTemplate;};SwiftypeSearch.prototype.renderPagesRange=function renderPagesRange(startPage,endPage,totalPages,activePage){var pagesRange='';startPage=startPage>0?startPage:1;for(var page=startPage;page<=endPage&&page<=totalPages;page++){if(page===activePage){pagesRange+=this.renderPageLink(page,page,classes.isActive);}else{pagesRange+=this.renderPageLink(page);}}
return pagesRange;};SwiftypeSearch.prototype.renderErrorFunction=function renderErrorFunction(){var htmls=this.prepareHtmls();this.$browseInsteadContainer.addClass(''+classes.isVisible);this.$resultsContainer.html(htmls.error);};SwiftypeSearch.prototype.renderPageLink=function renderPageLink(pageNumber){var linkText=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pageNumber;var cssClass=arguments[2];var data={pageNumber:pageNumber,linkText:linkText,cssClass:cssClass};return this.pageLinkTemplate.render(data);};return SwiftypeSearch;}();api.onRegister=function(scope){new SwiftypeSearch(scope.$scope);};Cog.registerComponent({name:'swiftSearch',api:api,selector:'.swiftype-container'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var names={searchInputName:'searchBox',searchOptionInputName:'searchOption'};var SwiftypeSearchBoxFrom=function(){function SwiftypeSearchBoxFrom($element){_classCallCheck(this,SwiftypeSearchBoxFrom);this.$swiftypeSearchBoxFrom=$element;this.bindUIElements();this.bindUIEvents();}
SwiftypeSearchBoxFrom.prototype.bindUIElements=function bindUIElements(){this.$searchInput=this.$swiftypeSearchBoxFrom.find('[name=\''+names.searchInputName+'\']');this.$searchOptions=this.$swiftypeSearchBoxFrom.find('[name=\''+names.searchOptionInputName+'\']');};SwiftypeSearchBoxFrom.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$swiftypeSearchBoxFrom.submit(function(ev){ev.preventDefault();var searchRedirectUrl=_this.$searchOptions.filter(':checked').val();var inputValue=_this.$searchInput.val();window.location.href=encodeURI(searchRedirectUrl.replace('%s',inputValue));});};return SwiftypeSearchBoxFrom;}();api.onRegister=function(scope){new SwiftypeSearchBoxFrom(scope.$scope);};Cog.registerComponent({name:'swiftypeSearchBoxForm',api:api,selector:'.swiftype-search-box-form'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={styledSelect:'styled-select',selectOptions:'select-options',dataSelectedUrl:'data-selected-url',selectHidden:'select-hidden'};var NavigationSearchFormSelect=function(){function NavigationSearchFormSelect($element){_classCallCheck(this,NavigationSearchFormSelect);this.$formSelect=$element;this.initUIElements();this.bindUIEvents();}
NavigationSearchFormSelect.prototype.initUIElements=function initUIElements(){this.$formSelect.addClass(selectors.selectHidden);this.$formSelect.wrap('<div class="select"></div>');this.$formSelect.after('<div class="styled-select" tabindex="0"></div>');this.$styledSelect=this.$formSelect.next('.'+selectors.styledSelect);var $defaultOption=this.$formSelect.children('option').eq(0);this.$styledSelect.text($defaultOption.text());this.$styledSelect.attr(selectors.dataSelectedUrl,$defaultOption.val());this.$document=$(document);this.prepareFormValues();};NavigationSearchFormSelect.prototype.prepareFormValues=function prepareFormValues(){this.$list=$('<ul />',{class:'select-options'});var numberOfOptions=this.$formSelect.children('option').length;for(var i=0;i<numberOfOptions;i++){var option=this.$formSelect.children('option').eq(i);$('<li />',{text:option.text(),rel:option.val(),tabindex:0}).appendTo(this.$list);}
this.$listItems=this.$list.children('li');this.$list.insertAfter(this.$styledSelect);};NavigationSearchFormSelect.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$styledSelect.click(function(ev){_this.enrollTheList(ev);});this.$listItems.click(function(ev){_this.updateSelectedOptionAndHideTheList(ev);});this.$document.click(function(){_this.hideTheList();});this.$styledSelect.on('keydown',function(ev){var keyCode=ev.keyCode||ev.which;if(keyCode===13){ev.preventDefault();_this.enrollTheList(ev);}
if(keyCode===40){ev.preventDefault();_this.enrollTheList(ev);}});this.$listItems.on('keydown',function(ev){var keyCode=ev.keyCode||ev.which;if(keyCode===13){ev.preventDefault();_this.updateSelectedOptionAndHideTheList(ev);_this.$formSelect.closest('.selectField').siblings('.textField').find('input').focus();}
if(keyCode===38){ev.preventDefault();$(ev.target).prev().focus();}
if(keyCode===40){ev.preventDefault();$(ev.target).next().focus();}});};NavigationSearchFormSelect.prototype.enrollTheList=function enrollTheList(ev){ev.stopPropagation();var $clickedItem=$(ev.currentTarget);$('div.styled-select.active').not($clickedItem).each(function(){$clickedItem.removeClass('active').next('.'+selectors.selectOptions).hide();});$clickedItem.toggleClass('active').next('.'+selectors.selectOptions).toggleClass('active').fadeToggle('fast','linear');};NavigationSearchFormSelect.prototype.updateSelectedOptionAndHideTheList=function updateSelectedOptionAndHideTheList(ev){ev.stopPropagation();var $selectedOption=$(ev.currentTarget);this.$styledSelect.text($selectedOption.text()).removeClass('active');var selectedUrl=$selectedOption.attr('rel');this.$formSelect.val(selectedUrl);this.$styledSelect.attr(selectors.dataSelectedUrl,selectedUrl);this.$list.hide();};NavigationSearchFormSelect.prototype.hideTheList=function hideTheList(){this.$styledSelect.removeClass('active');this.$list.hide();};return NavigationSearchFormSelect;}();api.onRegister=function(scope){new NavigationSearchFormSelect(scope.$scope);};Cog.registerComponent({name:'navigationSearchSelect',api:api,selector:'.navigation-search select'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={navigationSearchForm:'form.navigation-search',dataSelectedUrl:'data-selected-url'};var NavigationSearch=function(){function NavigationSearch($element){_classCallCheck(this,NavigationSearch);this.$searchForm=$element;this.bindUIElements();this.bindUIEvents();this.addFormAction();}
NavigationSearch.prototype.bindUIElements=function bindUIElements(){this.$body=$('body');this.$searchButton=this.$searchForm.find('button');this.$searchInput=this.$searchForm.find('input[name="textField"]');this.$formEl=this.$searchForm.find('form');this.$firstOption=this.$searchForm.find('.select-options li').eq(0);this.$styledSelect=this.$searchForm.find('.styled-select');};NavigationSearch.prototype.bindUIEvents=function bindUIEvents(){var _this=this;$(window).on('resize',_.debounce(function(){_this.clearSearchInput();},150));this.$searchInput.on('focus',function(){Cog.fireEvent('analytics','search.searchBoxFocus',{actionType:'textboxEntry',siteSection:'masthead',elementLayer1:'searchBox',elementLayer2:'searchInputText'});});this.$body.on('click',function(ev){return _this.handleFocusState(ev);});this.$body.on('focusin',function(ev){return _this.handleFocusState(ev);});this.$searchForm.on('submit',function(ev){ev.preventDefault();_this.handleSearchQuery();_this.clearSearchInput();});};NavigationSearch.prototype.handleFocusState=function handleFocusState(ev){if($(ev.target).parents().filter('.'+selectors.navigationSearchForm).length){if(!this.$searchForm.hasClass('focus')){this.$searchForm.addClass('focus');}}else{this.$searchForm.removeClass('focus');}};NavigationSearch.prototype.addFormAction=function addFormAction(){this.$formEl.attr('action','#');};NavigationSearch.prototype.handleSearchQuery=function handleSearchQuery(){var selectedUrl=this.$styledSelect.attr(selectors.dataSelectedUrl);var inputValue=this.$searchInput.val();function callback(){window.location.href=encodeURI(selectedUrl.replace('%s',inputValue));}
Cog.fireEvent('analytics','search.searchBoxSubmit',{actionType:'click',clickType:'pageAction',siteSection:'masthead',elementLayer1:'searchBox',elementLayer2:'searchButton',elementLayer3:undefined,searchTerm:this.$searchInput.val(),filterLabel:this.$styledSelect.text(),callback:callback});setTimeout(callback,2000);};NavigationSearch.prototype.clearSearchInput=function clearSearchInput(){this.$searchInput.val('');this.$styledSelect.attr(selectors.dataSelectedUrl,this.$firstOption.attr('rel'));this.$styledSelect.text(this.$firstOption.text());};return NavigationSearch;}();api.onRegister=function(scope){new NavigationSearch(scope.$scope);};Cog.registerComponent({name:'navigationSearchBox',api:api,selector:'.navigation-search'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={navigationSearchLink:'top-nav-v2__search',navigationMobileToggleLinkOpen:'top-nav-v2__search--open',navigationSearchForm:'form.navigation-search',navigationSeachContainer:'top-nav-v2-search-box',navigationSearchToggleClass:'top-nav-v2-search-box-open',searchResultsUrl:'search-results-url',topNavMobileWrapper:'.top-nav-v2-mobile-view',topNavWrapper:'.top-nav-v2'};var NavigationV2SearchForm=function(){function NavigationV2SearchForm($element){_classCallCheck(this,NavigationV2SearchForm);this.$searchForm=$element;this.bindUIElements();this.bindValues();this.bindUIEvents();this.addFormAction();this.makeAutocompleteOff();}
NavigationV2SearchForm.prototype.bindUIElements=function bindUIElements(){this.$body=$('body');this.$document=$(document);this.$searchToggleButton=this.$body.find('.'+selectors.navigationSearchLink).parent();this.$searchContainer=this.$body.find('.'+selectors.navigationSeachContainer);this.$formEl=this.$searchForm.find('form');this.$searchInput=this.$searchForm.find('input[name="search"]');this.$searchButton=this.$searchForm.find('button[type="submit"]');this.$searchCloseButton=this.$searchForm.find('button[type="button"]');this.$searchLink=this.$body.find('.'+selectors.navigationSearchLink);};NavigationV2SearchForm.prototype.bindValues=function bindValues(){this.isMobileNavVisible=null;};NavigationV2SearchForm.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$searchToggleButton.on('click',function(ev){ev.preventDefault();ev.stopImmediatePropagation();var $toggleButton=$(ev.target);var isSearchBarOpen=_this.handleFormVisibility();_this.isMobileNav($toggleButton);$toggleButton.toggleClass(selectors.navigationMobileToggleLinkOpen);Cog.fireEvent('analytics','search.searchBoxToggle',{actionType:'click',clickType:'pageAction',siteSection:(_this.isMobileNavVisible?'Mobile ':'')+'MastHead TopNav',itemIdentifier:''+(isSearchBarOpen?'Search Open':'Search Close'),elementLayer1:'snippetReference '+_this.getTopNavSnippetName($toggleButton),elementLayer2:'box '+(_this.isMobileNavVisible?selectors.topNavMobileWrapper:selectors.topNavWrapper),elementLayer3:'richText'});});this.$searchCloseButton.on('click',function(ev){ev.preventDefault();_this.handleFormVisibility();Cog.fireEvent('analytics','search.searchBoxClose',{actionType:'click',clickType:'pageAction',siteSection:'MastHead Search',itemIdentifier:'Close Icon',elementLayer1:'Search',elementLayer2:undefined,elementLayer3:undefined});});this.$searchForm.on('submit',function(ev){ev.preventDefault();_this.handleSearchQuery();_this.clearSearchInput();});this.$document.on('isMobile',this.handleSearchButton.bind(this));};NavigationV2SearchForm.prototype.getTopNavSnippetName=function getTopNavSnippetName($element){return $element.closest('.snippetReference').attr('class').split(' ').filter(function(elem){return elem.indexOf('v2')!==-1;}).toString();};NavigationV2SearchForm.prototype.isMobileNav=function isMobileNav($element){this.isMobileNavVisible=$element.closest(selectors.topNavMobileWrapper).length>0;};NavigationV2SearchForm.prototype.makeAutocompleteOff=function makeAutocompleteOff(){this.$searchInput.attr('autocomplete','off');};NavigationV2SearchForm.prototype.addFormAction=function addFormAction(){this.$formEl.attr('action','#');};NavigationV2SearchForm.prototype.clearSearchInput=function clearSearchInput(){this.$searchInput.val('');};NavigationV2SearchForm.prototype.handleFormVisibility=function handleFormVisibility(){var isOpen=false;this.$searchContainer.toggleClass(selectors.navigationSearchToggleClass);if(this.$searchContainer.hasClass(selectors.navigationSearchToggleClass)){this.$searchInput[0].focus();isOpen=true;}else{this.$searchToggleButton.focus();isOpen=false;}
return isOpen;};NavigationV2SearchForm.prototype.handleSearchButton=function handleSearchButton(){if($('.'+selectors.navigationSearchToggleClass).length){this.$searchLink.addClass(selectors.navigationMobileToggleLinkOpen);}else this.$searchLink.removeClass(selectors.navigationMobileToggleLinkOpen);};NavigationV2SearchForm.prototype.handleSearchQuery=function handleSearchQuery(){var searchUrl=this.$formEl.find('[name='+selectors.searchResultsUrl+']').val();var searchInputValue=this.$searchInput.val();function callback(){var origin=window.location.protocol+'//'+window.location.host;window.location.href=encodeURI(origin+searchUrl.replace('&amp;','&').replace('%s',searchInputValue));}
Cog.fireEvent('analytics','search.searchBoxSubmit',{actionType:'click',clickType:'pageAction',siteSection:(this.isMobileNavVisible?'Mobile ':'')+'MastHead Search',itemIdentifier:'Search Icon',elementLayer1:'Search',elementLayer2:undefined,elementLayer3:undefined,searchTerm:this.$searchInput.val(),filterLabel:'all',callback:callback});setTimeout(callback,1000);};return NavigationV2SearchForm;}();api.onRegister=function(scope){new NavigationV2SearchForm(scope.$scope);};Cog.registerComponent({name:'navigationV2SearchFrom',api:api,selector:'.navigation-search-v2'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={content:'.component-content',closeButton:'.tooltip-button--close',toggleButton:'.toggle-button',tooltip:'.tooltip'};var classes={isExpanded:'is-expanded',isCollapsed:'is-collapsed-by-default'};var localStorageMap={affiliateLinkExplainer:{key:'affiliateLinkExplainer',value:'displayed'}};var AffiliateLinkExplainer=function(){function AffiliateLinkExplainer($element){_classCallCheck(this,AffiliateLinkExplainer);this.bindElements($element);this.bindEvents();this.checkIfShouldDsiplayTooltip();this.saveInformationInLocalStorage();}
AffiliateLinkExplainer.prototype.bindElements=function bindElements($element){this.$affiliateLinkExplainer=$element;this.$closeButton=this.$affiliateLinkExplainer.find(selectors.closeButton);this.$toggleButton=this.$affiliateLinkExplainer.find(selectors.toggleButton);this.$tooltip=this.$affiliateLinkExplainer.find(selectors.tooltip);};AffiliateLinkExplainer.prototype.bindEvents=function bindEvents(){this.tooltipToggleHandler=this.onTooltipToggle.bind(this);this.$toggleButton.on('click',this.tooltipToggleHandler);this.$closeButton.on('click',this.tooltipToggleHandler);};AffiliateLinkExplainer.prototype.checkIfShouldDsiplayTooltip=function checkIfShouldDsiplayTooltip(){var wasNotDisplayedBefore=!this.getInformationFromLocalStorage();var isCollapsedByDefault=this.$affiliateLinkExplainer.hasClass(classes.isCollapsed);var shouldDisplayTooltip=wasNotDisplayedBefore&&!isCollapsedByDefault;if(shouldDisplayTooltip){this.toggleTooltip();}
this.setAdditionalAriaAttributes();};AffiliateLinkExplainer.prototype.toggleTooltip=function toggleTooltip(){this.$affiliateLinkExplainer.toggleClass(classes.isExpanded);this.setAdditionalAriaAttributes();};AffiliateLinkExplainer.prototype.setAdditionalAriaAttributes=function setAdditionalAriaAttributes(){var isExpanded=!!this.$affiliateLinkExplainer.hasClass(classes.isExpanded);this.$toggleButton.attr('aria-expanded',isExpanded);this.$tooltip.attr('aria-hidden',!isExpanded);};AffiliateLinkExplainer.prototype.getInformationFromLocalStorage=function getInformationFromLocalStorage(){var key=localStorageMap.affiliateLinkExplainer.key;return localStorage.getItem(key);};AffiliateLinkExplainer.prototype.saveInformationInLocalStorage=function saveInformationInLocalStorage(){var _localStorageMap$affi=localStorageMap.affiliateLinkExplainer,key=_localStorageMap$affi.key,value=_localStorageMap$affi.value;localStorage.setItem(key,value);};AffiliateLinkExplainer.prototype.onTooltipToggle=function onTooltipToggle(e){this.toggleTooltip();if(!this.$affiliateLinkExplainer.hasClass(classes.isExpanded)&&e.originalEvent.detail===0){this.$toggleButton.focus();}};return AffiliateLinkExplainer;}();api.onRegister=function(scope){new AffiliateLinkExplainer(scope.$scope);};Cog.registerComponent({name:'affiliateLinkExplainer',api:api,selector:'.affiliateLinkExplainer > .component-content'});})(Cog.jQuery());var _templateObject=_taggedTemplateLiteralLoose(['',''],['','']);function _taggedTemplateLiteralLoose(strings,raw){strings.raw=raw;return strings;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var classes={isHidden:'is-hidden',isSelected:'is-selected',selectorYear:'selector-year',selectorMonth:'selector-month',searchButton:'archive-search-button',martinsBlogRhs:'martins-blog-rhs',teamBlogRhs:'team-blog-rhs',dealsHuntersRhs:'deals-hunters-rhs'};var ArchiveSelector=function(){function ArchiveSelector($element){_classCallCheck(this,ArchiveSelector);this.$archiveSelector=$element;this.startYear=2005;this.currentYear=moment().year();this.blogRootPath=this.$archiveSelector.find('.blog-root-path').attr('href');this.bindUIElements();this.bindUIEvents();this.init();}
ArchiveSelector.prototype.init=function init(){this.handleStartingYear();this.fillInMonthDropdown();this.fillInYearDropdown();};ArchiveSelector.prototype.bindUIElements=function bindUIElements(){this.$form=this.$archiveSelector.find('form');this.$select=this.$archiveSelector.find('select');this.$allOptions=this.$select.find('option:not(.placeholder):selected');this.$selectorYear=this.$select.filter('.'+classes.selectorYear);this.$selectorMonth=this.$select.filter('.'+classes.selectorMonth);this.$searchButton=this.$archiveSelector.find('.'+classes.searchButton);};ArchiveSelector.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$select.on('change',function(ev){var $changedSelect=$(ev.currentTarget);var $options=$changedSelect.find('option:not(.placeholder):selected');_this.$allOptions=_this.$select.find('option:not(.placeholder):selected');if($options.length){$changedSelect.addClass(classes.isSelected);}else{_this.$searchButton.addClass(classes.isHidden);$changedSelect.removeClass(classes.isSelected);}
if(_this.$allOptions.length){_this.$searchButton.removeClass(classes.isHidden);}else{_this.$searchButton.addClass(classes.isHidden);}});this.$form.on('submit',function(ev){ev.preventDefault();_this.constructRedirectUrl();});};ArchiveSelector.prototype.handleStartingYear=function handleStartingYear(){var configuredStartYear=parseInt(this.$archiveSelector.data('startingYear'),10);if(configuredStartYear>0){this.startYear=configuredStartYear;}};ArchiveSelector.prototype.fillInMonthDropdown=function fillInMonthDropdown(){var months=moment.months();var monthOptionTpl=function monthOptionTpl(literals,month){return '<option name="month">'+month+'</option>';};for(var month in months){var $option=$(monthOptionTpl(_templateObject,months[month]));this.$selectorMonth.append($option);}};ArchiveSelector.prototype.fillInYearDropdown=function fillInYearDropdown(){var yearOptionTpl=function yearOptionTpl(literals,year){return '<option name="year">'+year+'</option>';};for(var year=this.currentYear;year>=this.startYear;year--){var $option=$(yearOptionTpl(_templateObject,year));this.$selectorYear.append($option);}};ArchiveSelector.prototype.constructRedirectUrl=function constructRedirectUrl(){var selectedMonthOption=this.$selectorMonth.find('option:selected:not(.placeholder)').val();var selectedYear=this.$selectorYear.find('option:selected:not(.placeholder)').val();var selectedMonth='';var url='';if(_.isUndefined(selectedMonthOption)){selectedMonth='';}else{selectedMonth=moment().month(selectedMonthOption).format('MM');}
if(_.isUndefined(selectedYear)){selectedYear=this.currentYear;}
if(this.blogRootPath.indexOf('/',this.blogRootPath.length-1)===-1){this.blogRootPath=this.blogRootPath+'/';}
url=''+this.blogRootPath+selectedYear+(selectedMonth?'/'+selectedMonth:'');window.location.href=url;};return ArchiveSelector;}();api.onRegister=function(scope){new ArchiveSelector(scope.$scope);};Cog.registerComponent({name:'archiveSelector',api:api,selector:'.archive-selector'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var classes={activeFixedWidth:'table-fixed-width--active',cellClass:'span[class^="table-cell"]',cellWhite:'table-cell-white',cellGrey:'table-cell-grey',cellBlue:'table-cell-blue',cellOrange:'table-cell-orange',content:'component-content',firstColumn:'tr td:first-of-type',firstCellWithBlueBorderBottom:'table-cell-border-bottom:first',firstRow:'tbody > tr:first-of-type',fixedWidth:'table-fixed-width',hasImageRight:'has-image-right',hasImageLeft:'has-image-left',hasImage:'has-image',isOverflown:'table-scroll',row:'tr',swipeIcon:'table-swipe-icon',tableButton:'table-button',tableGuide:'table-guide',tableWithFixedColumn:'table-column-fixed',title:'table-title'};var Table=function(){function Table($element,media){_classCallCheck(this,Table);this.$table=$element;this.media=media;this.bindUIElements();this.bindUIEvents();this.init();}
Table.prototype.init=function init(){this.$table.find('table tr:even').addClass('even');this.moveSelectionStylesToCells();this.doesTableOverflow();};Table.prototype.bindUIElements=function bindUIElements(){this.$cells=this.$table.find('td, th');this.$selectionStyledEls=this.$table.find(''+classes.cellClass);this.$firstCol=this.$table.find(classes.firstColumn);this.$button=this.$table.find('.'+classes.tableButton);this.$window=$(window);};Table.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$button.on('click',function(ev){_this.openTableWindow(ev);});this.$window.on('resize',_.debounce(function(){_this.doesTableOverflow();}));Cog.addListener('table','check-overflow',this.doesTableOverflow,{scope:this});Cog.addListener('table','check-swipe-icon-position',this.initSwipeIcon,{scope:this});};Table.prototype.isMobile=function isMobile(){return this.$window.width()<768;};Table.prototype.openTableWindow=function openTableWindow(ev){var height=this.$window.height()/2;var width=this.$window.width()/2;var link=ev.target.href;window.open(link,'','menubar=1,resizable=1,scrollbars=1,width='+width+',height='+height);return false;};Table.prototype.moveSelectionStylesToCells=function moveSelectionStylesToCells(){this.$selectionStyledEls.each(function(idx,el){var $element=$(el);var $parent=$element.parent();var $cell=$element.closest('td, th');var classNames=$element.attr('class');if($element.text()==='TABLE_CELL_STYLE'){if($parent.is('td, th')){$element.hide();}else{$parent.hide();}}
$cell.addClass(classNames);});this.$cells.each(function(idx,el){var $cell=$(el);var hasImage=$cell.find('img').length;var hasImageNext=$cell.find('a ~ img').length;var hasImagePrev=$cell.find('img ~ a').length;if(hasImageNext){$cell.addClass(classes.hasImageRight);}else if(hasImagePrev){$cell.addClass(classes.hasImageLeft);}else if(hasImage){$cell.addClass(classes.hasImage);}});};Table.prototype.doesTableOverflow=function doesTableOverflow(){this.setCellsHeight();var tableOverflows=this.$table.find('table')[0].scrollWidth>this.$table[0].clientWidth;if(this.$table.hasClass(classes.tableWithFixedColumn)&&this.isMobile()){tableOverflows=this.$table.find('table')[0].scrollWidth>this.$table[0].clientWidth-this.$firstCol.outerWidth();}
if(tableOverflows){this.$table.addClass(classes.isOverflown);if(this.media.isMobileOrTablet()){this.initSwipeIcon();}}else{this.$table.removeClass(classes.isOverflown);}};Table.prototype.initSwipeIcon=function initSwipeIcon(){var $swipeIconElement=this.$table.find('.'+classes.swipeIcon);var $swipeIconTemplate=$('<span class="'+classes.swipeIcon+'"></span>');var $swipeIcon=$swipeIconElement.length!==0?$swipeIconElement:$swipeIconTemplate;var $tableContent=this.$table.find('.'+classes.content);var $tableTitle=this.$table.find('.'+classes.title).get(0);var $firstCellWithBlueBorderBottom=this.$table.find('td.'+classes.firstCellWithBlueBorderBottom+', th.'+classes.firstCellWithBlueBorderBottom).first();var firstRowWithBlueBorderBottomIdx=$firstCellWithBlueBorderBottom.attr('rowspan')-1||$firstCellWithBlueBorderBottom.closest(classes.row).index();var rowIdxToAttachSwipeIcon=firstRowWithBlueBorderBottomIdx>=0?firstRowWithBlueBorderBottomIdx:0;var $rowToAttachSwipeIcon=this.$table.find(classes.row).get(rowIdxToAttachSwipeIcon);var tableTitleHeight=$tableTitle?$tableTitle.clientHeight:0;var rowWithBlueBorderBottomHeight=$rowToAttachSwipeIcon?$rowToAttachSwipeIcon.clientHeight+$rowToAttachSwipeIcon.offsetTop:0;var topPosition=tableTitleHeight+rowWithBlueBorderBottomHeight-12;$swipeIcon.css({top:topPosition});if($swipeIconElement.length===0){$tableContent.prepend($swipeIconTemplate);}};Table.prototype.setCellsHeight=function setCellsHeight(){var isGuide=this.$table.is('.'+classes.tableGuide);if(isGuide&&this.isMobile()){var isFixedWidth=this.$table.is('.'+classes.fixedWidth);var isFixedColumn=this.$table.is('.'+classes.tableWithFixedColumn);if(isFixedWidth){this.$table.addClass(classes.activeFixedWidth);}
if(isFixedColumn){var $cells=this.$table.find('tr > td:first-of-type');$cells.each(function(id,cell){var siblingsHeight=cell.nextElementSibling.offsetHeight;var thisHeight=cell.offsetHeight;if(thisHeight<siblingsHeight){cell.style.height=siblingsHeight+'px';}else{cell.nextElementSibling.style.height=thisHeight+'px';}});}}};return Table;}();api.onRegister=function(scope){new Table(scope.$scope,this.external.media);};Cog.registerComponent({name:'table',api:api,selector:'.table',requires:[{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var classes={isActive:'is-active',listOpener:'az-list-opener',azList:'az-list-content'};var AZList=function(){function AZList($element){_classCallCheck(this,AZList);this.$azListContainer=$element;this.bindUIElements();this.bindUIEvents();}
AZList.prototype.bindUIElements=function bindUIElements(){this.$listOpener=this.$azListContainer.find('.'+classes.listOpener);this.$azList=this.$azListContainer.find('.'+classes.azList);};AZList.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$listOpener.on('click',function(){_this.toggleList();});};AZList.prototype.toggleList=function toggleList(){this.$azList.toggleClass(classes.isActive);this.$listOpener.toggleClass(classes.isActive);};return AZList;}();api.onRegister=function(scope){new AZList(scope.$scope);};Cog.registerComponent({name:'AZList',api:api,selector:'.a-z-list'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={azListNav:'az-list-nav',azListContent:'az-list-content',azListWrapper:'az-list-wrapper',azListDivider:'az-list-divider',azListTitle:'az-list-title',isFixed:'is-fixed',navAnchors:'a[href*=\\#]'};var values={bottom:null,navHeight:null,scrollTop:null,scopeOffsetTop:null,listHeight:null,isMobile:null,prevWidth:null,contentHeight:null};var AzListNew=function(){function AzListNew($scope){_classCallCheck(this,AzListNew);this.$scope=$scope;this.init();}
AzListNew.prototype.init=function init(){this.isMobileCheck();this.bindElements();this.setValues();this.attachScroll();this.attachResize();this.attachClick();if(values.isMobile){this.setMobileNavigationMaxHeight();this.setValues();this.stickNav();}else{this.stickTitlebar();}};AzListNew.prototype.isMobileCheck=function isMobileCheck(){values.isMobile=window.matchMedia('screen and (max-width: 767px)').matches;};AzListNew.prototype.bindElements=function bindElements(){this.$azListTitle=this.$scope.find('.'+selectors.azListTitle);this.$azListWrapper=this.$azListTitle.find('.'+selectors.azListWrapper);this.$azListDivider=this.$azListTitle.find('.'+selectors.azListDivider);this.$azListNav=this.$azListWrapper.find('.'+selectors.azListNav);this.$azListContent=this.$scope.find('.'+selectors.azListContent);this.$navAnchors=this.$azListNav.find(selectors.navAnchors);};AzListNew.prototype.setValues=function setValues(){this.setNavHeight();this.setScopeOffsetTop();this.setListHeight();this.setScrollTop();this.setBottom();this.setWindowWidth();this.setContentHeight();};AzListNew.prototype.setWindowWidth=function setWindowWidth(){values.prevWidth=$(window).width();};AzListNew.prototype.setBottom=function setBottom(){values.bottom=values.isMobile?this.$azListContent.offset().top+this.$azListContent.outerHeight(true)-values.listHeight:this.$scope.offset().top+this.$azListContent.outerHeight(true);};AzListNew.prototype.setContentHeight=function setContentHeight(){values.contentHeight=this.$azListContent.height();};AzListNew.prototype.setListHeight=function setListHeight(){values.listHeight=this.$azListNav.height();};AzListNew.prototype.setNavHeight=function setNavHeight(){values.navHeight=this.$azListWrapper.height();};AzListNew.prototype.setScrollTop=function setScrollTop(){values.scrollTop=$(document).scrollTop();};AzListNew.prototype.setScopeOffsetTop=function setScopeOffsetTop(){values.scopeOffsetTop=values.isMobile?this.$azListContent.offset().top:this.$scope.offset().top;};AzListNew.prototype.stickTitlebar=function stickTitlebar(){if(values.scrollTop>values.scopeOffsetTop&&values.scrollTop<values.bottom){this.$azListWrapper.addClass(selectors.isFixed).css({top:0});this.$azListDivider.css({'padding-bottom':values.navHeight});}else if(values.scrollTop>values.scopeOffsetTop&&values.scrollTop>values.bottom){this.$azListWrapper.addClass(selectors.isFixed).css({top:-(values.scrollTop-values.bottom)});}else if(values.scrollTop<values.scopeOffsetTop){this.$azListWrapper.removeClass(selectors.isFixed);this.$azListDivider.css({'padding-bottom':0});}};AzListNew.prototype.stickNav=function stickNav(){if(values.scrollTop>values.scopeOffsetTop&&values.scrollTop<values.bottom){this.$azListNav.addClass(selectors.isFixed).css({top:0});}else if(values.scrollTop>values.scopeOffsetTop&&values.scrollTop>values.bottom){this.$azListNav.addClass(selectors.isFixed).css({top:-(values.scrollTop-values.bottom)});}else if(values.scrollTop<values.scopeOffsetTop){this.$azListNav.removeClass(selectors.isFixed).css({top:values.navHeight});}};AzListNew.prototype.setMobileNavigationMaxHeight=function setMobileNavigationMaxHeight(){if(values.contentHeight<values.listHeight){this.$azListNav.css({'max-height':values.contentHeight});}else{this.$azListNav.css({'max-height':'100vh'});}};AzListNew.prototype.attachScroll=function attachScroll(){var _this=this;$(document).on('scroll',function(){_this.setScrollTop();_this.setScopeOffsetTop();_this.isMobileCheck();_this.setBottom();if(values.isMobile===false){_this.stickTitlebar();}else{_this.stickNav();}});};AzListNew.prototype.attachResize=function attachResize(){var _this2=this;$(window).on('resize',_.debounce(function(){if(values.prevWidth===$(window).width()){return;}
_this2.isMobileCheck();_this2.setValues();if(values.isMobile){_this2.setMobileNavigationMaxHeight();_this2.$azListDivider.css({'padding-bottom':0});_this2.$azListWrapper.removeClass(selectors.isFixed).css({top:0});_this2.$azListNav.removeClass(selectors.isFixed).css({top:values.navHeight});}else{_this2.$azListNav.removeClass(selectors.isFixed).css({top:0});}},250));};AzListNew.prototype.attachClick=function attachClick(){this.$navAnchors.on('click',function(event){event.preventDefault();var $element=$(document.getElementById(event.target.hash.substring(1)));$('html,body').animate({scrollTop:$element.offset().top},500);});};return AzListNew;}();api.onRegister=function(scope){new AzListNew(scope.$scope);};Cog.registerComponent({name:'AzListNew',selector:'.newAzlist',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={articleListItem:'.articleList-article',articleListTitle:'.articleList-title a',articleListDescription:'.articleList-description'};var RelatedArticles=function(){function RelatedArticles($scope){_classCallCheck(this,RelatedArticles);this.$scope=$scope;this.init();}
RelatedArticles.prototype.init=function init(){var $articles=this.$scope.find(selectors.articleListItem);var titleMaxLength=50;var firstDescriptionMaxLength=1000;var nextDescriptionMaxLength=1000;if(this.$scope.hasClass('deals-hunters-blogs')){titleMaxLength=80;}
if(this.$scope.hasClass('category-news-list')){titleMaxLength=25;}
if(this.$scope.hasClass('featured-news-list')){firstDescriptionMaxLength=163;nextDescriptionMaxLength=82;}
this.addTitleAttr($articles,selectors.articleListTitle);this.setLength($articles,selectors.articleListTitle,titleMaxLength,titleMaxLength);this.setLength($articles,selectors.articleListDescription,firstDescriptionMaxLength,nextDescriptionMaxLength);};RelatedArticles.prototype.addTitleAttr=function addTitleAttr($elements,selector){$elements.each(function(i,element){var $element=$(element).find(selector);var text=$element.text();$element.attr('title',text);});};RelatedArticles.prototype.setLength=function setLength($elements,selector,firstMaxLength,nextMaxLength){var _this=this;$elements.each(function(i,element){var $element=$(element).find(selector);var text=$element.text();var maxLength=i===0?firstMaxLength:nextMaxLength;var cuttedText=_this.cutString(text,maxLength);$element.html(cuttedText);});};RelatedArticles.prototype.cutString=function cutString(string,length){var cut=string.indexOf(' ',length);if(cut===-1){return string;}
if(string.length<length){return string;}
return string.substring(0,cut)+'\u2026';};return RelatedArticles;}();api.onRegister=function(scope){new RelatedArticles(scope.$scope);};Cog.registerComponent({name:'relatedArticles',selector:'.related-articles, .rhs-recent-blogs, .deals-hunters-blogs, .category-news-list, .featured-news-list',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var classes={flipButton:'.button-fullinfo'};var DealPredictor=function(){function DealPredictor($element){_classCallCheck(this,DealPredictor);this.$dealPredictor=$element;this.bindUIElements();this.bindUIEvents();}
DealPredictor.prototype.bindUIElements=function bindUIElements(){this.$flipButton=this.$dealPredictor.find(classes.flipButton);};DealPredictor.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$flipButton.on('click',function(){_this.$dealPredictor.toggleClass('flip');return false;});};return DealPredictor;}();api.onRegister=function(scope){new DealPredictor(scope.$scope);};Cog.registerComponent({name:'dealPredictor',api:api,selector:'.dealPredictor'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var classes={prevButton:'.flex-prev',nextButton:'.flex-next',slides:'.slides',dealCards:'.dealPredictor',dealPagination:'.deal-pagination>a',weekHeader:'.week-title'};var DealPredictorWeek=function(){function DealPredictorWeek($element){_classCallCheck(this,DealPredictorWeek);this.$dealPredictorWeek=$element;this.bindUIElements();this.bindUIEvents();}
DealPredictorWeek.prototype.bindUIElements=function bindUIElements(){this.$prevButton=this.$dealPredictorWeek.find(classes.prevButton);this.$nextButton=this.$dealPredictorWeek.find(classes.nextButton);this.$slides=this.$dealPredictorWeek.find(classes.slides);this.$dealPagination=this.$dealPredictorWeek.find(classes.dealPagination);this.$dealCards=this.$dealPredictorWeek.find(classes.dealCards);this.$weekHeader=$(this.$dealPredictorWeek.find(classes.weekHeader)[0]);};DealPredictorWeek.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$dealsNumber=this.$dealCards.length;this.$currentDeal=0;$(this.$dealPagination[this.$currentDeal]).addClass('active-slide');this.$prevButton.on('click',function(){_this.goPrev();return false;});this.$nextButton.on('click',function(){_this.goNext();return false;});this.$dealPagination.each(function(i,item){$(item).on('click',function(){_this.goToPage(i,item);return false;});});this.$hammer=new Hammer(this.$slides[0],{enable:true,velocity:0.1,threshold:2});this.$hammer.on('swipeleft',function(){_this.goNext();});this.$hammer.on('swiperight',function(){_this.goPrev();});this.goToDealAnchor();};DealPredictorWeek.prototype.goPrev=function goPrev(){var scrollTo=this.$currentDeal;if(scrollTo>0){scrollTo--;}else{scrollTo=this.$dealsNumber-1;this.$slides.css('left',this.$dealsNumber*-100+'%');}
this.goToPage(scrollTo,$(this.$dealPagination[scrollTo]));return false;};DealPredictorWeek.prototype.goNext=function goNext(){var scrollTo=this.$currentDeal;if(scrollTo<this.$dealsNumber-1){scrollTo++;}else{scrollTo=0;this.$slides.css('left','100%');}
this.goToPage(scrollTo,$(this.$dealPagination[scrollTo]));return false;};DealPredictorWeek.prototype.goToPage=function goToPage(i,item){$(this.$dealPagination[this.$currentDeal]).removeClass('active-slide');$(item).addClass('active-slide');this.$currentDeal=i;var newOffset=this.$currentDeal*-100;this.$slides.css('left',newOffset+'%');return false;};DealPredictorWeek.prototype.goToDealAnchor=function goToDealAnchor(){if(this.$weekHeader.data('currentweek')&&!window.location.hash){window.location.hash='#'+this.$weekHeader.attr('id');}
if(window.location.hash&&window.location.hash.startsWith('#deal-')){var $dealAnchored=this.$dealPredictorWeek.find('[name=\''+window.location.hash.replace('#','')+'\']');if($dealAnchored.length===1){var scrollTo=$($dealAnchored[0]).closest('.dealPredictor').index();if(scrollTo>0&&scrollTo<this.$dealCards.length){this.$dealPredictorWeek.find('.flexslider').scrollLeft(0);this.goToPage(scrollTo,$(this.$dealPagination[scrollTo]));}}}};return DealPredictorWeek;}();api.onRegister=function(scope){new DealPredictorWeek(scope.$scope);};Cog.registerComponent({name:'dealPredictorWeek',api:api,selector:'.dealPredictorWeek'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={mainContentSectionContainer:'main-content-section'};var Utils=function(){function Utils(){_classCallCheck(this,Utils);this.init();}
Utils.prototype.init=function init(){var $elements=$('.'+selectors.mainContentSectionContainer);this.resetEmptySpacing($elements);};Utils.prototype.resetEmptySpacing=function resetEmptySpacing($elements){$elements.each(function(idx,element){var $element=$(element);if($element.children().length===0){$element.addClass('reset-margin');}});};return Utils;}();api.init=function(){new Utils();};Cog.registerStatic({name:'utils',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={sliderContainer:'> .component-content > .content',slidesElements:'.product-box-compact-container > .content > .box'};var classes={slickInitialized:'slick-initialized'};var Slider=function(){function Slider($element,media){_classCallCheck(this,Slider);this.$slider=$element;this.media=media;this.bindUiElements();this.bindUIEvents();this.initSlider();}
Slider.prototype.bindUiElements=function bindUiElements(){this.$sliderContainer=this.$slider.find(selectors.sliderContainer);this.$slidesElements=this.$sliderContainer.find(selectors.slidesElements);};Slider.prototype.checkViewport=function checkViewport(){if(this.media.isMobile()&&!this.$sliderContainer.hasClass(classes.slickInitialized)){this.initSlider();}};Slider.prototype.makeSliderElementsEqualHeight=function makeSliderElementsEqualHeight(){var heights=[];this.$slidesElements.each(function(index,slide){var $slideElement=$(slide);$slideElement.css('height','');heights.push($slideElement.outerHeight());});var maxHeight=Math.max.apply(Math,heights);if(this.media.isMobile()){this.$slidesElements.css('height',maxHeight);}};Slider.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$sliderContainer.on('init',function(){return _this.makeSliderElementsEqualHeight();});$(window).on('resize',_.debounce(function(){_this.checkViewport();_this.makeSliderElementsEqualHeight();},150));};Slider.prototype.initSlider=function initSlider(){this.$sliderContainer.slick({dots:true,vertical:false,slide:'.section',slidesToShow:1,infinite:false,variableWidth:true,mobileFirst:true,centerPadding:'20%',responsive:[{breakpoint:767,settings:'unslick'}]});};return Slider;}();api.onRegister=function(scope){new Slider(scope.$scope,this.external.media);};Cog.registerComponent({name:'Slider',api:api,selector:'.slider:not(.cq-Editable-dom)',requires:[{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var selectors={dealsCompactList:'dealsCompactList-list',dealsCompactListHomepage:'deals-compact-list-homepage',dealsCompactListCategoryPage:'deals-compact-list-category-page',dealsCompactListTopDeals:'deals-compact-list-top-deals',dealsCompactListUncutText:'deals-compact-list-uncut-text',listTitle:'dealsCompactList-link-title',listDescription:'dealsCompactList-link-description',listConfig:'deals-count.config'};var DealsCompactList=function(){function DealsCompactList($scope,media){_classCallCheck(this,DealsCompactList);this.$scope=$scope;this.media=media;this.init();this.bindUIEvents();}
DealsCompactList.prototype.init=function init(){var $listDescription=this.$scope.find('.'+selectors.listDescription);var $listTitle=this.$scope.find('.'+selectors.listTitle);var descriptionMaxLength=25;var titleMaxLength=15;if((this.$scope.hasClass(selectors.dealsCompactListHomepage)||this.$scope.hasClass(selectors.dealsCompactListCategoryPage)||this.$scope.hasClass(selectors.dealsCompactListTopDeals))&&!this.$scope.hasClass(selectors.dealsCompactListUncutText)){this.setTextLength($listTitle,titleMaxLength);this.setTextLength($listDescription,descriptionMaxLength);}
if(this.$scope.hasClass(selectors.dealsCompactListHomepage)||this.$scope.hasClass(selectors.dealsCompactListCategoryPage)){this.setListMinHeight();}};DealsCompactList.prototype.bindUIEvents=function bindUIEvents(){var _this=this;$(window).on('resize',_.debounce(function(){if(_this.$scope.hasClass(selectors.dealsCompactListHomepage)||_this.$scope.hasClass(selectors.dealsCompactListCategoryPage)){_this.setListMinHeight();}},150));};DealsCompactList.prototype.setTextLength=function setTextLength($text,textMaxLength){var _this2=this;var textString=void 0;var cutText=void 0;$text.each(function(i,element){var $element=$(element);textString=$element.text();cutText=_this2.cutString(textString,textMaxLength);$element.html(cutText);});};DealsCompactList.prototype.cutString=function cutString(string,length){var cut=string.indexOf(' ',length);if(cut===-1){return string;}if(string.length<length){return string;}
return string.substring(0,cut)+'\u2026';};DealsCompactList.prototype.setListMinHeight=function setListMinHeight(){var $dealsCompactList=this.$scope.find('.'+selectors.dealsCompactList);var maxCount=this.$scope.find('.'+selectors.listConfig).data('items-limit');var elemHeight=108;var listHeight=maxCount*elemHeight;if(this.media.isMobile()){$dealsCompactList.height('');}else{$dealsCompactList.height(listHeight);}};return DealsCompactList;}();api.onRegister=function(scope){new DealsCompactList(scope.$scope,this.external.media);};Cog.registerComponent({name:'dealsCompactList',selector:'.dealsCompactList',api:api,requires:[{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var classes={overlayLink:'product-box-overlay-link',productBoxFullContainer:'product-box-full-container',productBoxCompactContainer:'product-box-compact-container',overlayContainer:'product-box-overlay-container',overlayContent:'product-box-overlay-content',overlayContentInner:'product-box-overlay-content-inner',overlayClose:'product-box-overlay-close',overlayBackground:'product-box-overlay-background',overlayVisible:'product-box-overlay-visible',isVisible:'is-visible',isHidden:'is-hidden'};var ProductBox=function(){function ProductBox($element){_classCallCheck(this,ProductBox);this.$productBox=$element;this.$productBoxContainer=this.$productBox.find('> .compact');this.bindUIElements();this.bindUIEvents();this.buildOverlay();}
ProductBox.prototype.bindUIElements=function bindUIElements(){this.$body=$('body');this.$document=$(document);this.$productBoxOverlayLink=this.$productBox.find('.'+classes.overlayLink);this.$productBoxFullContainer=this.$productBoxOverlayLink.closest('.'+classes.productBoxCompactContainer).siblings('.'+classes.productBoxFullContainer);this.$overlayBackground={};this.$overlayContainer={};this.$overlayContentInner={};};ProductBox.prototype.bindUIEvents=function bindUIEvents(){var _this=this;this.$productBoxOverlayLink.on('click',function(ev){ev.preventDefault();ev.stopPropagation();_this.showOverlay();});this.$document.on('click touchstart','.'+classes.overlayContent,function(ev){ev.stopPropagation();});this.$document.on('click touchstart','.'+classes.overlayBackground+', .'+classes.overlayContainer+', .'+classes.overlayClose,function(){if(_this.isVisible){_this.hideOverlay();}});this.$document.on('keydown',function(ev){if(ev.keyCode===27){_this.hideOverlay();}});};ProductBox.prototype.buildOverlay=function buildOverlay(){this.$productBoxFullContainer.addClass(''+classes.overlayContentInner).removeClass(classes.isHidden);this.$productBoxContainer.append(function(){return '<div class="'+classes.overlayBackground+'" style="display: none;"></div>\n                       <div class="'+classes.overlayContainer+'" style="display: none;">\n                            <div class="'+classes.overlayContent+' lightbox--default-size">\n                                <div tabindex="0" class="'+classes.overlayClose+'" style="display: block;"></div>\n                            </div>\n                       </div>';});this.$overlayContainer=this.$productBox.find('.'+classes.overlayContainer);this.$overlayContent=this.$productBox.find('.'+classes.overlayContent);this.$overlayBackground=this.$productBox.find('.'+classes.overlayBackground);this.$productBoxFullContainer.appendTo(this.$overlayContent);};ProductBox.prototype.showOverlay=function showOverlay(){this.isVisible=true;this.scrollPosition=$(window).scrollTop();this.$body.addClass(classes.overlayVisible);this.$overlayContainer.fadeIn();this.$overlayBackground.fadeIn();this.$overlayContainer.css({top:'50px'});};ProductBox.prototype.hideOverlay=function hideOverlay(){var _this2=this;this.$overlayContainer.fadeOut();this.$overlayBackground.fadeOut();if(this.isVisible){this.isVisible=false;setTimeout(function(){_this2.$body.removeClass(classes.overlayVisible);},400);}
$('.container-fluid').off('scroll');$(window).scrollTop(this.scrollPosition);};return ProductBox;}();api.onRegister=function(scope){new ProductBox(scope.$scope);};Cog.registerComponent({name:'ProductBox',api:api,selector:'.productBox'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={calculatorsAndNews:'.promoBox > .calculators-and-news',promoBoxItem:'.promoBoxItem > .component-content',promoBoxEmpty:'.promoBoxItem:not(:has(>div))'};var CalculatorsAndNews=function(){function CalculatorsAndNews($scope,status){_classCallCheck(this,CalculatorsAndNews);this.$scope=$scope;this.status=status;this.init();}
CalculatorsAndNews.prototype.init=function init(){if(this.status.isEdit()){return;}
this.removeEmptyBoxes();var items=this.$scope.find(selectors.promoBoxItem).length;if(items===3){this.$scope.addClass('has-three-items');}else if(items===2){this.$scope.addClass('has-two-items');}else if(items<2){this.$scope.parent().remove();}};CalculatorsAndNews.prototype.removeEmptyBoxes=function removeEmptyBoxes(){this.$scope.find(selectors.promoBoxEmpty).remove();};return CalculatorsAndNews;}();api.onRegister=function(scope){new CalculatorsAndNews(scope.$scope,this.external.status);};Cog.registerComponent({name:'calculatorsAndNews',selector:selectors.calculatorsAndNews,api:api,requires:[{name:'utils.status',apiId:'status'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={promoboxTitle:'.promobox-title, .promobox-title a, .promobox-title p',promoboxDescription:'.promobox-description'};var classes={clamped:'clamped',initialized:'initialized'};var desiredLines=3;var maxLines=2;var PromoBoxContentClamping=function(){function PromoBoxContentClamping($element,promoBoxSection){_classCallCheck(this,PromoBoxContentClamping);this.$scope=$element;this.promoBoxSection=promoBoxSection;this.init();}
PromoBoxContentClamping.prototype.init=function init(){this.bindElements();this.clampIt();};PromoBoxContentClamping.prototype.bindElements=function bindElements(){this.$title=this.$scope.find(selectors.promoboxTitle);this.$description=this.$scope.find(selectors.promoboxDescription);this.titleLineHeight=parseInt(this.$title.css('line-height'),10);this.descriptionLineHeight=parseInt(this.$description.css('line-height'),10);this.titleLines=this.$title.height()/this.titleLineHeight;this.descriptionLines=this.$description.height()/this.descriptionLineHeight;};PromoBoxContentClamping.prototype.addClampedProps=function addClampedProps($elem,lines){$elem.addClass(classes.clamped);$elem.css({'-webkit-line-clamp':lines.toString()});};PromoBoxContentClamping.prototype.clampIt=function clampIt(){if(this.promoBoxSection.isSection(this.$scope)){var linesLeft=desiredLines;if(this.titleLines>=maxLines){this.addClampedProps(this.$title,maxLines);linesLeft-=maxLines;if(this.descriptionLines>=linesLeft){this.addClampedProps(this.$description,linesLeft);}}else if(this.descriptionLines>=maxLines){this.addClampedProps(this.$description,maxLines);}else{this.$scope.removeClass(classes.initialized);}}else{if(this.titleLines>=desiredLines){this.$elementToBeClamped=this.$title.find('a');this.lineClampValue=desiredLines;}else if(this.titleLines+this.descriptionLines>=desiredLines){this.$elementToBeClamped=this.$description;this.lineClampValue=desiredLines-this.titleLines;}
if(this.$elementToBeClamped&&this.lineClampValue){this.$elementToBeClamped.addClass(classes.clamped);this.$elementToBeClamped.css({'-webkit-line-clamp':this.lineClampValue.toString()});}else{this.$scope.removeClass(classes.initialized);}}};return PromoBoxContentClamping;}();api.onRegister=function(scope){new PromoBoxContentClamping(scope.$scope,this.external.promoBoxSection);};Cog.registerComponent({name:'PromoBoxContentClamping',api:api,selector:'.promobox-content-standard',requires:[{name:'utils.promoBoxSection',apiId:'promoBoxSection'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={contentCointainer:'promobox-content-hero',promoboxTitleVariations:'.promobox-title, .promobox-title a, .promobox-title p',promoboxTitle:'promobox-title',promoboxDescription:'promobox-description'};var classes={clamped:'clamped'};var maxVisibleTitleLines=3;var PromoBoxHeroContentClamping=function(){function PromoBoxHeroContentClamping($element,status,promoBoxSection){_classCallCheck(this,PromoBoxHeroContentClamping);this.$scope=$element;this.status=status;this.promoBoxSection=promoBoxSection;this.init();}
PromoBoxHeroContentClamping.prototype.init=function init(){if(this.promoBoxSection.isSectionHero(this.$scope)&&!this.status.isAuthor()){this.bindElements();this.clampTitle();this.clampDescription();this.watchWindowResize();}};PromoBoxHeroContentClamping.prototype.bindElements=function bindElements(){this.$window=$(window);this.$titleTag=this.$scope.find('.'+selectors.promoboxTitle);this.$title=this.$scope.find(selectors.promoboxTitleVariations);this.$description=this.$scope.find('.'+selectors.promoboxDescription);this.preservedTitle=$(this.$title[this.$title.length-1]).html().trim();};PromoBoxHeroContentClamping.prototype.clampTitle=function clampTitle(){var $title=$(this.$title[this.$title.length-1]);var lineHeight=parseInt($title.css('line-height'),10);var availableSpace=lineHeight*maxVisibleTitleLines;var titleSplitToSingleWords=this.preservedTitle.split(' ');if(this.$titleTag.height()>availableSpace||this.$titleTag.height()/availableSpace<1){$title.text('');var currentShortenedTitle='';var shortenedTitleWordBefore='';for(var i=0;i<titleSplitToSingleWords.length;i++){if(this.$titleTag.height()>availableSpace){$title.html(shortenedTitleWordBefore.trim()+'&hellip;');break;}
shortenedTitleWordBefore=currentShortenedTitle;currentShortenedTitle+=titleSplitToSingleWords[i]+' ';$title.html(currentShortenedTitle.trim()+'&hellip;');}
if(this.$titleTag.height()>availableSpace){$title.html(shortenedTitleWordBefore.trim()+'&hellip;');}
var currentTitle=$title.html().trim();if(this.preservedTitle.split(' ').length===currentTitle.split(' ').length&&currentTitle.slice(-1)==='\u2026'){$title.html(currentTitle.slice(0,-1));}}};PromoBoxHeroContentClamping.prototype.clampDescription=function clampDescription(){var $description=this.$description;if(this.$description.length>1){this.$description.each(function(i,elem){if($(elem).is('.text, .large')){$description=$(elem);}});}
var textToCheckLineHeight=$description;var elementMarginBottom=0;var listItems=$description.find('li');var paragraphs=$description.find('p');if(listItems.length){var listItem=$(listItems[0]);elementMarginBottom=parseInt(listItem.css('margin-bottom'),10);textToCheckLineHeight=listItem.find('a');}else if(paragraphs.length){var paragraph=$(paragraphs[0]);elementMarginBottom=parseInt(paragraph.css('margin-bottom'),10);textToCheckLineHeight=paragraph.find('a');}
var titleMarginTop=parseInt(this.$title.css('margin-top'),10);var titleMarginBottom=parseInt(this.$title.css('margin-bottom'),10);var titleFullHeight=this.$title.height()+titleMarginBottom+titleMarginTop;var leftSpace=this.$scope.parent().height()-titleFullHeight;var descLineHeight=parseInt(textToCheckLineHeight.css('line-height'),10);var descriptionLines=Math.floor((leftSpace+elementMarginBottom)/(descLineHeight+elementMarginBottom));$description.addClass(classes.clamped);$description.css({'-webkit-line-clamp':descriptionLines.toString()});};PromoBoxHeroContentClamping.prototype.watchWindowResize=function watchWindowResize(){var _this=this;this.$window.resize(function(){_this.clampTitle();_this.clampDescription();});};return PromoBoxHeroContentClamping;}();api.onRegister=function(scope){new PromoBoxHeroContentClamping(scope.$scope,this.external.status,this.external.promoBoxSection);};Cog.registerComponent({name:'PromoBoxHeroContentClamping',api:api,selector:'.promobox-content-hero',requires:[{name:'utils.status',apiId:'status'},{name:'utils.promoBoxSection',apiId:'promoBoxSection'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={promoboxItem:'.promoBoxItem',promoboxTitle:'.promobox-title',promoboxImage:'.promobox-image',lhsAccordion:'.accordion.guide-side-column-dropdown',lhsAccordionTitle:'.accordion-title-text'};var PromoBoxLeftHandSide=function(){function PromoBoxLeftHandSide($element){_classCallCheck(this,PromoBoxLeftHandSide);this.$scope=$element;this.init();}
PromoBoxLeftHandSide.prototype.init=function init(){this.bindElements();this.handleTracking();};PromoBoxLeftHandSide.prototype.bindElements=function bindElements(){this.$promoboxItem=this.$scope.find(selectors.promoboxItem);this.$titleLink=this.$promoboxItem.find(selectors.promoboxTitle).parent();this.$imageLink=this.$promoboxItem.find(selectors.promoboxImage+' > a');};PromoBoxLeftHandSide.prototype.handleTracking=function handleTracking(){var _this=this;this.$titleLink.add(this.$imageLink).on('click',function(event){var $target=$(event.target);var $currentTarget=$(event.currentTarget);Cog.fireEvent('analytics','promoBoxLeftHandSide.linkClick',{$target:$target,$currentTarget:$currentTarget,elementLayer1:_this.getAccordionTitle($target),elementLayer2:'Links',elementLayer3:'link',elementLayer4:_this.getPromoboxItemIndex($target),itemIdentifier:$target.text()||_this.getPromoboxItemTitle($target),href:$currentTarget.attr('href')});});};PromoBoxLeftHandSide.prototype.getAccordionTitle=function getAccordionTitle($childElement){return $childElement.closest(selectors.lhsAccordion).find(selectors.lhsAccordionTitle).text();};PromoBoxLeftHandSide.prototype.getPromoboxItemIndex=function getPromoboxItemIndex($childElement){return $childElement.closest(selectors.promoboxItem).index();};PromoBoxLeftHandSide.prototype.getPromoboxItemTitle=function getPromoboxItemTitle($img){return $img.closest(selectors.promoboxItem).find(selectors.promoboxTitle).text();};return PromoBoxLeftHandSide;}();api.onRegister=function(scope){new PromoBoxLeftHandSide(scope.$scope);};Cog.registerComponent({name:'PromoBoxLeftHandSide',api:api,selector:'.promoBox > .left-hand-sidebar'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var DealsAffiLinks=function(){function DealsAffiLinks($element){_classCallCheck(this,DealsAffiLinks);this.$links=$element.find('.deals-link-intro p:last');this.$intro=$element.find('.deals-link-intro');this.$config=document.getElementsByClassName('config');this.addLinks();}
DealsAffiLinks.prototype.addLinks=function addLinks(){if(this.$config.length>0){var items=JSON.parse(this.$config[0].getAttribute('data-list-config'));if(items&&items.length>0){this.$intro.removeClass('is-hidden');for(var i=0;i<items.length;i++){if(items[i].nonaffiliateLink){this.$links.append('<a href=\''+items[i].nonaffiliateLink+'\' target=\''+items[i].nonaffiliateLinkTarget+'\'>'+items[i].nonaffiliateLinkText+'</a> ');}}}}};return DealsAffiLinks;}();api.onRegister=function(scope){new DealsAffiLinks(scope.$scope);};Cog.registerComponent({name:'dealsAffiLinks',api:api,selector:'.deals-affilated-links'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var DealsCounter=function(){function DealsCounter(){_classCallCheck(this,DealsCounter);$(document).ready(this.init);}
DealsCounter.prototype.init=function init(){var count=0;$('.deals-count.config').each(function(i,val){var currentCount=parseInt($(val).data('count'),10)||0;count+=currentCount;});var currentDeals=count===1?' Current Deal':' Current Deals';$('.deals_counter').html(count+currentDeals);};return DealsCounter;}();api.init=function(){new DealsCounter();};Cog.registerStatic({name:'dealsCounter',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var constants={expiryInMinutes:20*60*1000};var classes={trendingItems:'trending-items',trendingConfig:'trending-config'};var Trending=function(){function Trending($element,status){_classCallCheck(this,Trending);this.$trendingContainer=$element;this.status=status;this.bindData();this.bindEvents();}
Trending.prototype.bindData=function bindData(){this.$trendingItems=this.$trendingContainer.find('.'+classes.trendingItems);this.$trendingConfig=this.$trendingItems.find('.'+classes.trendingConfig);this.$ol=this.$trendingItems.find('ol');this.items=this.$trendingConfig.data('json').items;this.itemTemplate=this.$trendingItems.find('script').html().trim();};Trending.prototype.bindEvents=function bindEvents(){$(document).ready(this.print.bind(this));};Trending.prototype.print=function print(){var _this=this;$.each(this.getItems(),function(i,it){_this.$ol.append($(_this.itemTemplate.replace('$path',it.path).replace('$title',it.title)));});Cog.fireEvent('most-popular','loaded');};Trending.prototype.getItems=function getItems(){if(this.status.isAuthor()){return this.items;}
var trending=JSON.parse(window.sessionStorage.getItem('trending'));var dateNow=new Date().getTime();var dateExpiresAt=dateNow+constants.expiryInMinutes;if(trending&&trending.items&&trending.expiresAt>dateNow){this.items=trending.items;}else{window.sessionStorage.setItem('trending',JSON.stringify({expiresAt:dateExpiresAt,items:this.items}));}
return this.items;};return Trending;}();api.onRegister=function(scope){new Trending(scope.$scope,this.external.status);};Cog.registerComponent({name:'Trending',api:api,selector:'.trending',requires:[{name:'utils.status',apiId:'status'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={dealsPriorityList:'.dealsPriorityList',dealsPriorityListTitle:'.dealsPriorityList-link-title'};var DealsPriorityList=function(){function DealsPriorityList($scope){_classCallCheck(this,DealsPriorityList);this.$scope=$scope;this.init();}
DealsPriorityList.prototype.init=function init(){var $titles=this.$scope.find(selectors.dealsPriorityListTitle);var titleMaxLength=42;this.setLength($titles,titleMaxLength);};DealsPriorityList.prototype.setLength=function setLength($elements,maxLength){var _this=this;$elements.each(function(i,element){var $element=$(element);var text=$element.text();var cutText=_this.cutString(text,maxLength);$element.html(cutText);});};DealsPriorityList.prototype.cutString=function cutString(string,length){var cut=string.indexOf(' ',length);if(cut===-1){return string;}
if(string.length<=length){return string;}
return string.substring(0,cut)+'\u2026';};return DealsPriorityList;}();api.onRegister=function(scope){new DealsPriorityList(scope.$scope);};Cog.registerComponent({name:'dealsPriorityList',selector:selectors.dealsPriorityList,api:api});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var classes={isActive:'is-active'};var selectors={tickerContainer:'.feed-provider-feeds',tweet:'.twitter-feed'};var constants={mobileTickerAutoScrollingStep:1,mobileTickerAutoScrollingSpeed:15,desktopTickerAutoSwitchSpeed:8000};var TwitterTicker=function(){function TwitterTicker($element,media){_classCallCheck(this,TwitterTicker);this.$ticker=$element;this.media=media;this.isMobileLayout=this.media.isMobileOrTablet();this.mobileMouseOverHandler=this.onMobileMouseOver.bind(this);this.mobileMouseOutHandler=this.onMobileMouseOut.bind(this);this.desktopMouseOverHandler=this.onDesktopMouseOver.bind(this);this.desktopMouseOutHandler=this.onDesktopMouseOut.bind(this);this.desktopTransitionEndHandler=this.onDesktopTransitionEnd.bind(this);this.bindUiElements();this.init();}
TwitterTicker.prototype.init=function init(){var _this=this;Cog.addListener('twitter','feedsLoaded',function(){_this.initTicker();_this.showAdditionButtons();_this.bindResizeHandler();},{scope:this});};TwitterTicker.prototype.initTicker=function initTicker(){this.$tweets=this.$tickerContainer.find(selectors.tweet);if(this.isMobileLayout){if(this.isDesktopTickerInitialized){this.destroyDesktopTicker();}
if(this.$tweets.length>0){this.initMobileTicker();}}else{if(this.isMobileTickerInitialized){this.destroyMobileTicker();}
if(this.$tweets.length>0){this.initDesktopTicker();}}};TwitterTicker.prototype.initDesktopTicker=function initDesktopTicker(){this.$tickerContainer.find('.'+classes.isActive).removeClass(classes.isActive);this.tweetsCount=this.$tweets.length;var initialTweetIdx=0;var $initialTweet=this.$tweets.eq(initialTweetIdx).addClass(classes.isActive);this.$currentTweet=$initialTweet;this.changeTweetOnDesktop($initialTweet,initialTweetIdx,this.tweetsCount);this.isDesktopTickerInitialized=true;};TwitterTicker.prototype.initMobileTicker=function initMobileTicker(){this.destroyDesktopTicker();this.$tickerContainer.smoothDivScroll({autoScrollingMode:'always',autoScrollingDirection:'endlessLoopRight',autoScrollingStep:constants.mobileTickerAutoScrollingStep,autoScrollingInterval:constants.mobileTickerAutoScrollingSpeed});this.$tickerContainer.smoothDivScroll('startAutoScrolling');this.bindMobileEvents();this.isMobileTickerInitialized=true;};TwitterTicker.prototype.destroyDesktopTicker=function destroyDesktopTicker(){this.unbindDesktopEvents();clearTimeout(this.tweetChangeTimer);this.isDesktopTickerInitialized=false;};TwitterTicker.prototype.destroyMobileTicker=function destroyMobileTicker(){this.$tickerContainer.smoothDivScroll('destroy');this.unbindMobileEvents();this.isMobileTickerInitialized=false;};TwitterTicker.prototype.bindUiElements=function bindUiElements(){this.$tickerContainer=this.$ticker.find(selectors.tickerContainer);};TwitterTicker.prototype.changeTweetOnDesktop=function changeTweetOnDesktop($currentTweet,tweetIdx,tweetsCount){var _this2=this;this.unbindDesktopEvents();if(!this.ismouseOver&&$currentTweet){this.tweetChangeTimer=setTimeout(function(){$currentTweet.on('transitionend',_this2.desktopTransitionEndHandler);$currentTweet.removeClass(classes.isActive);_this2.nextTweetIdx=tweetIdx+1<tweetsCount?tweetIdx+1:0;_this2.$currentTweet=_this2.$tweets.eq(_this2.nextTweetIdx);},constants.desktopTickerAutoSwitchSpeed);}
this.bindDesktopEvents();};TwitterTicker.prototype.showAdditionButtons=function showAdditionButtons(){var additionalData=this.$ticker.find('>.component-content')[0].dataset;var twitterIcon='<span class="twitter-ticker-icon"></span>';var followUsCta='<a class="twitter-ticker-cta" href="'+additionalData.followUsUrl+'">'+additionalData.followUsLinklabel+'</a>';this.$tickerContainer.before(twitterIcon);this.$tickerContainer.after(followUsCta);};TwitterTicker.prototype.onMobileMouseOver=function onMobileMouseOver(){if(!('ontouchstart'in window)){this.$tickerContainer.smoothDivScroll('stopAutoScrolling');}};TwitterTicker.prototype.onDesktopMouseOver=function onDesktopMouseOver(){this.ismouseOver=true;if(this.$currentTweet&&this.$currentTweet.hasClass('is-active')){clearTimeout(this.tweetChangeTimer);}};TwitterTicker.prototype.onDesktopMouseOut=function onDesktopMouseOut(){this.ismouseOver=false;this.changeTweetOnDesktop(this.$currentTweet,this.nextTweetIdx,this.tweetsCount);};TwitterTicker.prototype.onDesktopTransitionEnd=function onDesktopTransitionEnd(){this.$currentTweet.off('transitionend',this.desktopTransitionEndHandler);this.$currentTweet.addClass(classes.isActive);this.changeTweetOnDesktop(this.$currentTweet,this.nextTweetIdx,this.tweetsCount);};TwitterTicker.prototype.onMobileMouseOut=function onMobileMouseOut(){this.$tickerContainer.smoothDivScroll('startAutoScrolling');};TwitterTicker.prototype.bindResizeHandler=function bindResizeHandler(){var _this3=this;$(window).on('resize',_.debounce(function(){var isLayoutChanged=_this3.isMobileLayout!==_this3.media.isMobileOrTablet();_this3.isMobileLayout=_this3.media.isMobileOrTablet();if(isLayoutChanged){_this3.initTicker();}},250));};TwitterTicker.prototype.bindMobileEvents=function bindMobileEvents(){this.$tickerContainer.on('mouseover',this.mobileMouseOverHandler);this.$tickerContainer.on('mouseout',this.mobileMouseOutHandler);};TwitterTicker.prototype.bindDesktopEvents=function bindDesktopEvents(){this.$tickerContainer.on('mouseover',this.desktopMouseOverHandler);this.$tickerContainer.on('mouseout',this.desktopMouseOutHandler);};TwitterTicker.prototype.unbindMobileEvents=function unbindMobileEvents(){this.$tickerContainer.off('mouseover',this.mobileMouseOverHandler);this.$tickerContainer.off('mouseout',this.mobileMouseOutHandler);};TwitterTicker.prototype.unbindDesktopEvents=function unbindDesktopEvents(){this.$tickerContainer.off('mouseover',this.desktopMouseOverHandler);this.$tickerContainer.off('mouseout',this.desktopMouseOutHandler);};return TwitterTicker;}();api.onRegister=function(scope){new TwitterTicker(scope.$scope,this.external.media);};Cog.registerComponent({name:'TwitterTicker',api:api,selector:'.twitter-ticker',requires:[{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());(function($){var api={};var selectors={embeddedTweet:'embeddedTweet'};api.goToHash=function(){var currentHash=window.location.hash;var $scrollToElement=$(currentHash);if(!$scrollToElement.length)return;var scrollPosition=$scrollToElement.offset().top;$('html, body').stop().animate({scrollTop:scrollPosition},800);};api.bindEvents=function(){if(typeof window.twttr.events!=='undefined'){window.twttr.events.bind('loaded',api.goToHash);}else{window.twttr.ready(function(){window.twttr.events.bind('loaded',api.goToHash);});}};api.loadWidgetsJs=function(){window.twttr=function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs");api.bindEvents();};api.init=function(){var $embeddedTweet=$('.'+selectors.embeddedTweet);if($embeddedTweet.length){api.loadWidgetsJs();}};Cog.registerStatic({name:'embedded-tweet',api:api});})(Cog.jQuery());(function(){var api={};api.onRegister=function(scope){if(!this.external.status.isEdit()&&scope.$scope.text().trim()===''){scope.$scope.remove();}};Cog.registerComponent({name:'expirableBox',api:api,selector:'.expirableBox',requires:[{name:'utils.status',apiId:'status'}]});})();(function(){var api={};var textMaxLength=25;var initialTipBoxHeight=210;var $seeMoreElement=$('.tip-box-general-expand');var $tipBoxScrollElement=$('.tip-box-general-scroll ul');api.isMobile=function(){return window.matchMedia('screen and (max-width: 767px)').matches;};api.resetTipBoxScrollHeight=function(){$tipBoxScrollElement.attr('style','');$seeMoreElement.removeClass('is-expanded');};api.cutString=function(string,length){var cut=string.indexOf(' ',length);if(cut===-1){return string;}
if(string.length<=length){return string;}
return string.substring(0,cut)+'\u2026';};api.parseParagraphs=function($elements){if(api.isMobile()){return;}
$elements.each(function(index,element){var trimmedText=api.cutString(element.innerText,textMaxLength);element.innerText=trimmedText;});};api.handleExpandClick=function(ev){var fullTipBoxHeight=$tipBoxScrollElement.get(0).scrollHeight;var currentHeight=$tipBoxScrollElement.height();var desiredHeight=fullTipBoxHeight===currentHeight?initialTipBoxHeight:fullTipBoxHeight;var $target=$(ev.target);$tipBoxScrollElement.animate({height:desiredHeight},500);$seeMoreElement.toggleClass('is-expanded');Cog.fireEvent('analytics','clickable.click',{$target:$target,href:'#see-more'});};api.bindEvents=function($elements){$seeMoreElement.find('div').click(api.handleExpandClick);$(window).on('resize',_.debounce(function(){api.resetTipBoxScrollHeight();api.parseParagraphs($elements);},150));};api.onRegister=function(element){var $this=element.$scope;var $elements=$this.find('.tip-box-general-scroll .trim-text');api.parseParagraphs($elements);api.bindEvents($elements);};Cog.registerComponent({name:'tipListBoxGeneral',api:api,selector:'.tip-box-general'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var initialTipBoxHomeHeight=310;var selectors={componentSelector:'tipListBox',tipListBoxRHS:'tipListBox-rhs',scrollList:'tip-box-main-scroll',tipList:'tip-box-main-list',expandLinksWrapper:'tip-box-main-expand',showMoreLink:'tip-box-main-expand-more',showLessLink:'tip-box-main-expand-less',listExpandedClass:'is-expanded',listElements:'tip-box-main-list-item',hiddenClass:'hidden'};var TipListBoxMain=function(){function TipListBoxMain($scope,media){_classCallCheck(this,TipListBoxMain);this.$scope=$scope;this.media=media;this.bindElements();this.overrideTitles();this.changeEmailFormPosition(this.$scope);this.bindEvents(this.$scope);}
TipListBoxMain.prototype.bindElements=function bindElements(){this.$window=$(window);this.$expandLinksWrapper=this.$scope.find('.'+selectors.expandLinksWrapper);this.$scrollList=this.$scope.find('.'+selectors.scrollList);this.$tipList=this.$scrollList.find('.'+selectors.tipList);this.$listElements=this.$tipList.find('.'+selectors.listElements);this.initialTipBoxHeight=this.isRHS()?this.$tipList.height():initialTipBoxHomeHeight;this.itemsOnStart=this.isRHS()?4:3;};TipListBoxMain.prototype.bindEvents=function bindEvents(){this.toggleListElements(this.itemsOnStart);this.watchWindowResize();this.toggleList();};TipListBoxMain.prototype.watchWindowResize=function watchWindowResize(){var _this=this;var windowWidth=this.$window.width();this.$window.on('resize',_.debounce(function(){var resizedWindowWidth=_this.$window.width();if(resizedWindowWidth!==windowWidth){_this.changeEmailFormPosition(_this.$scope);_this.resetTipBoxScrollHeight();_this.initialTipBoxHeight=_this.isRHS()?_this.$tipList.height():initialTipBoxHomeHeight;windowWidth=resizedWindowWidth;}},150));};TipListBoxMain.prototype.isRHS=function isRHS(){return this.$scope.parents('.'+selectors.tipListBoxRHS).length;};TipListBoxMain.prototype.resetTipBoxScrollHeight=function resetTipBoxScrollHeight(){this.$tipList.attr('style','');this.$expandLinksWrapper.removeClass('is-expanded');};TipListBoxMain.prototype.toggleList=function toggleList(){var _this2=this;this.$expandLinksWrapper.find('a').on('click',function(e){e.preventDefault();var $target=$(e.target);var $link=$(e.currentTarget);var ifShowMore=$link.parent().hasClass(selectors.showMoreLink);_this2.$expandLinksWrapper.toggleClass(selectors.listExpandedClass);_this2.toggleListElements(_this2.itemsOnStart);var fullTipListHeight=_this2.$tipList.get(0).scrollHeight;var desiredHeight=ifShowMore?fullTipListHeight:_this2.initialTipBoxHeight;_this2.$tipList.animate({height:desiredHeight},500);Cog.fireEvent('analytics','clickable.click',{$target:$target,href:'#see-more'});});};TipListBoxMain.prototype.toggleListElements=function toggleListElements(itemsOnStart){var _this3=this;this.$listElements.each(function(i,elem){if(i>itemsOnStart-1){if(!_this3.$expandLinksWrapper.hasClass(selectors.listExpandedClass)){setTimeout(function(){return $(elem).addClass(selectors.hiddenClass);},500);}else{$(elem).removeClass(selectors.hiddenClass);}}});};TipListBoxMain.prototype.overrideTitles=function overrideTitles(){var $items=$('.tip-box-main-list-item');var $toOverride=this.$tipList.data('json')&&this.$tipList.data('json').override;if($toOverride){$.each($toOverride,function(key,override){$.each($items,function(itemKey,item){if($(item).children()[0].href===override.path){$(item).find('.trim-text').replaceWith($(override.title).addClass('trim-text'));}});});}};TipListBoxMain.prototype.changeEmailFormPosition=function changeEmailFormPosition($this){var isMobile=this.media.isMobile();var $form=$this.find('.tip-box-main-form');var $scrollBox=$this.find('.tip-box-main-scroll')[0];var $inputsLinks=$this.find('.tip-box-main-inputs-links.home');if(!isMobile&&$form[0].nextElementSibling!==$scrollBox||isMobile&&$form[0].nextElementSibling===$scrollBox){return;}
if(!isMobile&&$form[0].nextElementSibling!==$inputsLinks[0]){var $detForm=$form.detach();$inputsLinks.before($detForm);}else{var _$detForm=$form.detach();var $heading=$this.find('.tip-box-heading-section');$heading.after(_$detForm);}};return TipListBoxMain;}();api.onRegister=function(scope){new TipListBoxMain(scope.$scope,this.external.media);};Cog.registerComponent({name:'tipListBoxMain',api:api,selector:'.tip-box-main',requires:[{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());(function(){var api={};function handleButtonVisibility(container,leftButton,rightButton){if(container.scrollLeft>0){leftButton.classList.add('video-showcase-scroll-button-visible');}else{leftButton.classList.remove('video-showcase-scroll-button-visible');}
if(container.scrollWidth>container.clientWidth&&container.scrollLeft+container.clientWidth<container.scrollWidth){rightButton.classList.add('video-showcase-scroll-button-visible');}else if(container.scrollWidth>container.clientWidth){rightButton.classList.remove('video-showcase-scroll-button-visible');}}
api.onRegister=function(scope){var videoShowcaseContainer=scope.$scope.find('.video-showcase-container')[0];var rightButton=scope.$scope.find('.video-showcase-scroll-right-button')[0];var leftButton=scope.$scope.find('.video-showcase-scroll-left-button')[0];if(videoShowcaseContainer.scrollWidth>videoShowcaseContainer.clientWidth){rightButton.classList.add('video-showcase-scroll-button-visible');}
var imageWidth=scope.$scope.find('.video-image')[0].offsetWidth+10;leftButton.onclick=function(){var mod=videoShowcaseContainer.scrollLeft%imageWidth;if(mod){$(videoShowcaseContainer).animate({scrollLeft:'-='+mod},500);}else{$(videoShowcaseContainer).animate({scrollLeft:'-='+imageWidth},500);}};rightButton.onclick=function(){$(videoShowcaseContainer).animate({scrollLeft:'+='+imageWidth},500);};$(window).onresize=function(){handleButtonVisibility(videoShowcaseContainer,leftButton,rightButton);};videoShowcaseContainer.onscroll=function(){handleButtonVisibility(videoShowcaseContainer,leftButton,rightButton);};};Cog.registerComponent({name:'video-showcase',api:api,selector:'.videoShowcase'});})(Cog.jQuery());(function(){var api={};var players={};var getUrlParameters=function getUrlParameters(url){var params={};var parser=document.createElement('a');parser.href=url;var query=parser.search.substring(1);var vars=query.split('&');for(var i=0;i<vars.length;i++){var pair=vars[i].split('=');params[pair[0]]=decodeURIComponent(pair[1]);}
return params;};var createYouTubeApiQueue=function createYouTubeApiQueue(scope){if(!window.youTubeApiQueue){window.youTubeApiQueue=[];}
var youTubePlayers=scope.$scope.find('.youtube-player-container');youTubePlayers.each(function(index,item){var optionsElement=$(item).find('.youtube-player-data');var playerOptions={title:optionsElement.data('title'),videoId:optionsElement.data('video-id'),elementId:optionsElement.data('video-id'),description:optionsElement.data('description'),altText:optionsElement.data('alt-text'),startTime:optionsElement.data('start-time'),startTimeAsSeconds:optionsElement.data('start-time-as-seconds')};if(playerOptions.videoId){window.youTubeApiQueue.push(playerOptions);}else{var playerContainer=item;playerContainer.classList.add('youtube-player-hidden');var player=$(item).find('.youtube-player');player[0].classList.add('youtube-player-hidden');if(playerOptions.altText){var altElement=$(item).find('.youtube-player-alt');altElement[0].classList.add('alt-visible');}else{var defaultAltElement=$(item).find('.youtube-player-alt-default');defaultAltElement[0].classList.add('alt-visible');}}});$(window).on('hashchange',function(){if(window.location.hash.match(new RegExp('#youtube-player-(.+)-chapter(\\d+)'))){$(''+window.location.hash)[0].click();}});};window.onYouTubeIframeAPIReady=function(){if(window.youTubeApiQueue){for(var i=0;i<window.youTubeApiQueue.length;i++){var videoContainerId='youtube-player-'+window.youTubeApiQueue[i].elementId;players[window.youTubeApiQueue[i].elementId]=new window.YT.Player(videoContainerId,{videoId:window.youTubeApiQueue[i].elementId,events:{onReady:window.youtubeIframeAPI_onReady.bind(window.youTubeApiQueue[i]),onStateChange:window.youtubeIframeAPI_onPlayerStateChange.bind(window.youTubeApiQueue[i])}});}}};window.youtubeIframeAPI_onReady=function(event){var params=getUrlParameters(window.location.href);var regExp=/youtube-player-(.+)/;var currentPlayerId=event.target.getIframe().id;event.target.getIframe().classList.add('youtube-player','lazyload');var chapterLinks=$('[id^=\''+currentPlayerId+'-chapter\']');chapterLinks.each(function(index,item){$(item).on('click',function(){event.target.seekTo(item.getAttribute('data-seek-time'));var status=event.target.getPlayerState();if(status===5){event.target.mute();}
event.target.playVideo();});});if(window.location.hash&&window.location.hash.match(new RegExp('#'+currentPlayerId+'-chapter(\\d+)'))){$(''+window.location.hash)[0].click();return;}
if(params.autoplay==="true"&&window.location.hash==='#'+currentPlayerId){var urlVideoId=regExp.exec(window.location.hash)[1];var time=params.t;if(urlVideoId===this.videoId){event.target.mute();event.target.playVideo();if(time){event.target.seekTo(time);}}}};window.youtubeIframeAPI_onPlayerStateChange=function(event){};api.onRegister=function(scope){createYouTubeApiQueue(scope);if(window.YT&&window.YT.loaded){window.onYouTubeIframeAPIReady();}else{var tag=document.createElement('script');tag.src='https://www.youtube.com/iframe_api';var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);}};Cog.registerComponent({name:'youtubeIframeAPI',api:api,selector:'body'});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={seeMoreElement:'.tools-list-show-more',seeLessElement:'.tools-list-show-less',toolsListItem:'.toolsListItem'};var isExpandedClass='is-expanded';var ToolsList=function(){function ToolsList($scope){_classCallCheck(this,ToolsList);this.$scope=$scope;this.bindElements();this.bindEvents();this.handleShowMoreButton();}
ToolsList.prototype.bindElements=function bindElements(){this.$toolsListSeeMore=this.$scope.find(selectors.seeMoreElement);this.$toolsListSeeLess=this.$scope.find(selectors.seeLessElement);this.$toolsListItems=this.$scope.find(selectors.toolsListItem);this.$showMoreText=this.$toolsListSeeMore[0].innerText;this.$window=$(window);};ToolsList.prototype.fireAnalyticsEvent=function fireAnalyticsEvent($target,href){Cog.fireEvent('analytics','clickable.click',{$target:$target,href:href});};ToolsList.prototype.scrollToToolsListTop=function scrollToToolsListTop(){var isMobile=this.$window.width()<768;if(isMobile){var toolsListTop=this.$scope.offset().top;this.$window.scrollTop(toolsListTop);}};ToolsList.prototype.handleShowMoreButton=function handleShowMoreButton(){var _this=this;var hiddenItems=0;this.$toolsListItems.each(function(index,item){if($(item).is(':hidden')){hiddenItems++;}});if(!hiddenItems){this.$toolsListSeeMore.hide();}else{this.$toolsListSeeMore.show();}
this.$toolsListSeeMore.text(function(){return _this.$showMoreText+' ('+hiddenItems+')';});};ToolsList.prototype.bindEvents=function bindEvents(){var _this2=this;var that=this;this.$window.on('resize',_.debounce(that.handleShowMoreButton.bind(this),150));this.$toolsListSeeMore.click(function(ev){var $target=$(ev.target);_this2.$scope.addClass(isExpandedClass);_this2.$toolsListSeeMore.hide();_this2.fireAnalyticsEvent($target,'#see-more');});this.$toolsListSeeLess.click(function(ev){var $target=$(ev.target);_this2.$scope.removeClass(isExpandedClass);_this2.$toolsListSeeMore.show();_this2.fireAnalyticsEvent($target,'#see-less');_this2.scrollToToolsListTop();});};return ToolsList;}();api.onRegister=function(scope){new ToolsList(scope.$scope);};Cog.registerComponent({name:'toolsList',api:api,selector:'.toolsList'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($,Sly){var api={};var classes={trendingItems:'trending-items',mostPopularSlider:'most-popular-slider',mostPopularScrollbar:'most-popular-scrollbar',mostPopularNavNextPage:'most-popular-nav-next-page',mostPopularNavPrevPage:'most-popular-nav-prev-page'};var Trending=function(){function Trending($element){_classCallCheck(this,Trending);this.$trendingContainer=$element;this.sliderReached=0;this.bindData();this.bindEvents();this.prepareAdditionalMarkup();this.initializeSlider();this.bindAnalyticsEvents();}
Trending.prototype.bindData=function bindData(){this.$trendingItems=this.$trendingContainer.find('.'+classes.trendingItems);this.$mostPopularSlider=this.$trendingItems.find('.'+classes.mostPopularSlider);};Trending.prototype.bindEvents=function bindEvents(){var _this=this;$(window).on('resize',_.debounce(function(){_this.slider.reload();},150));this.$trendingItems.on('keyup',function(e){var $currentTarget=$(e.target);var keyCode=e.keyCode||e.which;if(keyCode===9){_this.slider.activate($currentTarget.closest('li'));}});};Trending.prototype.fireAnalyticsEvent=function fireAnalyticsEvent(ev,href,elementExtraInfo,$explicitTarget){var $target=$explicitTarget||$(ev.target);Cog.fireEvent('analytics','clickable.click',{$target:$target,href:href,elementExtraInfo:elementExtraInfo});};Trending.prototype.handleSliderScrollEvent=function handleSliderScrollEvent(percent){this.fireAnalyticsEvent(null,'#slider',percent+'%',this.$scrollBar);};Trending.prototype.handleSliderScroll=function handleSliderScroll(){var _slider$pos=this.slider.pos,cur=_slider$pos.cur,end=_slider$pos.end;var currentPosition=parseInt(cur/end*100,10);if(this.sliderReached<100&&currentPosition===100){this.handleSliderScrollEvent(100);}else if(this.sliderReached<75&&currentPosition>=75){this.handleSliderScrollEvent(75);}else if(this.sliderReached<50&&currentPosition>=50){this.handleSliderScrollEvent(50);}else if(this.sliderReached<25&&currentPosition>=25){this.handleSliderScrollEvent(25);}
this.sliderReached=Math.max(currentPosition,this.sliderReached);};Trending.prototype.bindAnalyticsEvents=function bindAnalyticsEvents(){var _this2=this;this.$nextPageButton.click(function(ev){return _this2.fireAnalyticsEvent(ev,'#>','right');});this.$prevPageButton.click(function(ev){return _this2.fireAnalyticsEvent(ev,'#<','left');});this.slider.on('moveEnd',function(){return _this2.handleSliderScroll();});};Trending.prototype.prepareAdditionalMarkup=function prepareAdditionalMarkup(){var $scrollBar=$('<div class="'+classes.mostPopularScrollbar+'"><div class="handle"></div></div>');var $navButtons=$('<div class="most-popular-nav-buttons">\n                <button aria-label="Scroll to left" class="'+classes.mostPopularNavPrevPage+'"></button>\n                <button aria-label="Scroll to right" class="'+classes.mostPopularNavNextPage+'"></button>\n            </div>');this.$trendingItems.append($scrollBar).append($navButtons);this.$scrollBar=this.$trendingContainer.find('.'+classes.mostPopularScrollbar);this.$prevPageButton=this.$trendingContainer.find('.'+classes.mostPopularNavPrevPage);this.$nextPageButton=this.$trendingContainer.find('.'+classes.mostPopularNavNextPage);};Trending.prototype.initializeSlider=function initializeSlider(){this.slider=new Sly(this.$mostPopularSlider,{slidee:this.$mostPopularSlider.find('ol'),horizontal:1,itemNav:'basic',smart:1,activateOn:'click',mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBar:this.$scrollBar,activatePageOn:'click',speed:300,elasticBounds:1,easing:'easeOutExpo',dragHandle:1,dynamicHandle:1,clickBar:1,prevPage:this.$prevPageButton,nextPage:this.$nextPageButton});this.slider.init();this.slider.reload();};return Trending;}();api.onRegister=function(scope){new Trending(scope.$scope);};Cog.registerComponent({name:'TrendingWithScrollbar',api:api,selector:'.trending-with-scrollbar'});})(Cog.jQuery(),window.Sly);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($,Sly){var api={};var classes={dealsHuntersBlogs:'deals-hunters-blogs',dealsHuntersBlogsContent:'component-content',dealsHuntersBlogsScrollbar:'deals-hunters-blogs-scrollbar',dealsHuntersBlogsNavNextPage:'deals-hunters-blogs-nav-next-page',dealsHuntersBlogsNavPrevPage:'deals-hunters-blogs-nav-prev-page'};var DealsHuntersBlogs=function(){function DealsHuntersBlogs($element){_classCallCheck(this,DealsHuntersBlogs);this.$dealsHuntersBlogsComposite=$element;this.bindData();this.bindEvents();this.prepareAdditionalMarkup();this.initializeSlider();}
DealsHuntersBlogs.prototype.bindData=function bindData(){this.$dealsHuntersBlogs=this.$dealsHuntersBlogsComposite.find('.'+classes.dealsHuntersBlogs);this.$dealsHuntersBlogsContent=this.$dealsHuntersBlogs.find('.'+classes.dealsHuntersBlogsContent);};DealsHuntersBlogs.prototype.bindEvents=function bindEvents(){var _this=this;$(window).on('resize',_.debounce(function(){_this.slider.reload();},150));this.$dealsHuntersBlogs.on('keyup',function(e){var $currentTarget=$(e.target);var keyCode=e.keyCode||e.which;if(keyCode===9&&_this.slider){_this.slider.activate($currentTarget.closest('li'));}});};DealsHuntersBlogs.prototype.prepareAdditionalMarkup=function prepareAdditionalMarkup(){var $scrollBar=$('<div class="'+classes.dealsHuntersBlogsScrollbar+'"><div class="handle"></div></div>');var $navButtons=$('<div class="deals-hunters-blogs-nav-buttons">\n                    <button aria-label="Scroll to left" class="'+classes.dealsHuntersBlogsNavPrevPage+'"></button>\n                    <button aria-label="Scroll to right" class="'+classes.dealsHuntersBlogsNavNextPage+'"></button>\n                </div>');this.$dealsHuntersBlogs.append($scrollBar).append($navButtons);this.$scrollBar=this.$dealsHuntersBlogsComposite.find('.'+classes.dealsHuntersBlogsScrollbar);this.$prevPageButton=this.$dealsHuntersBlogsComposite.find('.'+classes.dealsHuntersBlogsNavPrevPage);this.$nextPageButton=this.$dealsHuntersBlogsComposite.find('.'+classes.dealsHuntersBlogsNavNextPage);};DealsHuntersBlogs.prototype.initializeSlider=function initializeSlider(){this.slider=new Sly(this.$dealsHuntersBlogsContent,{slidee:this.$dealsHuntersBlogsContent.find('ul'),horizontal:1,itemNav:'basic',smart:1,activateOn:'click',mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBar:this.$scrollBar,activatePageOn:'click',speed:300,elasticBounds:1,easing:'easeOutExpo',dragHandle:1,dynamicHandle:1,clickBar:1,prevPage:this.$prevPageButton,nextPage:this.$nextPageButton});this.slider.init();this.slider.reload();};return DealsHuntersBlogs;}();api.onRegister=function(scope){new DealsHuntersBlogs(scope.$scope);};Cog.registerComponent({name:'DealsHuntersBlogs',api:api,selector:'.composite-variation-recent-deals-hunters-blogs'});})(Cog.jQuery(),window.Sly);(function(){var api={};var selectors={seeMoreElement:'.editors-picks-expand-more',seeLessElement:'.editors-picks-expand-less',editorsPicksInfoShown:'.editors-picks-expand-shown',editorsPicksInfoAll:'.editors-picks-expand-all'};var isExpandedClass='is-expanded';var INITIAL_ITEMS_NUMBER=5;api.adjustInformation=function(items,allItems,elements){elements.$editorsPicksInfoShown.text(items);elements.$editorsPicksInfoAll.text(allItems);};api.handleSeeMoreClick=function(ev,$scope,allItems,elements){var $target=$(ev.target);$scope.addClass(isExpandedClass);elements.$seeMoreElement.hide();elements.$seeLessElement.show();api.adjustInformation(allItems,allItems,elements);$($scope.find('> .content > .promoBoxItem')[5]).find('.promobox-content-standard .promobox-title a').focus();Cog.fireEvent('analytics','clickable.click',{$target:$target,href:'#see-more'});Cog.init($scope);};api.handleSeeLessClick=function(ev,$scope,allItems,elements){var $target=$(ev.target);$scope.removeClass(isExpandedClass);elements.$seeMoreElement.show();elements.$seeLessElement.hide();api.adjustInformation(INITIAL_ITEMS_NUMBER,allItems,elements);Cog.fireEvent('analytics','clickable.click',{$target:$target,href:'#see-less'});};api.bindEvents=function($scope,elements){var allItems=$scope.find('.promoBoxItem').length;api.adjustInformation(INITIAL_ITEMS_NUMBER,allItems,elements);elements.$seeMoreElement.click(function(ev){return api.handleSeeMoreClick(ev,$scope,allItems,elements);});elements.$seeLessElement.click(function(ev){return api.handleSeeLessClick(ev,$scope,allItems,elements);});};api.onRegister=function(element){var $scope=element.$scope;var elements={$seeMoreElement:$scope.find(selectors.seeMoreElement),$seeLessElement:$scope.find(selectors.seeLessElement),$editorsPicksInfoShown:$scope.find(selectors.editorsPicksInfoShown),$editorsPicksInfoAll:$scope.find(selectors.editorsPicksInfoAll)};api.bindEvents($scope,elements);};Cog.registerComponent({name:'promoBoxEditorsPicks',api:api,selector:'.editors-picks'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var classes={isVisible:'is-visible',isItemVisible:'is-item-visible'};var selectors={expandMoreButton:'.dynamic-guides-expand-more',expandInfo:'.dynamic-guides-expand-info',secondContainer:'.container2',thirdContainer:'.container3',thirdContainerItems:'.item',itemsShown:'.dynamic-guides-indicator-shown',itemsAll:'.dynamic-guides-indicator-all',visibleContainerItems:'.container1 > .item',updatedDynamicGuides:'.subcategory-top-promo-box',promoBoxItem:'.promoBoxItem',fourthContainer:'.container4'};var SCROLL_DURATION=500;var PromoBoxDynamicGuides=function(){function PromoBoxDynamicGuides($scope,status,media){_classCallCheck(this,PromoBoxDynamicGuides);this.$scope=$scope;this.status=status;this.media=media;this.bindUIElements();if(!this.isUpdated()){this.bindUIEvents();this.itemsAll=parseInt(this.$expandInfoAll.text(),10);}
this.init();if(!this.isUpdated()){this.updateComponentInAuthoring();}}
PromoBoxDynamicGuides.prototype.init=function init(){if(this.isUpdated()){this.handleCounterAndButtonOnLoad();this.showMoreItems();}else{this.getShownElementsQty();this.updateExpandInfo();this.updateShowMoreButtonState();this.setNextScrollTop();}};PromoBoxDynamicGuides.prototype.bindUIElements=function bindUIElements(){this.$seeMoreButton=this.$scope.find(selectors.expandMoreButton);this.$expandInfo=this.$scope.find(selectors.expandInfo);this.$secondContainer=this.$scope.find(selectors.secondContainer);this.$thirdContainer=this.$scope.find(selectors.thirdContainer);this.$thirdContainerItems=this.$scope.find(selectors.thirdContainerItems);this.$fourthContainer=this.$scope.find(selectors.fourthContainer);this.$expandInfoShown=this.$expandInfo.find(selectors.itemsShown);this.$expandInfoAll=this.$expandInfo.find(selectors.itemsAll);this.$visibleContainerItems=this.$scope.find(selectors.visibleContainerItems);this.$allItems=this.$scope.find(selectors.promoBoxItem);};PromoBoxDynamicGuides.prototype.isUpdated=function isUpdated(){return!!this.$scope.parents().find(selectors.updatedDynamicGuides).length;};PromoBoxDynamicGuides.prototype.handleCounterAndButtonOnLoad=function handleCounterAndButtonOnLoad(){var maxItemsVisibleOnEnter=19;if(this.$allItems.length<=maxItemsVisibleOnEnter){this.updateVisibleItemsCounter(this.$allItems.length);}else{this.updateVisibleItemsCounter(maxItemsVisibleOnEnter);this.$seeMoreButton.css('display','inline-block');}};PromoBoxDynamicGuides.prototype.updateVisibleItemsCounter=function updateVisibleItemsCounter(number){this.$expandInfoShown.text(number);};PromoBoxDynamicGuides.prototype.showMoreItems=function showMoreItems(){var _this=this;var showOnClickNumber=8;var allVisibleItemsCount=19;this.$seeMoreButton.on('click',function(){var shownCount=0;var $hiddenItems=_this.$fourthContainer.find(selectors.promoBoxItem+':not(.'+classes.isItemVisible+')');var $firstShownItem=void 0;$hiddenItems.each(function(i,elem){if(i===shownCount&&i<showOnClickNumber){$(elem).addClass(classes.isItemVisible);shownCount++;allVisibleItemsCount++;}
if(i===0){$firstShownItem=$(elem);$(elem).find('.promobox-content-standard .promobox-title a').focus();}
if(shownCount>=$hiddenItems.length){_this.$seeMoreButton.css('display','none');}});if(!_this.media.isTabletHorizontalOrDesktop()){$('html,body').animate({scrollTop:$firstShownItem.offset().top},SCROLL_DURATION,function(){$firstShownItem.find('.promobox-content-standard .promobox-title a').focus();});}else{$firstShownItem.find('.promobox-content-standard .promobox-title a').focus();}
_this.updateVisibleItemsCounter(allVisibleItemsCount);Cog.fireEvent('analytics','clickable.click',{$target:_this.$seeMoreButton,href:'#see-more'});});};PromoBoxDynamicGuides.prototype.setNextScrollTop=function setNextScrollTop(){this.nextScrollTop=this.$scope.position().top+this.$scope.offset().top+this.$scope.outerHeight();};PromoBoxDynamicGuides.prototype.scrollToExpandedItems=function scrollToExpandedItems(){if(!this.media.isTabletHorizontalOrDesktop()){$('html,body').animate({scrollTop:this.nextScrollTop},SCROLL_DURATION);}};PromoBoxDynamicGuides.prototype.getShownElementsQty=function getShownElementsQty(){this.itemsShown=this.media.isTabletHorizontalOrDesktop()?Math.min(13,this.itemsAll):this.$visibleContainerItems.length;if(this.media.isTabletHorizontalOrDesktop()){this.isSecondContainerShown=true;this.$secondContainer.addClass(classes.isVisible);}};PromoBoxDynamicGuides.prototype.updateExpandInfo=function updateExpandInfo(){this.$expandInfoShown.text(this.itemsShown);};PromoBoxDynamicGuides.prototype.updateShowMoreButtonState=function updateShowMoreButtonState(){if(this.itemsAll>this.itemsShown){this.$seeMoreButton.addClass(classes.isVisible);}else{this.$seeMoreButton.removeClass(classes.isVisible);}};PromoBoxDynamicGuides.prototype.bindUIEvents=function bindUIEvents(){var _this2=this;this.$seeMoreButton.click(function(){return _this2.handleSeeMoreClick();});$(window).on('resize',_.debounce(function(){_this2.setNextScrollTop();},250));};PromoBoxDynamicGuides.prototype.revealItems=function revealItems(){this.$thirdContainerItems.slice(0,this.itemsShown).addClass(classes.isItemVisible);};PromoBoxDynamicGuides.prototype.focusOnElement=function focusOnElement($container,elementIndex){$container.find('.item').eq(elementIndex).find('a').eq(0).focus();};PromoBoxDynamicGuides.prototype.handleSeeMoreClick=function handleSeeMoreClick(){if(!this.isSecondContainerShown){this.$secondContainer.addClass(classes.isVisible);this.focusOnElement(this.$secondContainer,0);this.itemsShown=Math.min(this.itemsShown+7,this.itemsAll);this.isSecondContainerShown=true;Cog.init(this.$secondContainer);}else if(this.itemsShown<this.itemsAll){var prevItemsShown=this.itemsShown;this.$thirdContainer.addClass(classes.isVisible);this.itemsShown=Math.min(this.itemsShown+9,this.itemsAll);this.revealItems();this.focusOnElement(this.$thirdContainer,prevItemsShown-13);Cog.init({$element:this.$thirdContainer});}else{this.$thirdContainer.addClass(classes.isVisible);this.itemsShown=this.itemsAll;Cog.init({$element:this.$thirdContainer});}
Cog.fireEvent('analytics','clickable.click',{$target:this.$seeMoreButton,href:'#see-more'});this.updateExpandInfo();this.updateShowMoreButtonState();this.scrollToExpandedItems();this.setNextScrollTop();};PromoBoxDynamicGuides.prototype.updateComponentInAuthoring=function updateComponentInAuthoring(){if(!this.status.isAuthor()){return;}
var $elements=this.$scope.find('.promoBoxItem');if($elements.length<=6){return;}
var lastElement=$elements.eq(12);if(lastElement.length===0){lastElement=$elements.last();}
lastElement.addClass('dynamic-guides-last-item');};return PromoBoxDynamicGuides;}();api.onRegister=function(scope){new PromoBoxDynamicGuides(scope.$scope,this.external.status,this.external.media);};Cog.registerComponent({name:'promoBoxDynamicGuides',api:api,selector:'.dynamic-guides',requires:[{name:'utils.status',apiId:'status'},{name:'utils.media',apiId:'media'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($,Sly){var api={};var classes={isWrapped:'is-wrapped',toggleButtonWrapper:'in-page-navigation-button',navList:'in-page-navigation-items',navWrapper:'in-page-navigation-wrapper',leftGradient:'left-gradient',rightGradient:'right-gradient'};var InpageNavigation=function(){function InpageNavigation($element,media){_classCallCheck(this,InpageNavigation);this.$scope=$element;this.media=media;this.init();}
InpageNavigation.prototype.init=function init(){this.bindElements();this.bindEvents();this.wrapNavigation();};InpageNavigation.prototype.bindElements=function bindElements(){this.$toggleButtonWrapper=this.$scope.find('.'+classes.toggleButtonWrapper);this.$toggleButton=this.$toggleButtonWrapper.find('button');this.$navList=this.$scope.find('.'+classes.navList);this.$navWrapper=this.$scope.find('.'+classes.navWrapper);};InpageNavigation.prototype.bindEvents=function bindEvents(){var _this=this;this.$toggleButton.on('click',function(ev){var isExpanded=_this.$toggleButtonWrapper.attr('aria-expanded')==='true';var $target=$(ev.target);_this.$toggleButtonWrapper.attr('aria-expanded',isExpanded?'false':'true');Cog.fireEvent('analytics','clickable.click',{$target:$target,href:isExpanded?'#close':'#open',elementExtraInfo:isExpanded?'close':'open'});});$(window).on('resize',_.debounce(function(){_this.wrapNavigation();},250));this.$navWrapper.on('keyup',function(e){var keyCode=e.keyCode||e.which;if(keyCode===9){var $currentButton=$(e.target);_this.slider.toCenter($currentButton.parent());}});};InpageNavigation.prototype.wrapNavigation=function wrapNavigation(){var navWrapperWidth=this.$navWrapper[0].scrollWidth;var isTabletOrDesktop=this.media.isTabletOrDesktop();if(isTabletOrDesktop&&navWrapperWidth>this.$navList.width()){this.$scope.addClass(classes.isWrapped);if(!this.slider||!this.slider.initialized){this.initializeSlider();}}
if(!isTabletOrDesktop&&this.slider){this.slider.destroy();}};InpageNavigation.prototype.initializeSlider=function initializeSlider(){var _this2=this;this.slider=new Sly(this.$navWrapper,{slidee:this.$navList,horizontal:1,itemNav:'centered',smart:false,activateOn:'click',mouseDragging:1,touchDragging:1,releaseSwing:1,scrollSource:this.$navWrapper,scrollBy:1,scrollTrap:true,startAt:0,activatePageOn:'click',speed:300,elasticBounds:0,easing:'easeOutExpo',dragHandle:1,dynamicHandle:1,clickBar:1,activeClass:'sly-active'});this.slider.init();this.slider.on('move',function(){return _this2.handleSliderScroll();});this.slider.toCenter(this.$navList.find('.active').parent());this.handleSliderScroll();};InpageNavigation.prototype.handleSliderScroll=function handleSliderScroll(){var _slider$pos=this.slider.pos,cur=_slider$pos.cur,end=_slider$pos.end;var currentPosition=parseInt(cur/end*100,10);this.$scope.toggleClass(classes.leftGradient,currentPosition>1);this.$scope.toggleClass(classes.rightGradient,currentPosition<99);};return InpageNavigation;}();api.onRegister=function(scope){new InpageNavigation(scope.$scope,this.external.media);};Cog.registerComponent({name:'InpageNavigation',api:api,selector:'.in-page-navigation-component',requires:[{name:'utils.media',apiId:'media'}]});})(Cog.jQuery(),window.Sly);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var keysToHandle={rightArrow:39,leftArrow:37,space:32,enter:13,tab:9};var api={tabs:[]};var values={isDesktop:null};var megamenuOpenTimeoutMs=200;var Megamenu=function(){function Megamenu($scope,status,media){_classCallCheck(this,Megamenu);this.logger=Cog.logger('MegaMenu');this.$scope=$scope;this.status=status;this.media=media;this.bindEvents();this.init();this.bindElements();this.attachResize();$(window).trigger('resize');}
Megamenu.prototype.attachResize=function attachResize(){var _this=this;$(window).on('resize',_.debounce(function(){_this.isDesktopCheck();if(values.isDesktop||_this.status.isAuthor()){_this.detachEvents();_this.attachEvents();}else{_this.detachEvents();}},200));};Megamenu.prototype.init=function init(){this.addActivatedStateIfUrlMatches();this.halfOfTheViewportWidth=$(window).width()/2;this.tabFocus=0;$('.mobile-header-fixed-height').addClass('no-padding');this.activateTabTimeout=[];};Megamenu.prototype.addActivatedStateIfUrlMatches=function addActivatedStateIfUrlMatches(){var navItemWithCurrentUrl=this.$scope.find('.megaMenu-nav-item > a[href="'+window.location.href+'"]');if(navItemWithCurrentUrl.length!==1){this.logger.info('Category URLs should be unique');return;}
var tabWithCurrentUrl=navItemWithCurrentUrl.closest('.megaMenu-nav-item');tabWithCurrentUrl.addClass('activated');};Megamenu.prototype.bindEvents=function bindEvents(){this.activateTab=this.activateTab.bind(this);this.deactivateTabs=this.deactivateTabs.bind(this);this.activateFirstOrLastTab=this.activateFirstOrLastTab.bind(this);this.handleKeysForAccessibility=this.handleKeysForAccessibility.bind(this);};Megamenu.prototype.bindElements=function bindElements(){var _this2=this;this.$tabs=this.$scope.find('.component-content > .megaMenu-nav .megaMenu-nav-item');this.$header=$('#header');this.$componentContent=this.$scope.find('.megaMenu-wrapper').children('.component-content').first();this.$contents=this.$scope.find('.component-content > .megaMenu-content');this.$contents.addClass('is-hidden');this.$megaMenuNav=this.$scope.find('.megaMenu-nav');this.$moreList=$('.top-nav-v2__moreButton');this.$lastAnchorsInEachTab={};this.$contents.each(function(i,tabContent){var content=$(tabContent);_this2.$lastAnchorsInEachTab[content.attr('id')]=content.find('a').last();});};Megamenu.prototype.attachEvents=function attachEvents(){if(this.status.isAuthor()){this.$tabs.on('click',this.activateTab);}else{this.$tabs.on('click',function(e){return $(e.currentTarget).children('a').blur();});this.$tabs.on('mouseenter',this.activateTab);this.$componentContent.on('mouseleave',this.deactivateTabs);this.$megaMenuNav.on('mouseenter',this.activateFirstOrLastTab);this.$componentContent.on('keydown',this.handleKeysForAccessibility);}
this.$tabs.filter('.is-active').trigger('click');};Megamenu.prototype.detachEvents=function detachEvents(){this.$tabs.off('mouseenter',this.activateTab);this.$componentContent.off('mouseleave',this.deactivateTabs);this.$megaMenuNav.off('mouseenter',this.activateFirstOrLastTab);this.$componentContent.off('keydown',this.handleKeysForAccessibility);};Megamenu.prototype.activateTab=function activateTab(e){e.preventDefault();this.activate($(e.currentTarget));};Megamenu.prototype.activate=function activate($tab){var _this3=this;this.activateTabTimeout.push(setTimeout(function(){_this3.showCurrentTab($tab);_this3.markAsActive($tab);_this3.markAsSelectedForAccessibility($tab);_this3.showOverlay();_this3.hideMoreList();_this3.shrinkMoreListForAccessibility();},megamenuOpenTimeoutMs));};Megamenu.prototype.showCurrentTab=function showCurrentTab($tab){this.$contents.addClass('is-hidden');this.$contents.filter($tab.find('a').data('category-id')).removeClass('is-hidden');};Megamenu.prototype.markAsActive=function markAsActive($tab){this.$tabs.removeClass('is-active');$tab.addClass('is-active');};Megamenu.prototype.markAsSelectedForAccessibility=function markAsSelectedForAccessibility($tab){this.$tabs.attr('aria-selected',false);$tab.attr('aria-selected',true);};Megamenu.prototype.showOverlay=function showOverlay(){this.$header.addClass('megaMenu__overlay');};Megamenu.prototype.hideMoreList=function hideMoreList(){this.$moreList.removeClass('active');};Megamenu.prototype.shrinkMoreListForAccessibility=function shrinkMoreListForAccessibility(){this.$moreList.attr('aria-expanded',false);};Megamenu.prototype.deactivateTabs=function deactivateTabs(e){e.preventDefault();this.activateTabTimeout.forEach(function(tab){return clearTimeout(tab);});this.activateTabTimeout=[];this.hideMegamenu();};Megamenu.prototype.hideMegamenu=function hideMegamenu(){this.hideAllTabs();this.markAsInactive();this.hideOverlay();};Megamenu.prototype.hideAllTabs=function hideAllTabs(){this.$contents.addClass('is-hidden');};Megamenu.prototype.markAsInactive=function markAsInactive(){this.$tabs.removeClass('is-active');};Megamenu.prototype.hideOverlay=function hideOverlay(){this.$header.removeClass('megaMenu__overlay');};Megamenu.prototype.activateFirstOrLastTab=function activateFirstOrLastTab(e){if(!this.isHoveringOnTheSidesOfMenu(e)){return;}
if(this.isHoveringOnTheLeft(e)){this.activateFirstTab();}else{this.activateLastTab();}};Megamenu.prototype.isHoveringOnTheSidesOfMenu=function isHoveringOnTheSidesOfMenu(e){return e.currentTarget===e.target;};Megamenu.prototype.isHoveringOnTheLeft=function isHoveringOnTheLeft(e){return e.pageX<this.halfOfTheViewportWidth;};Megamenu.prototype.activateFirstTab=function activateFirstTab(){this.activate(this.$tabs.first());};Megamenu.prototype.activateLastTab=function activateLastTab(){this.activate(this.$tabs.last());};Megamenu.prototype.handleKeysForAccessibility=function handleKeysForAccessibility(e){if(Object.values(keysToHandle).includes(e.keyCode)){this.$focusedTab=$(this.$tabs[this.tabFocus]);switch(e.keyCode){case keysToHandle.rightArrow:this.moveFocusToRight();break;case keysToHandle.leftArrow:this.moveFocusToLeft();break;case keysToHandle.space:this.openCurrentCategory(e);break;case keysToHandle.enter:this.followCategoryUrl();break;case keysToHandle.tab:this.hideMegamenuAfterLastAnchor(e);break;}}};Megamenu.prototype.moveFocusToLeft=function moveFocusToLeft(){this.$focusedTab.attr('tabindex',-1);this.tabFocus--;if(this.tabFocus<0){this.tabFocus=this.$tabs.length-1;}
this.changeFocus();};Megamenu.prototype.changeFocus=function changeFocus(){var $tabToFocus=$(this.$tabs[this.tabFocus]);$tabToFocus.attr('tabindex',0);$tabToFocus.focus();};Megamenu.prototype.moveFocusToRight=function moveFocusToRight(){this.$focusedTab.attr('tabindex',-1);this.tabFocus++;if(this.tabFocus>=this.$tabs.length){this.tabFocus=0;}
this.changeFocus();};Megamenu.prototype.openCurrentCategory=function openCurrentCategory(e){e.preventDefault();this.$openedTab=this.$focusedTab;this.$focusedTab.mouseenter();};Megamenu.prototype.followCategoryUrl=function followCategoryUrl(){var tabAnchor=this.$focusedTab.children('a');if(tabAnchor&&tabAnchor.attr('href')){window.location.href=tabAnchor.attr('href');}};Megamenu.prototype.isDesktopCheck=function isDesktopCheck(){if(this.$scope.hasClass('megaMenu-tabletHorizontal')){values.isDesktop=this.media.isDesktop();}else{values.isDesktop=this.media.isDesktopLarge();}};Megamenu.prototype.hideMegamenuAfterLastAnchor=function hideMegamenuAfterLastAnchor(e){if(!this.$openedTab){return;}
var openedTabId=this.$openedTab.attr('aria-controls');if(this.$lastAnchorsInEachTab[openedTabId].is(e.target)){this.hideMegamenu();}};return Megamenu;}();api.onRegister=function(scope){api.tabs.push(new Megamenu(scope.$scope,this.external.status,this.external.media));};Cog.registerComponent({name:'megaMenu',api:api,selector:'.megaMenu',requires:[{name:'utils.status',apiId:'status'},{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var values={$previousCategory:null,$previousLink:null,isTabletOrDesktopSmall:null,isMobile:null,isThirdLevelDisabled:false};var selectors={additionalLinksNavySection:'.megaMenu__additional-links-navy',additionalLinksGreySection:'.megaMenu__additional-links-grey',categoriesWrapper:'.megaMenu-wrapper > .component-content',contentWrapper:'.megaMenu-wrapper',navContainer:'.top-nav-v2-mobile-view',toggleMegaMenuHamburger:'.top-nav-v2-mobile-menu-open-image',toggleMegaMenuClose:'.top-nav-v2-mobile-menu-close-image',backButtonLvl2:'.megaMenu-back-lvl2'};var classes={active:'is-active',animate:'animate',overlay:'overlay',pageOverlay:'megaMenu__overlay',megaMenuButtonOpen:'top-nav-v2-mobile-menu-toggle--open',thirdLevelDisabled:'megaMenu-third-level-disabled'};var MegaMenuMobileV2=function(){function MegaMenuMobileV2($scope,status,media){_classCallCheck(this,MegaMenuMobileV2);this.$scope=$scope;this.status=status;this.media=media;if(!this.status.isAuthor()){this.addAdditionalLinksSection();this.bindElements();this.bindEvents();this.bindValues();this.attachResize();$(window).trigger('resize');this.addCategoryLinks();}}
MegaMenuMobileV2.prototype.bindEvents=function bindEvents(){this.closeMegaMenu=this.closeMegaMenu.bind(this);this.openMegamenu=this.openMegamenu.bind(this);this.setMegaMenuHeight=this.setMegaMenuHeight.bind(this);this.removeHeightSetting=this.removeHeightSetting.bind(this);};MegaMenuMobileV2.prototype.bindElements=function bindElements(){this.$document=$(document);this.$header=$('#header');this.$toggleMegaMenuHamburger=$(selectors.toggleMegaMenuHamburger);this.$toggleMegaMenuHamburgerLink=this.$toggleMegaMenuHamburger.find('a');this.$toggleMegaMenuClose=$(selectors.toggleMegaMenuClose);this.$toggleMegaMenuCloseLink=this.$toggleMegaMenuClose.find('a');this.$category=this.$scope.find('.megaMenu-nav-item');this.$categories=this.$scope.find('.megaMenu-content');this.$subcategory=this.$scope.find('.tabContent h3');this.$categoryList=this.$scope.find('.megaMenu-nav-list');this.$search=$('.top-nav-v2-search-box');};MegaMenuMobileV2.prototype.bindValues=function bindValues(){this.megaMenuSnippetName=this.$scope.closest('.snippetReference').attr('class').split(' ').filter(function(className){return className.indexOf('reference')===0;}).toString();this.isThirdLevelDisabledActive();};MegaMenuMobileV2.prototype.detachEvents=function detachEvents(){this.$document.off('click',this.closeMegaMenu);this.$toggleMegaMenuHamburgerLink.off('click',this.openMegamenu);this.$toggleMegaMenuCloseLink.off('click',this.closeMegaMenu);this.$category.off('click',this.openSubcategory);this.$document.off('cookieAccepted',this.setMegaMenuHeight);};MegaMenuMobileV2.prototype.attachEvents=function attachEvents(){var _this=this;this.$document.on('cookieAccepted',this.setMegaMenuHeight);this.$toggleMegaMenuHamburgerLink.on('click',this.openMegamenu);this.$toggleMegaMenuCloseLink.on('click',this.closeMegaMenu);this.$category.on('click',this.openSubcategory);$(selectors.backButtonLvl2).on('click',function(ev){return _this.closeSubcategory(ev);});};MegaMenuMobileV2.prototype.attachPhoneEvents=function attachPhoneEvents(){var _this2=this;this.$subcategory.on('click',function(ev){if(!values.isThirdLevelDisabled){_this2.addThirdLvlMenu(ev);}else{_this2.fireSubcategoryClickEvent(ev);}});};MegaMenuMobileV2.prototype.detachPhoneEvents=function detachPhoneEvents(){this.$subcategory.off('click');};MegaMenuMobileV2.prototype.isThirdLevelDisabledActive=function isThirdLevelDisabledActive(){values.isThirdLevelDisabled=this.$scope.hasClass(classes.thirdLevelDisabled);};MegaMenuMobileV2.prototype.addAdditionalLinksSection=function addAdditionalLinksSection(){var _this3=this;var $navySection=$(selectors.additionalLinksNavySection);var $graySection=$(selectors.additionalLinksGreySection);$navySection.insertAfter(selectors.categoriesWrapper);$graySection.insertAfter(selectors.categoriesWrapper);$navySection.find('a').on('click',function(ev){return _this3.fireBottomLinksClickEvent(ev);});$graySection.find('a').on('click',function(ev){return _this3.fireBottomLinksClickEvent(ev);});};MegaMenuMobileV2.prototype.fireBottomLinksClickEvent=function fireBottomLinksClickEvent(ev){var $link=$(ev.currentTarget);var href=$link.attr('href');var text=$link.text();Cog.fireEvent('analytics','mobileMegaMenu.bottomLinksClick',{actionType:'click',href:href,elementLayer1:'snippet '+this.megaMenuSnippetName,elementLayer2:'megamenu',elementLayer3:'richtext',itemIdentifier:text,siteSection:'MastHead BottomNav'});};MegaMenuMobileV2.prototype.openMegamenu=function openMegamenu(evt){evt.stopImmediatePropagation();this.$toggleMegaMenuHamburger.css('display','none');this.$toggleMegaMenuClose.css('display','block');this.$scope.css('display','block');this.$scope.css('width');this.$scope.addClass(classes.active);$('body').css({position:'fixed',width:'100%'});if(values.isTabletOrDesktopSmall){this.$header.addClass(classes.pageOverlay);}
this.$document.on('click',this.closeMegaMenu);};MegaMenuMobileV2.prototype.closeMegaMenu=function closeMegaMenu(evt){evt.stopImmediatePropagation();var $target=$(evt.target);var toggleMegaMenuClose=$(selectors.toggleMegaMenuClose);var isTargetCloseImage=$target.is(toggleMegaMenuClose.find('img'));var isTargetCloseAnchor=$target.is(toggleMegaMenuClose.find('a'));var isTargetNotAChildOfNavbar=$target.closest(selectors.navContainer).length===0;var isTargetNotAChildOfMegaMenu=$target.closest(this.$scope).length===0;var isTargetNotSearch=$target.closest(this.$search).length===0;if(isTargetCloseImage||isTargetCloseAnchor||isTargetNotAChildOfNavbar&&isTargetNotAChildOfMegaMenu&&isTargetNotSearch){this.hideMegaMenu();this.$document.off('click',this.closeMegaMenu);this.$toggleMegaMenuHamburger.css('display','block');this.$toggleMegaMenuClose.css('display','none');}};MegaMenuMobileV2.prototype.hideMegaMenu=function hideMegaMenu(){var _this4=this;if(this.$scope.hasClass(classes.active)){$('body').css('position','static');this.$scope.removeClass(classes.active);if(values.isTabletOrDesktopSmall&&values.$previousCategory){values.$previousCategory.removeClass(classes.active);}
setTimeout(function(){_this4.$scope.css('display','');$(selectors.toggleMegaMenuHamburger).removeClass(classes.megaMenuButtonOpen);_this4.$header.removeClass(classes.pageOverlay);_this4.$toggleMegaMenuHamburger.css('display','block');_this4.$toggleMegaMenuClose.css('display','none');if(values.$previousCategory){values.$previousCategory.removeClass(classes.active+' '+classes.animate);}
if(values.$previousLink){values.$previousLink.removeClass(classes.active);}
$(selectors.contentWrapper).removeClass(classes.animate);_this4.$categoryList.removeClass(classes.active);_this4.$scope.removeClass(classes.overlay);$('.megaMenu-nav-lvl3').remove();},500);}};MegaMenuMobileV2.prototype.openSubcategory=function openSubcategory(evt){evt.preventDefault();var $megaMenu=$('.megaMenu');var id=$(this).attr('aria-controls');var $subcategory=$('#'+id);var $previousCategory=values.$previousCategory,$previousLink=values.$previousLink;if(!$previousCategory){$subcategory.addClass(classes.active);$(this).addClass(classes.active);values.$previousCategory=$subcategory;values.$previousLink=$(this);$megaMenu.addClass(classes.overlay);}else if($previousCategory.attr('id')===id){if($previousCategory.hasClass(classes.active)){$previousCategory.removeClass(classes.active);$(this).removeClass(classes.active);$megaMenu.removeClass(classes.overlay);}else{$previousCategory.addClass(classes.active);$(this).addClass(classes.active);$megaMenu.addClass(classes.overlay);}}else{$previousLink.removeClass(classes.active);values.$previousCategory=$subcategory;values.$previousLink=$(this);if($megaMenu.hasClass(classes.overlay)){$(this).addClass(classes.active);$previousCategory.css('transition','none').removeClass(classes.active);$subcategory.css('transition','none').addClass(classes.active);setTimeout(function(){$subcategory.css('transition','');$previousCategory.css('transition','');},100);}else{$megaMenu.addClass(classes.overlay);$(this).addClass(classes.active);$previousCategory.removeClass(classes.active);$subcategory.addClass(classes.active);}}
if(values.isMobile){$megaMenu.scrollTop(0);$(selectors.contentWrapper).addClass(classes.animate);}};MegaMenuMobileV2.prototype.closeSubcategory=function closeSubcategory(evt){evt.preventDefault();this.fireBackButtonEvent(this.giveSecondLevelBackButtonIdentifier(evt));var $subcategory=$(evt.currentTarget).parent().parent();$(selectors.contentWrapper).removeClass(classes.animate);$subcategory.removeClass(classes.active);};MegaMenuMobileV2.prototype.fireBackButtonEvent=function fireBackButtonEvent(backButtonIdentifier){Cog.fireEvent('analytics','mobileMegaMenu.backButtonClick',{actionType:'click',clickType:'internal',elementLayer1:'snippet '+this.megaMenuSnippetName,elementLayer2:'megamenu',elementLayer3:'button',itemIdentifier:backButtonIdentifier,siteSection:'MastHead MegaMenu'});};MegaMenuMobileV2.prototype.giveSecondLevelBackButtonIdentifier=function giveSecondLevelBackButtonIdentifier(ev){var tabPanelId=$(ev.target).closest('[role="tabpanel"]').attr('id');return 'Back - '+this.giveCategoryName(tabPanelId);};MegaMenuMobileV2.prototype.giveCategoryName=function giveCategoryName(tabPanelId){var $navItem=this.$scope.find('[aria-controls="'+tabPanelId+'"]');return $navItem.find('.text-wrapper').text();};MegaMenuMobileV2.prototype.addCategoryLinks=function addCategoryLinks(){var _this5=this;this.$categories.each(function(){var $this=$(this);var id=$this.attr('id');var $navItem=$('[data-category-id=#'+id+']');var link=$navItem.attr('href');var name=$navItem.find('.text-wrapper').text();var $tabContent=$this.find('.tabContent');$tabContent.prepend('<div class="megaMenu-category-lvl2"><a href="'+link+'">'+name+'</a></div>');$tabContent.prepend('<div class="megaMenu-back-lvl2"><a href="#">Back</a></div>');});this.$categories.find('.megaMenu-category-lvl2 > a').on('click',function(ev){return _this5.fireParentNavigationAnchorClick(ev);});};MegaMenuMobileV2.prototype.fireParentNavigationAnchorClick=function fireParentNavigationAnchorClick(ev){var $elementAnchor=$(ev.currentTarget);var href=$elementAnchor.attr('href');Cog.fireEvent('analytics','mobileMegaMenu.parentCategoryNavigationClick',{actionType:'click',clickType:'internal',elementLayer1:'snippet '+this.megaMenuSnippetName,elementLayer2:'megamenu',elementLayer3:'richtext',elementExtraInfo:'Parent Navigation Element',internalDestination:href,itemIdentifier:this.giveActivePanelCategoryName(),siteSection:'MastHead MegaMenu'});};MegaMenuMobileV2.prototype.addThirdLvlMenu=function addThirdLvlMenu(evt){var _this6=this;evt.preventDefault();this.fireSubcategoryClickEvent(evt);var $this=$(evt.currentTarget);var $parent=$('.megaMenu-content.is-active');var $thirdLvl=$this.parent().clone();$thirdLvl.prepend('<div class="megaMenu-back-lvl3"><a href="#">Back</a></div>');$thirdLvl.addClass('megaMenu-nav-lvl3');$thirdLvl.insertAfter($this.closest('.megaMenu-content'));$thirdLvl.css('width');$thirdLvl.addClass(classes.active);$parent.addClass(classes.animate);var $thirdLevelBackButton=$('.megaMenu-back-lvl3');$thirdLevelBackButton.on('click',function(){$thirdLvl.removeClass(classes.active);$parent.removeClass(classes.animate);setTimeout(function(){return $thirdLvl.remove();},500);});$thirdLvl.find('h3 > a').on('click',function(ev){return _this6.fireParentNavigationAnchorClick(ev);});$thirdLvl.find('li > a').on('click',function(ev){return _this6.fireThirdLevelAnchorClickEvent(ev);});$thirdLevelBackButton.on('click',function(ev){return _this6.fireThirdLevelBackButtonClickEvent(ev);});};MegaMenuMobileV2.prototype.fireSubcategoryClickEvent=function fireSubcategoryClickEvent(ev){var $elementAnchor=$(ev.currentTarget).find('a');var href=$elementAnchor.attr('href');var subcategoryLabel=$elementAnchor.text();Cog.fireEvent('analytics','mobileMegaMenu.subcategoryClick',{actionType:'click',clickType:'internal',elementLayer1:'snippet '+this.megaMenuSnippetName,elementLayer2:'megamenu',elementLayer3:'richtext',internalDestination:href,itemIdentifier:this.giveActivePanelCategoryName()+' - '+subcategoryLabel,siteSection:'MastHead MegaMenu'});};MegaMenuMobileV2.prototype.fireThirdLevelAnchorClickEvent=function fireThirdLevelAnchorClickEvent(ev){var $elementAnchor=$(ev.currentTarget);var subcategoryLabel=$elementAnchor.closest('.megaMenu-nav-lvl3').find('h3 > a').text();var href=$elementAnchor.attr('href');Cog.fireEvent('analytics','mobileMegaMenu.thirdLevelAnchorClick',{actionType:'click',href:href,elementLayer1:'snippet '+this.megaMenuSnippetName,elementLayer2:'megamenu',elementLayer3:'richtext',internalDestination:href,itemIdentifier:this.giveActivePanelCategoryName()+' - '+subcategoryLabel+' - '+$elementAnchor.text(),siteSection:'MastHead MegaMenu'});};MegaMenuMobileV2.prototype.fireThirdLevelBackButtonClickEvent=function fireThirdLevelBackButtonClickEvent(ev){this.fireBackButtonEvent(this.giveThirdLevelBackButtonIdentifier(ev));};MegaMenuMobileV2.prototype.giveThirdLevelBackButtonIdentifier=function giveThirdLevelBackButtonIdentifier(ev){var $lvl3Nav=$(ev.currentTarget).closest('.megaMenu-nav-lvl3');var subcategoryName=$lvl3Nav.find('h3 a').text();return 'Back - '+this.giveActivePanelCategoryName()+' - '+subcategoryName;};MegaMenuMobileV2.prototype.giveActivePanelCategoryName=function giveActivePanelCategoryName(){var tabPanelId=this.$categories.filter('.is-active').attr('id');return this.giveCategoryName(tabPanelId);};MegaMenuMobileV2.prototype.setMegaMenuHeight=function setMegaMenuHeight(){var topnavHeight=$(selectors.navContainer).outerHeight();var windowHeight=$(window).height();var megaMenuHeight=windowHeight-topnavHeight;this.$scope.height(megaMenuHeight);this.$categories.outerHeight(megaMenuHeight);};MegaMenuMobileV2.prototype.removeHeightSetting=function removeHeightSetting(){this.$scope.removeAttr('style');this.$categories.removeAttr('style');};MegaMenuMobileV2.prototype.isTabletOrDesktopSmallCheck=function isTabletOrDesktopSmallCheck(){if(this.$scope.hasClass('megaMenu-tabletHorizontal')){values.isTabletOrDesktopSmall=this.media.isTablet();}else{values.isTabletOrDesktopSmall=this.media.isTabletOrDesktopSmall();}};MegaMenuMobileV2.prototype.isMobileCheck=function isMobileCheck(){values.isMobile=this.media.isMobile();};MegaMenuMobileV2.prototype.attachResize=function attachResize(){var _this7=this;$(window).on('resize',_.debounce(function(){_this7.isTabletOrDesktopSmallCheck();_this7.isMobileCheck();if(values.isTabletOrDesktopSmall||values.isMobile){_this7.setMegaMenuHeight();_this7.detachEvents();_this7.attachEvents();$(document).trigger('isMobile');}else{_this7.hideMegaMenu();_this7.removeHeightSetting();_this7.detachEvents();}
if(values.isMobile){_this7.detachPhoneEvents();_this7.attachPhoneEvents();}else{_this7.hideMegaMenu();_this7.detachPhoneEvents();}},200));};return MegaMenuMobileV2;}();api.onRegister=function(scope){new MegaMenuMobileV2(scope.$scope,this.external.status,this.external.media);};Cog.registerComponent({name:'MegaMenuMobileV2',api:api,selector:'.megaMenu',requires:[{name:'utils.status',apiId:'status'},{name:'utils.media',apiId:'media'}]});})();(function($){var api={};var values={overlayContainer:null,overlayContent:null,overlayContentInner:null,overlayBackground:null,overlayLoading:null,overlayClose:null,mobileChecked:false,mobile:false,scrollPosition:null,startingPositionTop:100,eligibilityInternalCta:null,eligibilityExternalCta:null};var selectors={eligibilityOverlayCta:'.eligibility-overlay-mse-calc-cta',eligibilityOverlayDirectCta:'.eligibility-overlay-external-calc-cta'};function EligibilityOverlay(elem,url){this.obj=elem;this.url=url;this.properties={href:$(elem).attr('href'),width:$(elem).data('overlaywidth'),extenalLink:$(elem).data('externallink')||'',label:$(elem).text()};}
EligibilityOverlay.prototype.attachEvents=function(){var self=this;var url=self.properties.href;if(url){if(!values.mobile){if(url.indexOf('.html')>-1){url=this.url.setSelector(url,'lightbox');}else if(url.substring(url.length-1)==='/'){url=url.substring(0,url.lastIndexOf('/'))+'.lightbox/';}else{url=url+'.lightbox/';}}
$(self.obj).on('click',function(event){event.preventDefault();event.stopPropagation();if(!values.mobile){self.initOverlayContainer();self.showLoadingContainer();}
self.visible=true;$.ajax({type:'GET',url:url,dataType:'html',success:function success(response){self.overlayBuilder(response);Cog.init({$element:values.overlayContentInner});}});self.handleEligibilityOverlayClick();});$(document).on('click touchstart','.overlay-content',function(event){event.stopPropagation();}).on('click touchstart','.overlay-background, .overlay-container, .overlay-close',function(){if(self.visible){self.hideOverlay();}}).on('keydown',function(event){if(event.keyCode===27){self.hideOverlay();}});}};EligibilityOverlay.prototype.handleEligibilityOverlayClick=function(){var self=this;Cog.fireEvent('analytics','eligibilityOverlay.triggerAnchorClick',{actionType:'click',clickType:(self.properties.extenalLink.indexOf('/redir/')>=0?'externalPaid':'externalUnpaid')+'_Eligibility_Overlay_Triggered',siteSection:'mainSection',itemIdentifier:self.properties.label,destination:self.properties.extenalLink,target:self.obj});};EligibilityOverlay.prototype.handleEligibilityOverlayInternalButtonClick=function(element){var self=this;Cog.fireEvent('analytics','eligibilityOverlay.internalButttonClick',{actionType:'click',target:element,trigger:self.obj});};EligibilityOverlay.prototype.handleEligibilityOverlayExternalButtonClick=function(element){var self=this;Cog.fireEvent('analytics','eligibilityOverlay.externalButttonClick',{actionType:'click',target:element,trigger:self.obj});};EligibilityOverlay.prototype.setEligibilityExternalUrl=function(){values.eligibilityExternalCta.attr('href',this.properties.extenalLink);};EligibilityOverlay.prototype.setEligibilityExternalIdentifier=function(){values.eligibilityExternalCta.attr('data-item-identifier',this.properties.label);};EligibilityOverlay.prototype.bindEligibilityOverlayElements=function(){var _this=this;values.eligibilityExternalCta=$(selectors.eligibilityOverlayDirectCta);values.eligibilityInternalCta=$(selectors.eligibilityOverlayCta);this.setEligibilityExternalUrl();this.setEligibilityExternalIdentifier();values.eligibilityInternalCta.on('click',function(event){_this.handleEligibilityOverlayInternalButtonClick(event.target);});values.eligibilityExternalCta.on('click',function(event){_this.handleEligibilityOverlayExternalButtonClick(event.target);});};EligibilityOverlay.prototype.initOverlayContainer=function(){var body=$('body');var overlayBackgroundHtml="<div class='overlay-background'></div>";var overlayContainerHtml='<div class=\'overlay-container eligibility-overlay-container\'>\n                    <div class=\'overlay-content\'>\n                        <div tabindex=\'0\' class=\'overlay-close\'></div>\n                        <div class=\'overlay-loading\'></div>\n                        <div class=\'overlay-content-inner\'></div>\n                    </div>\n                </div>';if(!values.overlayContainer){body.append(overlayBackgroundHtml,overlayContainerHtml);values.overlayBackground=$('.overlay-background');values.overlayContainer=$('.overlay-container');values.overlayContent=$('.overlay-content');values.overlayContentInner=$('.overlay-content-inner');values.overlayLoading=$('.overlay-loading');values.overlayClose=$('.overlay-close');}else{values.overlayContentInner.empty();}};EligibilityOverlay.prototype.showLoadingContainer=function(){values.overlayClose.hide();values.overlayBackground.show();values.overlayContainer.css({top:'50px'});values.overlayContainer.show();values.overlayLoading.show();};EligibilityOverlay.prototype.overlayBuilder=function(response){var self=this;if(values.mobile){window.open(self.properties.href,'_blank');}else{self.showOverlay(response);}};EligibilityOverlay.prototype.showOverlay=function(response){var overlayWidth=this.properties.width;values.overlayLoading.hide();values.overlayClose.show();values.scrollPosition=$(window).scrollTop();$('body').addClass('overlayVisible');values.overlayContent.removeClass('lightbox--full-content-size lightbox--default-size');values.overlayContent.css('max-width','none');if(!overlayWidth){values.overlayContent.addClass('lightbox--full-content-size');}else{values.overlayContent.addClass('lightbox--default-size');}
values.overlayContentInner.append(response);if(values.overlayContentInner.find('.video').length){values.overlayContent.css({width:overlayWidth});}else{values.overlayContent.css({'max-width':overlayWidth});}
$('.container-fluid').on('scroll',function(e){e.preventDefault();e.stopPropagation();return false;});this.bindEligibilityOverlayElements();};EligibilityOverlay.prototype.hideOverlay=function(){values.overlayContainer.fadeOut();values.overlayBackground.fadeOut();if(this.visible){this.visible=false;Cog.fireEvent('overlay','close');$('body').removeClass('overlayVisible');}
$('.container-fluid').off('scroll');$(window).scrollTop(values.scrollPosition);};function checkMobile(){return Cog.Cookie.read('device-group')==='mobile';}
api.onRegister=function(elements){var self=this;if(!values.mobileChecked){values.mobile=checkMobile();values.mobileChecked=true;}
elements.$scope.each(function(){var overlay=new EligibilityOverlay(this,self.external.url);overlay.attachEvents();});};Cog.registerComponent({name:'EligibilityOverlay',api:api,selector:'a.eligibility-overlay-trigger',requires:[{name:'utils.status',apiId:'status'},{name:'utils.url',apiId:'url'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var classes={resultsIframe:'#survey-results',pollClosedMessage:'.sg-disqualify',showResultsLink:'#show-results-link'};var SurveyGizmoPoll=function(){function SurveyGizmoPoll($element){_classCallCheck(this,SurveyGizmoPoll);this.$surveyGizmoPoll=$element;this.bindUIElements();this.bindUIEvents();}
SurveyGizmoPoll.prototype.bindUIElements=function bindUIElements(){this.$resultsIframe=this.$surveyGizmoPoll.find(classes.resultsIframe).first();this.$showResultsLink=this.$surveyGizmoPoll.find(classes.showResultsLink).first();this.$showResultsLabel=this.$showResultsLink.data('show-results-label');this.$hideResultsLabel=this.$showResultsLink.data('hide-results-label');};SurveyGizmoPoll.prototype.bindUIEvents=function bindUIEvents(){var _this=this;var comp=this;var count=0;var checkSurveyOpened=function checkSurveyOpened(){if(count<=5){if(comp.$surveyGizmoPoll.find(classes.pollClosedMessage).length>0){comp.$resultsIframe.show();comp.$showResultsLink.hide();}else{count++;setTimeout(checkSurveyOpened,1000);}}};checkSurveyOpened();this.$showResultsLink.on('click',function(){if(comp.$resultsIframe.is(':visible')){comp.$resultsIframe.hide();comp.$showResultsLink.text(_this.$showResultsLabel);}else{comp.$resultsIframe.show();comp.$showResultsLink.text(_this.$hideResultsLabel);}
return false;});};return SurveyGizmoPoll;}();api.onRegister=function(scope){new SurveyGizmoPoll(scope.$scope);};Cog.registerComponent({name:'surveyGizmoPoll',api:api,selector:'.surveyGizmoPoll'});})();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={},sharedApi={'pageEvent':null},dataLayer=window.dataLayer,siteSectionProvider=null,layerProvider=null;var Tracker=function(){function Tracker(){_classCallCheck(this,Tracker);this.logger=Cog.logger('AnalyticsContainer');this.bindEvents();}
Tracker.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','track',this._pushToDataLayerIfAvailableWithCallback,{scope:this});};Tracker.prototype._pushToDataLayerIfAvailable=function _pushToDataLayerIfAvailable(analyticsObject){this.logger.info("GTM event {{0}}",analyticsObject);if(!_.isUndefined(dataLayer)){dataLayer.push(analyticsObject);}};Tracker.prototype._pushToDataLayerIfAvailableWithCallback=function _pushToDataLayerIfAvailableWithCallback(ev){this._pushToDataLayerIfAvailable(ev.eventData.analyticsObject);if(_.isUndefined(dataLayer)&&_.isFunction(ev.eventData.callback)){ev.eventData.callback();}};return Tracker;}();var PageEvent=function(){function PageEvent(build){_classCallCheck(this,PageEvent);this.event=build.event;this.actionType=build.actionType;this.clickType=build.clickType;this.pageElement=build.pageElement;if(!_.isUndefined(build.productDetails)){this.productDetails=build.productDetails;}
if(!_.isUndefined(build.formEntry)){this.formEntry=build.formEntry;}
if(!_.isUndefined(build.searchCriteria)){this.searchCriteria=build.searchCriteria;}
if(!_.isUndefined(build.deal)){this.deal=build.deal;}
if(!_.isUndefined(build.product)){this.product=build.product;}}
_createClass(PageEvent,null,[{key:'Builder',get:function get(){var Builder=function(){function Builder(actionType,$target){_classCallCheck(this,Builder);this.event="pageEvent";this.actionType=actionType;this.$target=$target;this.clickType=undefined;this.pageElement=undefined;this.productDetails=undefined;this.formEntry=undefined;this.searchCriteria=undefined;this.deal=undefined;}
Builder.prototype.withClickType=function withClickType(clickType){this.clickType=clickType;return this;};Builder.prototype.withSiteSection=function withSiteSection(siteSection){if(!_.isUndefined(siteSection)){var pageElement=this.hiddenPageElement();pageElement.siteSection=siteSection;this.pageElement=pageElement;}
    return this;};Builder.prototype.withElementLayers=function withElementLayers(elementLayers){for(var i=0;i<=4;i++){this.withElementLayer(elementLayers[i],i+1);}
    return this;};Builder.prototype.withElementLayer=function withElementLayer(elementLayer,layerNo){if(!_.isUndefined(elementLayer)){var pageElement=this.hiddenPageElement();pageElement['elementLayer'+layerNo]=elementLayer;this.pageElement=pageElement;}
    return this;};Builder.prototype.withAppendedElementLayer=function withAppendedElementLayer(elementLayer){if(!_.isUndefined(elementLayer)){this.elementLayerToAppend=elementLayer;}
    return this;};Builder.prototype.withLastElementLayer=function withLastElementLayer(elementLayer){if(!_.isUndefined(elementLayer)){this.lastElementLayer=elementLayer;}
    return this;};Builder.prototype.withItemIdentifier=function withItemIdentifier(itemIdentifier){if(!_.isUndefined(itemIdentifier)){var pageElement=this.hiddenPageElement();pageElement.itemIdentifier=itemIdentifier;this.pageElement=pageElement;}
    return this;};Builder.prototype.withElementExtraInfo=function withElementExtraInfo(elementExtraInfo){if(!_.isUndefined(elementExtraInfo)){var pageElement=this.hiddenPageElement();pageElement.elementExtraInfo=elementExtraInfo;this.pageElement=pageElement;}
    return this;};Builder.prototype.withListLocation=function withListLocation(listLocation){if(!_.isUndefined(listLocation)){var pageElement=this.hiddenPageElement();pageElement.listLocation=listLocation;this.pageElement=pageElement;}
    return this;};Builder.prototype.withDestination=function withDestination(destination){if(!_.isUndefined(destination)){var pageElement=this.hiddenPageElement();pageElement.destination=destination;this.pageElement=pageElement;}
    return this;};Builder.prototype.withInternalDestination=function withInternalDestination(internalDestination){if(!_.isUndefined(internalDestination)){var pageElement=this.hiddenPageElement();pageElement.internalDestination=internalDestination;this.pageElement=pageElement;}
    return this;};Builder.prototype.withPaginationNumber=function withPaginationNumber(paginationNumber){if(!_.isUndefined(paginationNumber)){var pageElement=this.hiddenPageElement();pageElement.paginationNumber=paginationNumber;this.pageElement=pageElement;}
    return this;};Builder.prototype.withLinkID=function withLinkID(linkID){if(!_.isUndefined(linkID)){var pageElement=this.hiddenPageElement();pageElement.linkID=linkID;this.pageElement=pageElement;}
    return this;};Builder.prototype.withSearchCriteria=function withSearchCriteria(searchCriteria){this.searchCriteria=searchCriteria;return this;};Builder.prototype.withSearchTerm=function withSearchTerm(searchTerm){if(!_.isUndefined(searchTerm)){var formEntry=this.hiddenFromEntry();formEntry.searchTerm=searchTerm;this.formEntry=formEntry;}
    return this;};Builder.prototype.withSearchDropdownSelection=function withSearchDropdownSelection(searchDropdownSelection){if(!_.isUndefined(searchDropdownSelection)){var formEntry=this.hiddenFromEntry();formEntry.searchDropdownSelection=searchDropdownSelection;this.formEntry=formEntry;}
    return this;};Builder.prototype.withExtraObject=function withExtraObject(extraObject){if(!_.isUndefined(extraObject)){_.assign(this,extraObject);}
    return this;};Builder.prototype.hiddenPageElement=function hiddenPageElement(){var pageElement=this.pageElement;if(_.isUndefined(this.pageElement)){pageElement={"siteSection":undefined,"elementLayer1":undefined,"elementLayer2":undefined,"elementLayer3":undefined,"elementLayer4":undefined,"elementLayer5":undefined,"itemIdentifier":undefined,"elementExtraInfo":undefined,"listLocation":undefined,"destination":undefined,"internalDestination":undefined,"paginationNumber":undefined,"linkID":undefined};}
    return pageElement;};Builder.prototype.hiddenFromEntry=function hiddenFromEntry(){var formEntry=this.formEntry;if(_.isUndefined(this.formEntry)){formEntry={"searchTerm":undefined,"searchDropdownSelection":undefined};}
    return formEntry;};Builder.prototype.setDefaults=function setDefaults(){if(this.$target){if(_.isUndefined(this.pageElement)||_.isUndefined(this.pageElement.siteSection)){this.withSiteSection(siteSectionProvider.getSiteSectionOf(this.$target));}
    if(_.isUndefined(this.pageElement)||_.isUndefined(this.pageElement.elementLayer1)){var layers=layerProvider.getLayers(this.$target);if(!_.isUndefined(this.lastElementLayer)){layers[layers.length-1]=this.lastElementLayer;}
        if(!_.isUndefined(this.elementLayerToAppend)){layers.push(this.elementLayerToAppend);}
        this.withElementLayers(layers);}
    delete this.$target;}};Builder.prototype.build=function build(){this.setDefaults();return new PageEvent(this);};return Builder;}();return Builder;}}]);return PageEvent;}();api.init=function(){sharedApi.pageEvent=PageEvent;siteSectionProvider=this.external.analyticsSiteSectionProvider.siteSectionProvider;layerProvider=this.external.analyticsLayerProvider.layerProvider;new Tracker();};Cog.registerStatic({name:'analyticsModule',api:api,sharedApi:sharedApi,requires:[{name:'analyticsSiteSectionProvider',apiId:'analyticsSiteSectionProvider'},{name:'analyticsLayerProvider',apiId:'analyticsLayerProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={},pageEvent=null;var BackToTopAnalytics=function(){function BackToTopAnalytics(){_classCallCheck(this,BackToTopAnalytics);this.bindEvents();}
BackToTopAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','guide.backToTopClick',this.backToTopClicked,{scope:this});};BackToTopAnalytics.prototype.backToTopClicked=function backToTopClicked(ev){var $target=ev.eventData.$target;var analyticsObject=new pageEvent.Builder('click',$target).withClickType('pageAction').withElementLayer('Sharing',1).withItemIdentifier($target.text()).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return BackToTopAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;new BackToTopAnalytics();};Cog.registerStatic({name:'analyticsBackToTopModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={},external={analyticsModule:null,analyticsHomepageModule:null,analyticsTipPageModule:null},pageEvent=null,clickTypeProvider=null,homepageAnalytics=null,tipPageAnalytics=null;var ClickableAnalytics=function(){function ClickableAnalytics($element){_classCallCheck(this,ClickableAnalytics);this.logger=Cog.logger('AnalyticsContainer');this.bindEvents();}
ClickableAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','clickable.click',this.customClick,{scope:this});$('body').on('click','a',this.linkClick.bind(this));};ClickableAnalytics.prototype.customClick=function customClick(ev){this.trackClick(ev.eventData.$target,ev.eventData.href,ev.eventData.elementExtraInfo,ev);};ClickableAnalytics.prototype.linkClick=function linkClick(ev){var $target=$(ev.currentTarget);var href=$target.attr('href');if(this.isCustomClick(href)||this.isCustomListClick($target)||this.isSocialShareDealClick($target)||this.isProductBoxClick($target)||this.isDealsTileClick($target)||this.isMegaMenuClick($target)){return;}
this.trackClick($target,href,undefined,ev);};ClickableAnalytics.prototype.trackClick=function trackClick($target,href,elementExtraInfo,ev){var builderObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withDestination(clickTypeProvider.getDestination(href)).withItemIdentifier(this.getItemIdentifier($target,href)).withLinkID(this.getLinkID($target)).withElementExtraInfo(elementExtraInfo);if(homepageAnalytics.isHomepage){builderObject=homepageAnalytics.attachHomepageAnalytics(builderObject,ev,$target,elementExtraInfo);}
if(tipPageAnalytics.isTipPage){builderObject.withInternalDestination(clickTypeProvider.getInternalDestination(href));builderObject=tipPageAnalytics.attachTipPageAnalytics(builderObject,ev,$target);}
var analyticsObject=builderObject.build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ClickableAnalytics.prototype.getLinkID=function getLinkID($target){return $target.data('linkId');};ClickableAnalytics.prototype.getItemIdentifier=function getItemIdentifier($target,href){var itemIdentifier=$target.text().trim()||(href.indexOf('#')===0?href.substring(1):'')||$target.attr('title');if(!itemIdentifier){var linkImage=$target.find('img');itemIdentifier=linkImage.length?linkImage.attr('alt')||linkImage.attr('title'):'';}
return itemIdentifier;};ClickableAnalytics.prototype.isCustomClick=function isCustomClick(href){var customLinks=['#tab','#accordion'];var customLinksMatch=_.find(customLinks,function(item){return href&&href.indexOf(item)===0;});return customLinksMatch!==undefined;};ClickableAnalytics.prototype.isCustomListClick=function isCustomListClick($target){var customListsClasses=['.articleList-list','.page-list','.tip-box-general-list','.tip-box-main-list','.tools-list-items','.promoBox','.popularGuides','.most-popular-slider'];var customListsMatch=_.find(customListsClasses,function(clazz){return $target.closest(clazz).length>0;});return customListsMatch!==undefined;};ClickableAnalytics.prototype.isSocialShareDealClick=function isSocialShareDealClick($target){return $target.closest('.deals-full-list-article .share-this-bottom').length>0;};ClickableAnalytics.prototype.isProductBoxClick=function isProductBoxClick($target){return $target.closest('.composite-productboxes').length>0;};ClickableAnalytics.prototype.isDealsTileClick=function isDealsTileClick($target){return $target.closest('.dealsCompactList-article').length>0||$target.closest('.deals-full-list-article').length>0||$target.closest('.dealsPriorityList-article').length>0;};ClickableAnalytics.prototype.isMegaMenuClick=function isMegaMenuClick($target){return $target.closest('.top-nav-v2').length>0||$target.closest('.megaMenu').length>0;};return ClickableAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;homepageAnalytics=this.external.analyticsHomepageModule;tipPageAnalytics=this.external.analyticsTipPageModule;new ClickableAnalytics();};Cog.registerStatic({name:'analyticsClickableModule',api:api,externalApi:external,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'},{name:'analyticsHomepageModule',apiId:'analyticsHomepageModule'},{name:'analyticsTipPageModule',apiId:'analyticsTipPageModule'}]});})(Cog.jQuery(),_);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var sharedApi={clickTypeProvider:null};var AnalyticsClickTypeProvider=function(){function AnalyticsClickTypeProvider(){_classCallCheck(this,AnalyticsClickTypeProvider);}
AnalyticsClickTypeProvider.prototype.getClickType=function getClickType(href){var clickType='';if(this.isPageAction(href)){clickType='pageAction';}else if(this.isPaid(href)){clickType='externalPaid';}else if(this.isInternal(href)){clickType='internal';}else{clickType='externalUnpaid';}
return clickType;};AnalyticsClickTypeProvider.prototype.getDestination=function getDestination(href){var destination='';if(this.isPaid(href)){destination=href.substring(href.indexOf('/redir/')+'/redir/'.length);var queryIndex=destination.indexOf('?');if(queryIndex>0){destination=destination.substring(0,queryIndex);}}else if(!this.isPageAction(href)&&!this.isInternal(href)){destination=href;}
return destination;};AnalyticsClickTypeProvider.prototype.getInternalDestination=function getInternalDestination(href){return this.isInternal(href)?href:'';};AnalyticsClickTypeProvider.prototype.isPageAction=function isPageAction(href){var pageActions=['#','mailto:','javascript:'];var pageActionsMatch=_.find(pageActions,function(item){return href.indexOf(item)===0;});return pageActionsMatch!==undefined;};AnalyticsClickTypeProvider.prototype.isPaid=function isPaid(href){return href.indexOf('/redir/')>=0;};AnalyticsClickTypeProvider.prototype.isInternal=function isInternal(href){var internalDomains=['www.megashopbot.com','www.mobilevaluer.com','www.tunechecker.com','travelmoneymax.com','mse-demo.local','moneysavingexpert.com'];var indexOfQueryString=href.indexOf('?');var internalDomainMatch=_.find(internalDomains,function(item){var index=href.indexOf(item);return index>=0&&(indexOfQueryString===-1||index<indexOfQueryString);});return href[0]==='/'||internalDomainMatch!==undefined;};return AnalyticsClickTypeProvider;}();api.init=function(){sharedApi.clickTypeProvider=new AnalyticsClickTypeProvider();};Cog.registerStatic({name:'analyticsClickTypeProvider',api:api,sharedApi:sharedApi});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var CollapsibleAnalytics=function(){function CollapsibleAnalytics($element){_classCallCheck(this,CollapsibleAnalytics);this.bindEvents();}
CollapsibleAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('tab','change',this.collapsibleClick,{scope:this});Cog.addListener('accordion','change',this.collapsibleClick,{scope:this});};CollapsibleAnalytics.prototype.collapsibleClick=function collapsibleClick(ev){if(!ev.eventData.manual){return;}
var $target=ev.eventData.$target;Cog.fireEvent('analytics','clickable.click',{$target:$target,elementExtraInfo:ev.eventData.elementExtraInfo,href:$target.attr('href')});};return CollapsibleAnalytics;}();api.init=function(){new CollapsibleAnalytics();};Cog.registerStatic({name:'analyticsCollapsibleModule',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var selectors={compact:{dealsList:'.dealsCompactList',dealsListItem:'.dealsCompactList-article'},full:{dealsList:'.dealsFullList',dealsListItem:'.deals-full-list-article'},priority:{dealsList:'.dealsPriorityList-list',dealsListItem:'.dealsPriorityList-article'}};var tagToElementName={'A':'text','H3':'text','IMG':'image'};var dealFullParts={HEADLINE:'headline',BRAND_IMAGE:'brand_image',MORE_INFO:'more_info',CTA:'cta_button',DEAL_CONTENT:'body_content'};var tagToDealElement={'H3':dealFullParts.HEADLINE,'IMG':dealFullParts.BRAND_IMAGE};var api={},pageEvent=null,clickTypeProvider=null;var DealsListsAnalytics=function(){function DealsListsAnalytics(){_classCallCheck(this,DealsListsAnalytics);this.bindElements();this.bindEvents();}
DealsListsAnalytics.prototype.bindElements=function bindElements(){this.$dealsCompactList=$(selectors.compact.dealsList);this.$compactListAnchors=this.$dealsCompactList.find('a');this.$dealsFullList=$(selectors.full.dealsList);this.$fullListAnchors=this.$dealsFullList.find('a');this.$dealsPriorityList=$(selectors.priority.dealsList);this.$priorityListAnchors=this.$dealsPriorityList.find('a');};DealsListsAnalytics.prototype.bindEvents=function bindEvents(){var _this=this;this.$compactListAnchors.on('click',function(ev){return _this.dealsListTileClick(ev,selectors.compact);});this.$fullListAnchors.on('click',function(ev){return _this.dealsListTileClick(ev,selectors.full);});this.$priorityListAnchors.on('click',function(ev){return _this.dealsListTileClick(ev,selectors.priority);});};DealsListsAnalytics.prototype.dealsListTileClick=function dealsListTileClick(ev,selectors){var $currentTarget=$(ev.currentTarget);if($currentTarget.closest('.share-section').length>0||this.isAccordionPanel($currentTarget)||this.isCompactListCta($currentTarget)){return;}
var $target=$(ev.target);var analyticsObject=this.createDealAnalyticsObject($currentTarget,$target,selectors);Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};DealsListsAnalytics.prototype.isAccordionPanel=function isAccordionPanel($currentTarget){return this.containsClass($currentTarget,'accordion-title-link');};DealsListsAnalytics.prototype.containsClass=function containsClass($currentTarget,clazz){var classes=$currentTarget.attr('class');return classes?classes.split().indexOf(clazz)!==-1:false;};DealsListsAnalytics.prototype.isCompactListCta=function isCompactListCta($currentTarget){return this.containsClass($currentTarget,'dealsCompactList-cta');};DealsListsAnalytics.prototype.createDealAnalyticsObject=function createDealAnalyticsObject($currentTarget,$target,selectors){var href=$currentTarget.attr('href');var itemIdentifier=this.isImage($target)?$target.attr('alt'):$currentTarget.text().trim();var builder=new pageEvent.Builder('click',$currentTarget).withClickType(clickTypeProvider.getClickType(href)).withItemIdentifier(itemIdentifier).withDestination(clickTypeProvider.getDestination(href)).withElementExtraInfo(this.getElementExtraInfo($currentTarget,$target)).withListLocation(this.getDealTileLocation($currentTarget,selectors)).withExtraObject(this.getAnalyticsData($currentTarget,selectors));if(this.isDealsFullList($currentTarget)){var clickedPart=this.recognizeClickedDealPart($currentTarget,$target);if(clickedPart===dealFullParts.MORE_INFO){builder.withLastElementLayer(clickedPart);}else{builder.withAppendedElementLayer(clickedPart);}}
return builder.build();};DealsListsAnalytics.prototype.isImage=function isImage($target){return $target.prop('tagName')==='IMG';};DealsListsAnalytics.prototype.recognizeClickedDealPart=function recognizeClickedDealPart($currentTarget,$target){var clickedPart=dealFullParts.DEAL_CONTENT;if($currentTarget.closest('.deal-header').length>0){clickedPart=tagToDealElement[this.tagName($target)];}else if($currentTarget.closest('.accordion-container').length>0){clickedPart=dealFullParts.MORE_INFO;}else if(this.isCta($currentTarget)){clickedPart=dealFullParts.CTA;}
return clickedPart;};DealsListsAnalytics.prototype.tagName=function tagName($element){return $element.prop('tagName');};DealsListsAnalytics.prototype.getElementExtraInfo=function getElementExtraInfo($currentTarget,$target){var elementFromTarget=this.getElementFrom($target);var elementName=elementFromTarget?elementFromTarget:this.getElementFrom($currentTarget);return this.isCta($currentTarget)?'cta':elementName;};DealsListsAnalytics.prototype.getElementFrom=function getElementFrom($target){return tagToElementName[this.tagName($target)];};DealsListsAnalytics.prototype.isCta=function isCta($currentTarget){var classAttr=$currentTarget.attr("class");return classAttr?this.hasProductBoxButtonClass(classAttr):false;};DealsListsAnalytics.prototype.hasProductBoxButtonClass=function hasProductBoxButtonClass(classAttr){var result=false;var classes=classAttr.split(' ');for(var _iterator=classes,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}
var clazz=_ref;if(clazz.indexOf('button-primary')!==-1){result=true;break;}}
return result;};DealsListsAnalytics.prototype.getDealTileLocation=function getDealTileLocation($target,selectors){var $dealElement=$target.closest(selectors.dealsListItem);return $dealElement.parent().find(selectors.dealsListItem).index($dealElement)+1;};DealsListsAnalytics.prototype.getAnalyticsData=function getAnalyticsData($currentTarget,selectors){var $listItem=$currentTarget.closest(selectors.dealsListItem);return{deal:{'id':this.dealId($listItem),'headline':this.headline($listItem),'brand':this.brand($listItem),'expiry':this.expiry($listItem)}};};DealsListsAnalytics.prototype.dealId=function dealId($listItem){return $listItem.data('deal-id');};DealsListsAnalytics.prototype.headline=function headline($listItem){return $listItem.data('deal-headline');};DealsListsAnalytics.prototype.brand=function brand($listItem){return $listItem.data('deal-brand');};DealsListsAnalytics.prototype.expiry=function expiry($listItem){return $listItem.data('deal-expiry');};DealsListsAnalytics.prototype.isDealsFullList=function isDealsFullList($currentTarget){return $currentTarget.closest(selectors.full.dealsList).length>0;};return DealsListsAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new DealsListsAnalytics();};Cog.registerStatic({name:'analyticsDealsListsModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var pageEvent=null;var clickTypeProvider=null;var clickTypes={externalPaid:'externalPaid',externalUnpaid:'externalUnpaid'};var siteSections={sectionExternalPaid:'Eligibility_Overlay_externalPaid',sectionExternalUnPaid:'Eligibility_Overlay_externalUnPaid'};var EligibilityOverlayAnalytics=function(){function EligibilityOverlayAnalytics(){_classCallCheck(this,EligibilityOverlayAnalytics);this.bindEvents();this.isExternalPaid=false;}
EligibilityOverlayAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','eligibilityOverlay.triggerAnchorClick',this.eligibilityOverlayTriggerClickHandler,{scope:this});Cog.addListener('analytics','eligibilityOverlay.internalButttonClick',this.eligibilityOverlayInternalButtonClickHandler,{scope:this});Cog.addListener('analytics','eligibilityOverlay.externalButttonClick',this.eligibilityOverlayExternalButtonClickHandler,{scope:this});};EligibilityOverlayAnalytics.prototype.eligibilityOverlayTriggerClickHandler=function eligibilityOverlayTriggerClickHandler(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(data.target)).withClickType(data.clickType).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).withDestination(clickTypeProvider.getDestination(data.destination)).build();this.isExternalPaid=clickTypeProvider.isPaid(data.destination);Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};EligibilityOverlayAnalytics.prototype.eligibilityOverlayInternalButtonClickHandler=function eligibilityOverlayInternalButtonClickHandler(ev){var data=ev.eventData;var $internalButton=$(data.target);var analyticsObject=new pageEvent.Builder(data.actionType,$(data.trigger)).withClickType(clickTypeProvider.getClickType($internalButton.attr('href'))).withSiteSection(this.isExternalPaid?siteSections.sectionExternalPaid:siteSections.sectionExternalUnPaid).withItemIdentifier($internalButton.text()).withDestination('').build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};EligibilityOverlayAnalytics.prototype.eligibilityOverlayExternalButtonClickHandler=function eligibilityOverlayExternalButtonClickHandler(ev){var data=ev.eventData;var $externalButton=$(data.target);var analyticsObject=new pageEvent.Builder(data.actionType,$(data.trigger)).withClickType(this.isExternalPaid?clickTypes.externalPaid:clickTypes.externalUnpaid).withSiteSection(this.isExternalPaid?siteSections.sectionExternalPaid:siteSections.sectionExternalUnPaid).withItemIdentifier($(data.trigger).text()).withDestination(clickTypeProvider.getDestination($externalButton.attr('href'))).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return EligibilityOverlayAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new EligibilityOverlayAnalytics();};Cog.registerStatic({name:'analyticsEligibilityOverlayModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var pageEvent=null;var GuidePageNavigation=function(){function GuidePageNavigation(){_classCallCheck(this,GuidePageNavigation);this.linkType={topLevelLink:'Headline',secondLevelLink:'SubHeadline'};this.bindEvents();}
GuidePageNavigation.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','guidePageNavigation.topLevelNavigationClick',this.handleTopLevelLinkClick(),{scope:this});Cog.addListener('analytics','guidePageNavigation.secondLevelNavigationClick',this.handleSecondLevelLinkClick(),{scope:this});Cog.addListener('analytics','guidePageNavigation.toggleSecondLevelClick',this.handleExpandCollapseClick,{scope:this});};GuidePageNavigation.prototype.handleLinkClick=function handleLinkClick(linkType){return function(event){var _event$eventData=event.eventData,$target=_event$eventData.$target,index=_event$eventData.index;var linkText=$target.text()||'';var linkHref=$target.attr('href');var analyticsObject=new pageEvent.Builder('click',$target).withClickType('pageAction').withSiteSection('In Page Navigation').withElementLayer('In this guide',1).withElementLayer(linkType,2).withElementLayer('jumplink',3).withElementLayer(index,4).withItemIdentifier(linkText.trim()).withInternalDestination(linkHref).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};};GuidePageNavigation.prototype.handleExpandCollapseClick=function handleExpandCollapseClick(event){var _event$eventData2=event.eventData,$target=_event$eventData2.$target,index=_event$eventData2.index,expanded=_event$eventData2.expanded;var actionType=expanded?'collapse':'expand';var linkText=$target.text()||'';var linkHref=$target.attr('href');var analyticsObject=new pageEvent.Builder('click').withClickType(actionType).withSiteSection('In Page Navigation').withElementLayer('In this guide',1).withElementLayer(this.linkType.topLevelLink,2).withElementLayer(actionType,3).withElementLayer(index,4).withItemIdentifier(linkText.trim()).withInternalDestination(linkHref).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};GuidePageNavigation.prototype.handleTopLevelLinkClick=function handleTopLevelLinkClick(){return this.handleLinkClick(this.linkType.topLevelLink);};GuidePageNavigation.prototype.handleSecondLevelLinkClick=function handleSecondLevelLinkClick(){return this.handleLinkClick(this.linkType.secondLevelLink);};return GuidePageNavigation;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;new GuidePageNavigation();};Cog.registerStatic({name:'analyticsGuidePageNavigation',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'}]});})(Cog.jQuery());(function($){var sharedApi={isHomepage:false,attachHomepageAnalytics:null};sharedApi.isHomepage=$('body.layout-homepage.template-homepage').length===1;sharedApi.attachHomepageAnalytics=function(builder,event,$target,elementExtraInfo){var parsedElementExtraInfo=elementExtraInfo||figureOutElementExtraInfo(event);return builder.withListLocation(getListLocation($target)).withElementExtraInfo(parsedElementExtraInfo);};function figureOutElementExtraInfo(ev){var $target=$(ev.target);var elementExtraInfo='text';if($target&&$target.prop('tagName')==='IMG'){elementExtraInfo=$(ev.currentTarget).hasClass('video-article')?'video':'image';}
return elementExtraInfo;}
function getListLocation($target){var itemSelector=void 0;var parentSelector=void 0;var $listItem=void 0;if(isTrendingItem($target)||isTipBoxItem($target)||isSectionGuideItem($target)){itemSelector='li';}else if(isHotDealItem($target)){itemSelector='.hotDealsItem';}else if(isPriorityDealItem($target)){itemSelector='.dealsPriorityList-article';}
$listItem=$target.closest(itemSelector);if($listItem.length===1){return $listItem.parent().children(itemSelector).index($listItem[0])+1;}
$listItem=$target.closest(itemSelector);if($listItem.length===1){return $listItem.closest(parentSelector).find(itemSelector).index($listItem[0])+1;}
if(isSectionGuideHeaderItem($target)){return 0;}}
function isInPromoBox($target){return $target.closest('.promoBox').length>0;}
function isTrendingItem($target){return $target.closest('.trending-items').length>0;}
function isTipBoxItem($target){return $target.closest('.tip-box-general-scroll, .tip-box-main').length>0;}
function isHotDealItem($target){return $target.closest('.hotDealsItem').length>0;}
function isPriorityDealItem($target){return $target.closest('.dealsPriorityList-article').length>0;}
function isInMartinsBlog($target){return $target.closest("[data-id='martins-blog']").length>0;}
function isSectionGuideHeaderItem($target){var $guideSection=$target.closest("[data-id^='section-guides-']");var isNotInPromoBoxItem=$target.closest('.promoBoxItem').length===0;var isNotInList=$target.closest('ul > li').length===0;return $guideSection.length>0&&isNotInPromoBoxItem&&isNotInList;}
function isSectionGuideItem($target){var $guideSection=$target.closest("[data-id^='section-guides-']");var isInList=$target.closest('ul > li').length>0;return $guideSection.length>0&&isInList;}
Cog.registerStatic({name:'analyticsHomepageModule',api:{},sharedApi:sharedApi});})(Cog.jQuery(),_);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={},sharedApi={layerProvider:null},analyticsSelector='analytics-';var AnalyticsLayerProvider=function(){function AnalyticsLayerProvider(){_classCallCheck(this,AnalyticsLayerProvider);}
AnalyticsLayerProvider.getLayers=function getLayers($element){return this.getStaticLayers($element)||this.getCalculatedLayers($element);};AnalyticsLayerProvider.getStaticLayers=function getStaticLayers($element){return $element.closest('.tip-email-popup').length===1?['tipSignUpBanner']:undefined;};AnalyticsLayerProvider.getCalculatedLayers=function getCalculatedLayers($element){var layers=_.map($element.parents(),function(item){return this.getAnalyticsId($(item));}.bind(this));layers=this.invertArray(layers);layers.push(this.addAnalyticsIdForCurrent($element));layers=_.filter(layers,function(item){return item!=='';});if(this.isInSectionGuides($element)){layers=this.replaceWithSectionGuidesLayers($element);}else{layers=this.limitLayers(layers);}
return layers;};AnalyticsLayerProvider.invertArray=function invertArray(array){var newArray=[];_.eachRight(array,function(it){return newArray.push(it);});return newArray;};AnalyticsLayerProvider.limitLayers=function limitLayers(layers){var newLayers=[];if(layers.length>5){newLayers.push(layers[0]);for(var i=layers.length-4;i<layers.length;i++){newLayers.push(layers[i]);}}else{newLayers=layers;}
return newLayers;};AnalyticsLayerProvider.addAnalyticsIdForCurrent=function addAnalyticsIdForCurrent($element){return this.getAnalyticsIdFromDataId($element.find('> .tabMenuItem'))||this.getAnalyticsId($element);};AnalyticsLayerProvider.getAnalyticsId=function getAnalyticsId($element){return this.getAnalyticsIdFromDataId($element)||this.getAnalyticsIdFromId($element)||this.getAnalyticsIdFromHref($element)||this.getAnalyticsIdFromClassReference($element)||this.getAnalyticsIdFromClassAnalytics($element);};AnalyticsLayerProvider.getAnalyticsIdFromDataId=function getAnalyticsIdFromDataId($element){return $element.data('id');};AnalyticsLayerProvider.getAnalyticsIdFromId=function getAnalyticsIdFromId($element){return $element.is('.accordion-content-wrapper, .tabs-content')?this.cleanupId($element.attr('id')):'';};AnalyticsLayerProvider.getAnalyticsIdFromHref=function getAnalyticsIdFromHref($element){var analyticsString='';var href=$element.attr('href')||'';if(href.indexOf('#tab')===0||href.indexOf('#accordion')===0){analyticsString=this.cleanupId(href);}
return analyticsString;};AnalyticsLayerProvider.cleanupId=function cleanupId(str){return str.replace(/#/,'').replace(/content-/i,'').replace(/\d+-/i,'');};AnalyticsLayerProvider.getAnalyticsIdFromClassAnalytics=function getAnalyticsIdFromClassAnalytics($element){return this.getSelectorValue($element,analyticsSelector);};AnalyticsLayerProvider.getAnalyticsIdFromClassReference=function getAnalyticsIdFromClassReference($element){var referenceSelectorValue=this.getSelectorValue($element,'reference-');var analyticsSelectorValue=this.getSelectorValue($element,analyticsSelector);var result=referenceSelectorValue;if(referenceSelectorValue&&analyticsSelectorValue){result=referenceSelectorValue+' '+analyticsSelectorValue;}
return result;};AnalyticsLayerProvider.getSelectorValue=function getSelectorValue($element,selector){var str='';var clazz=$element.attr('class')||'';var selectorIndex=clazz.indexOf(selector);if(selectorIndex>=0){str=clazz.substring(selectorIndex+selector.length);var spaceIndex=str.indexOf(' ');if(spaceIndex>=0){str=str.substring(0,spaceIndex);}}
return str;};AnalyticsLayerProvider.isInSectionGuides=function isInSectionGuides($element){var $guideSection=$element.closest("[data-id^='section-guides-']");return $guideSection.length>0;};AnalyticsLayerProvider.replaceWithSectionGuidesLayers=function replaceWithSectionGuidesLayers($element){var $sectionGuides=$element.closest("[data-id^='section-guides-']");var $richTexts=$sectionGuides.find('.component-content .paragraphSystem > .richText');var $promoBoxItems=$sectionGuides.find('.promoBoxItem');var elementLayer1=$sectionGuides.attr('data-id');var elementLayer2=void 0;if($richTexts.index($element.closest('.richText'))===4){elementLayer2=elementLayer1+'-tags';}else if($richTexts.index($element.closest('.richText'))===2){elementLayer2='popular-guides';}else if($promoBoxItems.index($element.closest('.promoBoxItem'))!==-1){elementLayer2='promo-guide-'+($promoBoxItems.index($element.closest('.promoBoxItem'))+1);}
return[elementLayer1,elementLayer2];};return AnalyticsLayerProvider;}();api.init=function(){sharedApi.layerProvider=AnalyticsLayerProvider;};Cog.registerStatic({name:'analyticsLayerProvider',api:api,sharedApi:sharedApi});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var pageEvent=null;var clickTypeProvider=null;var LhsBylineShareThis=function(){function LhsBylineShareThis(){_classCallCheck(this,LhsBylineShareThis);this.bindEvents();}
LhsBylineShareThis.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','singleButtonShareThis.shareThisButton',this.handleShareThisButtonClick,{scope:this});Cog.addListener('analytics','singleButtonShareThis.shareThisItem',this.handleShareThisItemClick,{scope:this});};LhsBylineShareThis.prototype.handleShareThisButtonClick=function handleShareThisButtonClick(event){var data=event.eventData;var analyticsObject=new pageEvent.Builder('click',data.$target).withClickType(clickTypeProvider.getClickType('#')).withElementLayer(data.elementLayer1,1).withItemIdentifier(data.itemIdentifier).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};LhsBylineShareThis.prototype.handleShareThisItemClick=function handleShareThisItemClick(event){var data=event.eventData;var $item=data.$target;var $itemHref=$item.attr('href');var analyticsObject=new pageEvent.Builder('click',$item).withClickType(clickTypeProvider.getClickType($itemHref)).withElementLayer(data.elementLayer1,1).withItemIdentifier($item.attr('title')).withDestination($itemHref.indexOf('mailto')>=0?undefined:$itemHref).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return LhsBylineShareThis;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new LhsBylineShareThis();};Cog.registerStatic({name:'analyticsLhsBylineShareThis',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var pageEvent=null;var clickTypeProvider=null;var LhsPromoboxAnalytics=function(){function LhsPromoboxAnalytics(){_classCallCheck(this,LhsPromoboxAnalytics);this.bindEvents();}
LhsPromoboxAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','promoBoxLeftHandSide.linkClick',this.handleTitleLinkClick,{scope:this});};LhsPromoboxAnalytics.prototype.handleTitleLinkClick=function handleTitleLinkClick(event){var data=event.eventData;var analyticsObject=new pageEvent.Builder('click',data.$target).withClickType(clickTypeProvider.getClickType(data.href)).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withElementLayer(data.elementLayer4,4).withItemIdentifier(data.itemIdentifier.trim()).withInternalDestination(clickTypeProvider.getInternalDestination(data.href)).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return LhsPromoboxAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new LhsPromoboxAnalytics();};Cog.registerStatic({name:'analyticsLhsPromoboxModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var lastLightboxId='';var LightboxAnalytics=function(){function LightboxAnalytics($element){_classCallCheck(this,LightboxAnalytics);this.bindEvents();}
LightboxAnalytics.prototype.bindEvents=function bindEvents(){$('a.lightbox:not(.eligibility-overlay-trigger)').on('click',this.lightboxLinkClick.bind(this));Cog.addListener('overlay','close',this.lightboxCloseClick,{scope:this});};LightboxAnalytics.prototype.lightboxCloseClick=function lightboxCloseClick(ev){Cog.fireEvent('analytics','clickable.click',{$target:$('<div>'+lastLightboxId+'</div>'),href:'#lightbox-close'});};LightboxAnalytics.prototype.lightboxLinkClick=function lightboxLinkClick(ev){var $target=$(ev.currentTarget);lastLightboxId=$target.text().trim();Cog.fireEvent('analytics','clickable.click',{$target:$target,href:'#lightbox-open'});};return LightboxAnalytics;}();api.init=function(){new LightboxAnalytics();};Cog.registerStatic({name:'analyticsLightboxModule',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={},external={analyticsModule:null},pageEvent=null,clickTypeProvider=null;var ListAnalytics=function(){function ListAnalytics($element){_classCallCheck(this,ListAnalytics);this.bindElements();this.bindEvents();}
ListAnalytics.prototype.bindEvents=function bindEvents(){this.$promoBoxItem.on('click',this.promoBoxItemClick.bind(this));this.$articleListItem.on('click',this.recentArticlesClick.bind(this));this.$pageListItem.on('click',this.recentPaginatedListItemClick.bind(this));this.$tipBoxGeneralListItem.on('click',this.tipBoxListItemClick.bind(this));this.$tipBoxMainListItem.on('click',this.tipBoxListItemClick.bind(this));this.$toolsListItem.on('click',this.toolsListItemClick.bind(this));this.$popularGuidesItem.on('click',this.regularListItemClick.bind(this));this.$trending.on('click',this.regularListItemClick.bind(this));};ListAnalytics.prototype.bindElements=function bindElements(){this.$pageList=$('.page-list');this.$articleList=$('.articleList-list');this.$tipBoxGeneralList=$('.tip-box-general-list');this.$tipBoxGeneralListItem=this.$tipBoxGeneralList.find('.tip-box-general-list-item');this.$tipBoxMainList=$('.tip-box-main-list');this.$tipBoxMainListItem=this.$tipBoxMainList.find('.tip-box-main-list-item');this.$toolsList=$('.tools-list-items');this.$articleListItem=this.$articleList.find('.articleList-article');this.$pageListItem=this.$pageList.find('.page-list-item');this.$toolsListItem=this.$toolsList.find('.toolsListItem');this.$promoBoxItem=$('.promoBoxItem, .promoBox .dynamic-guides .item');this.$popularGuidesItem=$('.popularGuides a');this.$trending=$('.trending');};ListAnalytics.prototype.recentPaginatedListItemClick=function recentPaginatedListItemClick(ev){var $target=$(ev.target);var href=this.findAnchorAndHref($target);var analyticsObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withElementExtraInfo(this.getElementExtraInfo($target)).withListLocation(this.getListLocation($target,'.page-list-item')).withItemIdentifier(this.getPageListItemHeadline($target)).withPaginationNumber(this.getPageNumber()).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ListAnalytics.prototype.promoBoxItemClick=function promoBoxItemClick(ev){var customPromoBoxParentSelector="[data-id='martins-blog']";var $target=$(ev.target);var $aTag=this.findAnchor($target);var href=this.findAnchorAndHref($target);var customParentSelector=$target.closest(customPromoBoxParentSelector).length>0?customPromoBoxParentSelector:undefined;var analyticsObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withElementExtraInfo(this.getElementExtraInfo($target)).withListLocation(this.getListLocationByType($target,'.promoBoxItem, .item',customParentSelector)).withItemIdentifier($aTag.text().trim()||$aTag.attr('title')).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ListAnalytics.prototype.regularListItemClick=function regularListItemClick(ev){var $target=$(ev.target);var $aTag=this.findAnchor($target);if($aTag.size()===0){return;}
var href=this.findHrefFromAnchor($aTag);var analyticsObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withElementExtraInfo(this.getElementExtraInfo($target)).withListLocation(this.getListLocation($target,'li')).withItemIdentifier($target.text().trim()).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ListAnalytics.prototype.recentArticlesClick=function recentArticlesClick(ev){var $target=$(ev.target);var href=this.findAnchorAndHref($target);var analyticsObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withElementExtraInfo(this.getElementExtraInfo($target)).withListLocation(this.getListLocation($target,'.articleList-article')).withItemIdentifier(this.getArticleListItemHeadline($target)).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ListAnalytics.prototype.tipBoxListItemClick=function tipBoxListItemClick(ev){var $target=$(ev.target);var $currentTarget=$(ev.currentTarget);var tipBoxItemType=$target.closest('.tip-box-general-list').length>0?'.tip-box-general-list-item':'.tip-box-main-list-item';var href=this.findAnchorAndHref($target);var analyticsObject=new pageEvent.Builder('click',$currentTarget).withClickType(clickTypeProvider.getClickType(href)).withDestination(clickTypeProvider.getDestination(href)).withElementExtraInfo(this.getElementExtraInfo($currentTarget)).withListLocation(this.getListLocation($target,tipBoxItemType)).withItemIdentifier($currentTarget.text().trim()).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ListAnalytics.prototype.toolsListItemClick=function toolsListItemClick(ev){var $target=$(ev.target);var $currentTarget=$(ev.currentTarget);var href=this.findAnchorAndHref($target);var analyticsObject=new pageEvent.Builder('click',$currentTarget).withClickType(clickTypeProvider.getClickType(href)).withDestination(clickTypeProvider.getDestination(href)).withElementExtraInfo(this.getElementExtraInfo($currentTarget)).withListLocation(this.getListLocation($target,'.toolsListItem')-1).withItemIdentifier($currentTarget.text().trim()).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};ListAnalytics.prototype.findAnchor=function findAnchor($target){return $target.is('a')?$target:$target.closest('a');};ListAnalytics.prototype.findHrefFromAnchor=function findHrefFromAnchor($aTag){return $aTag.attr('href')||'#';};ListAnalytics.prototype.findAnchorAndHref=function findAnchorAndHref($target){var $aTag=this.findAnchor($target);return this.findHrefFromAnchor($aTag);};ListAnalytics.prototype.getListLocationByType=function getListLocationByType($target,selector,customParentSelector){var $item=$target.closest(selector);var $parent=customParentSelector?$item.closest(customParentSelector):$item.parent();var dataIndex=$item.data('index');var index=1+(dataIndex!==undefined?dataIndex:$parent.find(selector).index($item));return index||undefined;};ListAnalytics.prototype.getListLocation=function getListLocation($target,selector){return $target.parent().closest(selector).index()+1;};ListAnalytics.prototype.getPageListItemHeadline=function getPageListItemHeadline($target){return $target.closest('.page-list-item').find('.list-item-link, .news-list-item-headline, .pressreleases-list-item-headline').text();};ListAnalytics.prototype.getArticleListItemHeadline=function getArticleListItemHeadline($target){return $target.closest('.articleList-article').find('.articleList-title a').text();};ListAnalytics.prototype.getElementExtraInfo=function getElementExtraInfo($target){var parentClass=$target.closest('div,h1,h3').attr('class');var targetClass=$target.attr('class');if($target.prop('tagName')==='IMG'){return $target.closest('a').hasClass('video-article')?'video':'image';}else if(parentClass.includes('list-item-cta')){return 'cta';}else if(parentClass.includes('list-item-title')||parentClass.includes('articleList-title')||parentClass.includes('news-list-item-headline')||targetClass&&targetClass.includes('pressreleases-list-item-headline')||parentClass.includes('promobox-title')||parentClass.includes('promobox-content')||parentClass.includes('promobox-description')){return 'text';}else if(parentClass.includes('image-full')||targetClass&&targetClass.includes('articleList-thumbnail')||parentClass.includes('news-list-item-image')){return 'image';}};ListAnalytics.prototype.getPageNumber=function getPageNumber(){var number=this.$pageList.find('.pagination-navigation .is-active').text()||1;return parseInt(number,10);};return ListAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new ListAnalytics();};Cog.registerStatic({name:'analyticsListModule',api:api,externalApi:external,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var pageEvent=null;var clickTypeProvider=null;var MegaMenuAnalytics=function(){function MegaMenuAnalytics(media){_classCallCheck(this,MegaMenuAnalytics);this.bindElements();this.bindEvents();this.media=media;}
MegaMenuAnalytics.prototype.bindElements=function bindElements(){this.$navLinks=$('.megaMenu a');};MegaMenuAnalytics.prototype.bindEvents=function bindEvents(){var _this=this;this.$navLinks.on('click',function(ev){_this.navLinksClick(ev);});};MegaMenuAnalytics.prototype.navLinksClick=function navLinksClick(ev){var $currentTarget=$(ev.currentTarget);var analyticsObject=this.createMegaMenuAnalyticsObject($currentTarget);Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};MegaMenuAnalytics.prototype.createMegaMenuAnalyticsObject=function createMegaMenuAnalyticsObject($currentTarget){var itemCategory='MastHead MegaMenu';var href=$currentTarget.attr('href');var itemIdentifier=this.getItemIdentifier($currentTarget,itemCategory);var thirdElementLayer='richtext';var internalDestination=clickTypeProvider.getInternalDestination(href);if(this.media.isTabletOrDesktopSmall()&&this.isBackBtn($currentTarget)){itemIdentifier='Back - '+itemIdentifier;thirdElementLayer='button';internalDestination=undefined;}
var builder=new pageEvent.Builder('click',$currentTarget).withElementLayer('snippet '+this.giveSnippetName($currentTarget),1).withElementLayer('megamenu',2).withElementLayer(thirdElementLayer,3).withClickType(clickTypeProvider.getClickType(href)).withItemIdentifier(itemIdentifier).withInternalDestination(internalDestination).withDestination(clickTypeProvider.getDestination(href)).withSiteSection(itemCategory);return builder.build();};MegaMenuAnalytics.prototype.giveSnippetName=function giveSnippetName($currentTarget){return $currentTarget.closest('.snippetReference').attr('class').split(' ').filter(function(className){return className.indexOf('reference')===0;}).toString();};MegaMenuAnalytics.prototype.getItemIdentifier=function getItemIdentifier($currentTarget,section){if(section==='MastHead MegaMenu'&&$currentTarget.parent().is('h3')){return this.getCategoryName($currentTarget)+' - '+$currentTarget.text().trim();}
if(section==='MastHead MegaMenu'&&$currentTarget.parent().is('li')&&!$currentTarget.parent().hasClass('megaMenu-nav-item')){var subcategory=$currentTarget.closest('.richText-content').find('h3');var subcategoryName=subcategory.text().trim();return this.getCategoryName(subcategory)+' - '+subcategoryName+' - '+$currentTarget.text().trim();}
return $currentTarget.text().trim();};MegaMenuAnalytics.prototype.getCategoryName=function getCategoryName(subcategory){var categoryId=subcategory.closest('.megaMenu-content').attr('id');var categoryName=$('[data-category-id=#'+categoryId+']').text().trim();return categoryName;};MegaMenuAnalytics.prototype.isBackBtn=function isBackBtn($currentTarget){return $currentTarget.parent().hasClass('is-active');};return MegaMenuAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new MegaMenuAnalytics(this.external.media);};Cog.registerStatic({name:'analyticsMegaMenuModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'},{name:'utils.media',apiId:'media'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={},pageEvent=null,clickTypeProvider=null;var MobileMegaMenuAnalytics=function(){function MobileMegaMenuAnalytics(){_classCallCheck(this,MobileMegaMenuAnalytics);this.bindEvents();}
MobileMegaMenuAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','mobileMegaMenu.backButtonClick',this.backButtonClick,{scope:this});Cog.addListener('analytics','mobileMegaMenu.subcategoryClick',this.subcategoryClick,{scope:this});Cog.addListener('analytics','mobileMegaMenu.bottomLinksClick',this.bottomLinksClick,{scope:this});Cog.addListener('analytics','mobileMegaMenu.thirdLevelAnchorClick',this.thirdLevelAnchorClick,{scope:this});Cog.addListener('analytics','mobileMegaMenu.parentCategoryNavigationClick',this.parentCategoryNavigationClick,{scope:this});};MobileMegaMenuAnalytics.prototype.backButtonClick=function backButtonClick(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};MobileMegaMenuAnalytics.prototype.subcategoryClick=function subcategoryClick(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withInternalDestination(data.internalDestination).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};MobileMegaMenuAnalytics.prototype.bottomLinksClick=function bottomLinksClick(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(clickTypeProvider.getClickType(data.href)).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withInternalDestination(data.href).withDestination(!clickTypeProvider.isInternal(data.href)?clickTypeProvider.getDestination(data.href):'').withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};MobileMegaMenuAnalytics.prototype.thirdLevelAnchorClick=function thirdLevelAnchorClick(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(clickTypeProvider.getClickType(data.href)).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withInternalDestination(data.internalDestination).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};MobileMegaMenuAnalytics.prototype.parentCategoryNavigationClick=function parentCategoryNavigationClick(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withElementExtraInfo(data.elementExtraInfo).withInternalDestination(data.internalDestination).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return MobileMegaMenuAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new MobileMegaMenuAnalytics();};Cog.registerStatic({name:'analyticsMobileMegaMenuModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var selectors={productBox:'.composite-productboxes'};var tagToElementName={'A':'text','IMG':'image'};var api={},pageEvent=null,clickTypeProvider=null;function validAfflinkValue(afflink){return afflink==="paid"||afflink==="unpaid";}
var ProductBoxAnalytics=function(){function ProductBoxAnalytics(){_classCallCheck(this,ProductBoxAnalytics);this.bindElements();this.bindEvents();}
ProductBoxAnalytics.prototype.bindElements=function bindElements(){this.$productBox=$('.productBox');this.$anchors=this.$productBox.find('a');};ProductBoxAnalytics.prototype.bindEvents=function bindEvents(){var _this=this;this.$anchors.on('click',function(ev){return _this.productBoxClick(ev);});};ProductBoxAnalytics.prototype.productBoxClick=function productBoxClick(ev){var $currentTarget=$(ev.currentTarget);var $target=$(ev.target);var productBoxAnalyticsObject=this.createProductBoxAnalyticsObject($currentTarget,$target);Cog.fireEvent('analytics','track',{analyticsObject:productBoxAnalyticsObject});};ProductBoxAnalytics.prototype.createProductBoxAnalyticsObject=function createProductBoxAnalyticsObject($currentTarget,$target){var href=$currentTarget.attr('href');var linkLabel=$currentTarget.text();return new pageEvent.Builder('click',$currentTarget).withClickType(clickTypeProvider.getClickType(href)).withItemIdentifier(linkLabel).withDestination(clickTypeProvider.getDestination(href)).withElementExtraInfo(this.getElementExtraInfo($target)).withListLocation(this.getProductBoxLocation($currentTarget)).withExtraObject(this.getAnalyticsData($currentTarget)).build();};ProductBoxAnalytics.prototype.getElementExtraInfo=function getElementExtraInfo($target){return this.isCta($target)?'cta':tagToElementName[$target.prop('tagName')];};ProductBoxAnalytics.prototype.isCta=function isCta($target){var classAttr=$target.attr("class");var result=false;if(classAttr){result=this.hasProductBoxButtonClass(classAttr);}
return result;};ProductBoxAnalytics.prototype.hasProductBoxButtonClass=function hasProductBoxButtonClass(classAttr){var result=false;var classes=classAttr.split(' ');for(var _iterator=classes,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}
var clazz=_ref;if(clazz.indexOf('product-box-button')!==-1){result=true;break;}}
return result;};ProductBoxAnalytics.prototype.getProductBoxLocation=function getProductBoxLocation($currentTarget){var $usedProductBox=$currentTarget.closest(selectors.productBox);var location=0;$(selectors.productBox).each(function(idx,$productBox){if(location===0&&$usedProductBox.is($productBox)){location=idx+1;}});return location;};ProductBoxAnalytics.prototype.getAnalyticsData=function getAnalyticsData($currentTarget){var href=$currentTarget.attr('href');var $usedProductBox=$currentTarget.closest(selectors.productBox);var analyticsData=$usedProductBox.find('[data-product]').data();var deductedAfflink=clickTypeProvider.getClickType(href)==="externalPaid"?"paid":"unpaid";if(!validAfflinkValue(analyticsData.product.afflink)){analyticsData.product.afflink=deductedAfflink;}
return analyticsData;};return ProductBoxAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new ProductBoxAnalytics();};Cog.registerStatic({name:'analyticsProductBoxModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var RichtextLinkAnalytics=function(){function RichtextLinkAnalytics($element){_classCallCheck(this,RichtextLinkAnalytics);this.bindEvents();}
RichtextLinkAnalytics.prototype.bindEvents=function bindEvents(){$(document).ready(this.createLinkIds).bind(this);};RichtextLinkAnalytics.prototype.createLinkIds=function createLinkIds(ev){$('.richText-content').each(function(richtextIndex,richtextItem){$(richtextItem).find('a').each(function(i,item){var $item=$(item);var name=$item.text().trim().replace(/[.,]/g,'').replace(/\s+/g,'-').toLowerCase();$item.attr('data-link-id',name+'-'+(i+1));});});};return RichtextLinkAnalytics;}();api.init=function(){new RichtextLinkAnalytics();};Cog.registerStatic({name:'analyticsRichtextLinkModule',api:api});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var external={analyticsModule:null};var pageEvent=null;var SearchAnalytics=function(){function SearchAnalytics(){_classCallCheck(this,SearchAnalytics);this.bindEvents();}
SearchAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','search.searchBoxSubmit',this.searchBoxSubmit,{scope:this});Cog.addListener('analytics','search.searchBoxFocus',this.searchBoxFocus,{scope:this});Cog.addListener('analytics','search.searchResultsLoaded',this.searchResultsLoaded,{scope:this});Cog.addListener('analytics','search.searchBoxClose',this.searchBoxClosed,{scope:this});Cog.addListener('analytics','search.searchBoxToggle',this.searchBoxToggle,{scope:this});};SearchAnalytics.prototype.searchBoxSubmit=function searchBoxSubmit(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withSearchTerm(data.searchTerm).withSearchDropdownSelection(data.filterLabel).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();if(!_.isUndefined(data.callback)){analyticsObject.eventCallback=data.callback;analyticsObject.eventTimeout=2000;}
Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject,callback:data.callback});};SearchAnalytics.prototype.searchBoxClosed=function searchBoxClosed(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};SearchAnalytics.prototype.searchBoxToggle=function searchBoxToggle(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};SearchAnalytics.prototype.searchBoxFocus=function searchBoxFocus(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType).withSiteSection(data.siteSection).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};SearchAnalytics.prototype.searchResultsLoaded=function searchResultsLoaded(ev){var data=ev.eventData;var searchCriteria={searchTerm:data.searchTerm,filterSelection:{filter1:{filterLabel:data.filters['Guides'].label,filterSetting:data.filters['Guides'].active},filter2:{filterLabel:data.filters['News'].label,filterSetting:data.filters['News'].active},filter3:{filterLabel:data.filters['Deals'].label,filterSetting:data.filters['Deals'].active},filter4:{filterLabel:data.filters['Blogs'].label,filterSetting:data.filters['Blogs'].active},filter5:{filterLabel:data.filters['Weekly Email'].label,filterSetting:data.filters['Weekly Email'].active}},totalNumberSearchResults:data.searchResultsNumber};var analyticsObject=new pageEvent.Builder(data.actionType).withSearchCriteria(searchCriteria).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return SearchAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;new SearchAnalytics();};Cog.registerStatic({name:'analyticsSearchModule',api:api,externalApi:external,requires:[{name:'analyticsModule',apiId:'analyticsModule'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={},sharedApi={siteSectionProvider:null};var AnalyticsSiteSectionProvider=function(){function AnalyticsSiteSectionProvider(){_classCallCheck(this,AnalyticsSiteSectionProvider);}
AnalyticsSiteSectionProvider.prototype.getSiteSectionOf=function getSiteSectionOf($target){var result='';if($target.closest('[data-site-section]').length!==0){result=$target.closest('[data-site-section]').data('site-section');}else if($target.closest('.left-sidebar-section').length!==0){result='LHS';}else if($target.closest('.sidebar-section-container,.sidebar-section,.right-sidebar-section').length!==0){if($target.closest('.email-tip-box-wrapper, .guide-side-column-dropdown, .sidebar-sticky').length!==0){result='In Page Navigation';}else{result='RHS';}}else if($target.closest('#header').length!==0){result='masthead';}else if($target.closest('#content').length!==0){result='mainSection';}else if($target.closest('.tip-email-popup').length!==0){result='bottomAlert';}else if($target.closest('.cookiePolicy').length!==0){result='topAlert';}else if($target.closest('#footer').length!==0){result='footer';}
return result;};return AnalyticsSiteSectionProvider;}();api.init=function(){sharedApi.siteSectionProvider=new AnalyticsSiteSectionProvider();};Cog.registerStatic({name:'analyticsSiteSectionProvider',api:api,sharedApi:sharedApi});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={},pageEvent=null,clickTypeProvider=null;var SocialShareAnalytics=function(){function SocialShareAnalytics(){_classCallCheck(this,SocialShareAnalytics);this.bindElements();this.bindEvents();}
SocialShareAnalytics.prototype.bindElements=function bindElements(){this.$dealsFullList=$('.deals-full-list');this.$shareThisItem=this.$dealsFullList.find('.shareThis-item');};SocialShareAnalytics.prototype.bindEvents=function bindEvents(){var _this=this;this.$shareThisItem.on('click',function(ev){return _this.handleClick(ev);});};SocialShareAnalytics.prototype.handleClick=function handleClick(ev){var $target=$(ev.target);var $socialShareItem=$(ev.currentTarget);var $socialShareItemLink=$socialShareItem.find('a');var extraObject=this.createSocialShareDealExtraObject($target);this.trackSocialShareDealClick($target,$socialShareItemLink.attr('href'),'cta',extraObject);};SocialShareAnalytics.prototype.trackSocialShareDealClick=function trackSocialShareDealClick($target,href,elementExtraInfo,extraObject){var analyticsObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withDestination(clickTypeProvider.getDestination(href)).withItemIdentifier(this.getItemIdentifier($target,href)).withElementExtraInfo(elementExtraInfo).withElementLayer('social_share',2).withListLocation(this.getListLocation($target,'.deals-full-list-article')).withExtraObject(extraObject).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};SocialShareAnalytics.prototype.getItemIdentifier=function getItemIdentifier($target,href){return $target.text().trim()||(href.indexOf('#')===0?href.substring(1):'');};SocialShareAnalytics.prototype.getListLocation=function getListLocation($target,selector){var $dealElement=$target.closest(selector);return $dealElement.parent().find(selector).index($dealElement)+1;};SocialShareAnalytics.prototype.createSocialShareDealExtraObject=function createSocialShareDealExtraObject($target){var $dealElement=$target.closest('.deals-full-list-article');if($dealElement.length===0){return;}
var dealId=$dealElement.attr('id');var headline=$dealElement.find('.deal-heading h3').text();var expiry=$dealElement.attr('data-expiry-date');var brandName=$dealElement.attr('data-brand-name');var brand=brandName.replace(' ','-');return{deal:{id:dealId,headline:headline,brand:brand,expiry:expiry}};};return SocialShareAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new SocialShareAnalytics();};Cog.registerStatic({name:'analyticsSocialShare',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={},pageEvent=null;var TipBoxAnalytics=function(){function TipBoxAnalytics(){_classCallCheck(this,TipBoxAnalytics);this.bindEvents();}
TipBoxAnalytics.prototype.bindEvents=function bindEvents(){Cog.addListener('analytics','tipbox.focusEmailAddress',this.focusEmailInput,{scope:this});Cog.addListener('analytics','tipbox.submitEmailAddress',this.submitEmailAddress,{scope:this});Cog.addListener('analytics','tipbox.displaySuccessMessage',this.displaySuccessMessage,{scope:this});Cog.addListener('analytics','tipbox.displayErrorMessage',this.displayErrorMessage,{scope:this});Cog.addListener('analytics','tipbox.showTipBoxPopUp',this.showTipBoxPopUp,{scope:this});Cog.addListener('analytics','tipbox.closeTipBoxPopUp',this.closeTipBoxPopUp,{scope:this});};TipBoxAnalytics.prototype.focusEmailInput=function focusEmailInput(ev){var analyticsObject=new pageEvent.Builder('textboxEntry',ev.eventData.$target).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TipBoxAnalytics.prototype.submitEmailAddress=function submitEmailAddress(ev){var $target=ev.eventData.$target;var submitLabel=$target.find('input[type=submit]').val();var analyticsObject=void 0;if($target.parents('.email-tip-box-wrapper, .main-content-section-paragraph, .tip-box-main').length){analyticsObject=new pageEvent.Builder('click',$target).withClickType('pageAction').withElementLayer('Tip',1).withItemIdentifier('Sign Up Button').build();}else{analyticsObject=new pageEvent.Builder('click',$target).withClickType('pageAction').withItemIdentifier(submitLabel).build();}
Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TipBoxAnalytics.prototype.displaySuccessMessage=function displaySuccessMessage(ev){var $target=ev.eventData.$target;var analyticsObject=void 0;if($target.parents('.email-tip-box-wrapper, .main-content-section-paragraph, .tip-box-main').length){analyticsObject=new pageEvent.Builder('feedbackEvent',$target).withElementLayer('Tip',1).withItemIdentifier('Sign Up Success').build();}else if(ev.eventData.isHomeTipBox){analyticsObject=new pageEvent.Builder('feedbackEvent',$target).withItemIdentifier('success').build();}else{analyticsObject=new pageEvent.Builder('feedbackEvent',$target).withSiteSection('topAlert').withElementLayer('tipSignupSuccessAlertBanner',1).withItemIdentifier('success').build();}
Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TipBoxAnalytics.prototype.displayErrorMessage=function displayErrorMessage(ev){var $target=ev.eventData.$target;var analyticsObject=void 0;if($target.parents('.email-tip-box-wrapper, .main-content-section-paragraph, .tip-box-main').length){analyticsObject=new pageEvent.Builder('feedbackEvent',$target).withElementLayer('Tip',1).withItemIdentifier('Sign Up failure').withElementExtraInfo(ev.eventData.elementExtraInfo).build();}else{analyticsObject=new pageEvent.Builder('feedbackEvent',$target).withItemIdentifier('failure').withElementExtraInfo(ev.eventData.elementExtraInfo).build();}
Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TipBoxAnalytics.prototype.showTipBoxPopUp=function showTipBoxPopUp(ev){var analyticsObject=new pageEvent.Builder('popup',ev.eventData.$target).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TipBoxAnalytics.prototype.closeTipBoxPopUp=function closeTipBoxPopUp(ev){var analyticsObject=new pageEvent.Builder('click',ev.eventData.$target).withClickType('pageAction').withElementExtraInfo('close').build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return TipBoxAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;new TipBoxAnalytics();};Cog.registerStatic({name:'analyticsTipBoxModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'}]});})(Cog.jQuery());(function($){var sharedApi={isTipPage:false,attachTipPageAnalytics:null};sharedApi.isTipPage=$('body.template-tip-email').length===1;sharedApi.attachTipPageAnalytics=function(builder,event,$target){var tipSectionInfo=$target.data('tip');if(tipSectionInfo){var tipSections=tipSectionInfo.split('~');var currentLayer=2;tipSections.forEach(function(item){builder=builder.withElementLayer(item,currentLayer);currentLayer++;});}
if($target.attr('href').indexOf('#')===0){builder.withInternalDestination($target.attr('href'));}
return builder;};Cog.registerStatic({name:'analyticsTipPageModule',api:{},sharedApi:sharedApi});})(Cog.jQuery(),_);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function($){var api={};var pageEvent=null;var clickTypeProvider=null;var TopNavAnalytics=function(){function TopNavAnalytics(){_classCallCheck(this,TopNavAnalytics);this.bindElements();this.bindEvents();}
TopNavAnalytics.prototype.bindElements=function bindElements(){this.$topNavLinks=$('.top-nav-v2 a, .top-nav-v2-mobile-view-top-row a');};TopNavAnalytics.prototype.bindEvents=function bindEvents(){var _this=this;this.$topNavLinks.on('click',function(ev){if(ev.target.classList.contains('top-nav-v2__search'))return;_this.handleTopNavLinksClick(ev);});Cog.addListener('analytics','mobileTopnav.logoClick',this.mobileLogoClickHandler,{scope:this});Cog.addListener('analytics','mobileTopnav.hamburgerMenuClick',this.mobileHamburgerMenuClickHandler,{scope:this});Cog.addListener('analytics','mobileTopnav.moreButtonClick',this.handleTopNavLinksClick,{scope:this});};TopNavAnalytics.prototype.handleTopNavLinksClick=function handleTopNavLinksClick(event){var $currentTarget=$(event.currentTarget||event.eventData.currentTarget);var $target=$(event.target||event.eventData.target);var analyticsObject=this.createTopNavAnalyticsObject($currentTarget,$target);Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TopNavAnalytics.prototype.createTopNavAnalyticsObject=function createTopNavAnalyticsObject($currentTarget,$target){var itemCategory='MastHead TopNav';var href=$currentTarget.attr('href');var itemIdentifier=this.getItemIdentifier($target,$currentTarget,itemCategory);var builder=new pageEvent.Builder('click',$currentTarget).withClickType(clickTypeProvider.getClickType(href)).withItemIdentifier(itemIdentifier).withInternalDestination(clickTypeProvider.getInternalDestination(href)).withDestination(clickTypeProvider.getDestination(href)).withSiteSection(itemCategory);return builder.build();};TopNavAnalytics.prototype.isImage=function isImage($target){return $target.prop('tagName')==='IMG';};TopNavAnalytics.prototype.getItemIdentifier=function getItemIdentifier($target,$currentTarget){return this.isImage($target)?$target.attr('alt'):$currentTarget.text().trim();};TopNavAnalytics.prototype.mobileLogoClickHandler=function mobileLogoClickHandler(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withItemIdentifier(data.itemIdentifier).withInternalDestination(data.internalDestination).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};TopNavAnalytics.prototype.mobileHamburgerMenuClickHandler=function mobileHamburgerMenuClickHandler(ev){var data=ev.eventData;var analyticsObject=new pageEvent.Builder(data.actionType,$(ev.currentTarget)).withClickType(data.clickType).withElementLayer(data.elementLayer1,1).withElementLayer(data.elementLayer2,2).withElementLayer(data.elementLayer3,3).withItemIdentifier(data.itemIdentifier).withSiteSection(data.siteSection).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return TopNavAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new TopNavAnalytics();};Cog.registerStatic({name:'analyticsTopNavModule',api:api,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var external={analyticsModule:null};var pageEvent=null;var clickTypeProvider=null;var VideoShowcaseAnalytics=function(){function VideoShowcaseAnalytics(){_classCallCheck(this,VideoShowcaseAnalytics);this.bindElements();this.bindEvents();}
VideoShowcaseAnalytics.prototype.bindElements=function bindElements(){this.$leftButton=$('.video-showcase-scroll-left-button');this.$rightButton=$('.video-showcase-scroll-right-button');this.$links=$('.video-label-link, .video-image-link');};VideoShowcaseAnalytics.prototype.bindEvents=function bindEvents(){this.$leftButton.on('click',this.leftButtonClick.bind(this));this.$rightButton.on('click',this.rightButtonClick.bind(this));this.$links.on('click',this.linkClick.bind(this));};VideoShowcaseAnalytics.prototype.leftButtonClick=function leftButtonClick(ev){var $target=$(ev.target);var analyticsObject=new pageEvent.Builder('click',$target).withClickType('pageAction').withSiteSection('mainSection').build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};VideoShowcaseAnalytics.prototype.rightButtonClick=function rightButtonClick(ev){var $target=$(ev.target);var analyticsObject=new pageEvent.Builder('click',$target).withClickType('pageAction').withSiteSection('mainSection').build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};VideoShowcaseAnalytics.prototype.linkClick=function linkClick(ev){ev.stopImmediatePropagation();var $target=$(ev.target);var href=$target.attr('href')?$target.attr('href'):$target.closest('a').attr('href');var siteSection='mainSection';var listLocation=$target.closest('.video-image, .video-label').data('position');var elementExtraInfo=$target.prop('tagName')==='IMG'?'image':'text';var itemIdentifier=$target.text();var analyticsObject=new pageEvent.Builder('click',$target).withClickType(clickTypeProvider.getClickType(href)).withSiteSection(siteSection).withListLocation(listLocation).withElementExtraInfo(elementExtraInfo).withItemIdentifier(itemIdentifier).build();Cog.fireEvent('analytics','track',{analyticsObject:analyticsObject});};return VideoShowcaseAnalytics;}();api.init=function(){pageEvent=this.external.analyticsModule.pageEvent;clickTypeProvider=this.external.analyticsClickTypeProvider.clickTypeProvider;new VideoShowcaseAnalytics();};Cog.registerStatic({name:'analyticsVideoShowcaseModule',api:api,externalApi:external,requires:[{name:'analyticsModule',apiId:'analyticsModule'},{name:'analyticsClickTypeProvider',apiId:'analyticsClickTypeProvider'}]});})(Cog.jQuery());function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={skipToContentSnippet:'.skip-to-content',skipToContentFocus:'skip-to-content--focus',skipToContentText:'.top-nav-v2-skip-to-content',contentContainer:'.container-fluid',classStateSkipVisible:'skip-to-content--visible',classStateSkipPresent:'skip-to-content--present',footer:'#footer'};var SkipToContent=function(){function SkipToContent($scope,status){_classCallCheck(this,SkipToContent);this.$scope=$scope;this.status=status;this.bindUIElements();if(this.ifSkipToContent()){this.watchWindowResize();this.watchFocus();}}
SkipToContent.prototype.bindUIElements=function bindUIElements(){this.$skipToContentSnippet=this.$scope;this.$skipToContentText=this.$skipToContentSnippet.find(selectors.skipToContentText);this.$skipToContentLink=this.$skipToContentText.find('a');this.$contentContainer=$(selectors.contentContainer);this.$footer=$(selectors.footer);};SkipToContent.prototype.ifSkipToContent=function ifSkipToContent(){return this.$skipToContentSnippet;};SkipToContent.prototype.prepareContent=function prepareContent($topValue){this.$contentContainer.addClass(selectors.classStateSkipPresent).css('top',$topValue);this.$skipToContentSnippet.css('display','block');this.$footer.css('margin-bottom',$topValue);};SkipToContent.prototype.watchWindowResize=function watchWindowResize(){var _this=this;$(window).resize(function(){var skipHeight=_this.$scope.innerHeight();if(!_this.$skipToContentLink.is(':focus')&&_this.$contentContainer.position().top!==skipHeight){_this.$contentContainer.css('top','-'+skipHeight+'px');}else if(_this.$skipToContentLink.is(':focus')&&_this.$contentContainer.position().top!=='0'){_this.$contentContainer.css('top','0px');}});};SkipToContent.prototype.watchFocus=function watchFocus(){var _this2=this;this.prepareContent('-'+this.$scope.innerHeight()+'px');this.$skipToContentLink.on('focus',function(){_this2.$skipToContentSnippet.addClass(selectors.skipToContentFocus);_this2.$contentContainer.addClass(selectors.classStateSkipVisible);_this2.$contentContainer.css('top','0px');});this.$skipToContentLink.on('focusout',function(){_this2.$skipToContentSnippet.removeClass(selectors.skipToContentFocus);_this2.$contentContainer.removeClass(selectors.classStateSkipVisible);_this2.$contentContainer.css('top','-'+_this2.$scope.innerHeight()+'px');});};return SkipToContent;}();api.onRegister=function(scope){new SkipToContent(scope.$scope,this.external.status);};Cog.registerComponent({name:'skipToContent',api:api,selector:'.skip-to-content',requires:[{name:'utils.status',apiId:'status'}]});})();(function(){var api={};api.isSafari=function(){return(/^((?!chrome|android).)*safari/i.test(navigator.userAgent));};api.getAnchor=function(){var queryParams=new URLSearchParams(window.location.search);return queryParams.get('anchor');};api.onRegister=function(){if(api.isSafari()&&api.getAnchor()){window.location.hash=api.getAnchor();}};Cog.registerComponent({name:'tipEmail',api:api,selector:'.tipEmail'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={componentSelector:'.guidePageNavigation',navigationMobileWrapper:'guide-navigation-mobile-wrapper',navigationDesktop:'guidePageNavigation',navigationMobile:'guidePageNavigationMobile',navigationContentWrapper:'guide-navigation-content-wrapper',navigationWrapper:'> ul',navigationListWrapper:'guide-navigation-list-wrapper',navigationFirstLevelItems:'guide-navigation-first-level',firstLevelNavigationLinkWrapper:'guide-navigation-first-level-link-wrapper',topLevelNavigationLink:'.guide-navigation-first-level-link-wrapper a',secondLevelNavigationLink:'.guide-navigation-first-level > ul > li > a',toggleSecondLevelButton:'guide-page-navigation-icon',linksWithLevel2:'chapter-has-children',navigationLink:'> ul > li > a',expandedLevel2Class:'expanded',staticLine:'guide-page-navigation-line',reachedLine:'guide-page-navigation-reached-line',reachedChapters:'guide-page-link-reached',navigationTitle:'guide-navigation-title',navigationAccordionPanel:'guide-page-navigation-accordion-panel',navigationMobilePanel:'guide-page-navigation-mobile-panel',navigationMobileFixedClass:'navigation-fixed',navigationCurrentChapterClass:'guide-current-chapter',navigationMobileLinksWrapper:'guide-page-navigation-mobile-links-wrapper',backToTopButton:'sticky-back-to-top',navigationMobileCollapsedOnSticky:'sticky-collapsed',expandedClass:'expanded',navClosedByUser:'closed-by-user'};var GuidePageNavigation=function(){function GuidePageNavigation($scope,status){_classCallCheck(this,GuidePageNavigation);this.$scope=$scope;this.status=status;this.bindElements();if(!this.status.isAuthor()){this.prepareMobileNavigation();this.bindEvents();this.adjustNavigationLineLength();this.bindAnalyticsEvents();}}
GuidePageNavigation.prototype.bindElements=function bindElements(){this.$window=$(window);this.$htmlBody=$('body,html');this.$document=$(document);this.$navigationContentWrapper=this.$scope.find('.'+selectors.navigationContentWrapper);this.$navigationListWrapper=this.$scope.find('.'+selectors.navigationListWrapper);this.$mainLinksList=this.$navigationListWrapper.find(selectors.navigationWrapper);this.$allNavigationLinks=this.$scope.find('a');this.$accordionPanel=this.$scope.find('.'+selectors.navigationAccordionPanel);this.$firstLevelListItems=this.$scope.find('.'+selectors.navigationFirstLevelItems);this.$firstLevelNaviagationLinks=this.$scope.find(selectors.topLevelNavigationLink);this.$linksWithLevel2=this.$scope.find('.'+selectors.linksWithLevel2);this.$guideContent=this.$document.find('.main-column-content-section-container');this.$guideHeadline=this.$guideContent.find('.headline');this.$mobileNavigationWrapper=this.$guideContent.find('.'+selectors.navigationMobileWrapper);this.$staticLine=this.$scope.find('.'+selectors.staticLine);this.$reachedLine=this.$scope.find('.'+selectors.reachedLine);};GuidePageNavigation.prototype.bindMobileElements=function bindMobileElements(){this.$mobileNavigationBG=this.$mobileNavigationWrapper.find('.content');this.$mobileNavigation=this.$mobileNavigationWrapper.find('.'+selectors.navigationMobile);this.$mobileNavContentWrapper=this.$mobileNavigation.find('.'+selectors.navigationContentWrapper);this.$mobileNavigationListWrapper=this.$mobileNavigation.find('.'+selectors.navigationListWrapper);this.$mobileProgressLine=this.$mobileNavigationWrapper.find('.'+selectors.reachedLine);this.$navigationMobileTitle=this.$mobileNavigationWrapper.find('.'+selectors.navigationTitle);this.$mobileBackToTopButton=this.$mobileNavigationWrapper.find('.'+selectors.backToTopButton);this.$accordionPanelMobile=this.$mobileNavigation.find('.'+selectors.navigationAccordionPanel);this.$staticLineMobile=this.$mobileNavigationWrapper.find('.'+selectors.staticLine);this.$reachedLineMobile=this.$mobileNavigationWrapper.find('.'+selectors.reachedLine);};GuidePageNavigation.prototype.bindEvents=function bindEvents(){this.handleTogglingLevel2();this.watchWindowResize();this.markReachedLinks();this.watchScroll();this.handleLinkClick();this.handleAccordionPanelClick();};GuidePageNavigation.prototype.bindMobileEvents=function bindMobileEvents(){var _this=this;this.$mobileNavigationWrapper.on('click',function(e){if($(e.target).hasClass('paragraphSystem content')){_this.closeMobileNavigation(true);}});this.$mobileBackToTopButton.on('click',function(){if(_this.$mobileNavigation.hasClass(selectors.navClosedByUser)){_this.closeMobileNavigation();}else{_this.openMobileNavigation();}});};GuidePageNavigation.prototype.bindAnalyticsEvents=function bindAnalyticsEvents(){var _this2=this;this.$firstLevelListItems.each(function(index,element){var incrementedIndex=index+1;var $listItem=$(element);if($listItem.hasClass(selectors.linksWithLevel2)){_this2.bindToggleButton($listItem,incrementedIndex);_this2.bindSubNavLinks($listItem.find(selectors.navigationLink),incrementedIndex);}
$listItem.find(selectors.topLevelNavigationLink).on('click',function(event){Cog.fireEvent('analytics','guidePageNavigation.topLevelNavigationClick',{$target:$(event.currentTarget),index:''+incrementedIndex});});});};GuidePageNavigation.prototype.bindSubNavLinks=function bindSubNavLinks(subNavLinks,parentIndex){subNavLinks.each(function(index,element){$(element).on('click',function(event){Cog.fireEvent('analytics','guidePageNavigation.secondLevelNavigationClick',{$target:$(event.currentTarget),index:parentIndex+'.'+(index+1)});});});};GuidePageNavigation.prototype.bindToggleButton=function bindToggleButton($listItem,index){var toggleButton=$listItem.find('.'+selectors.toggleSecondLevelButton);$(toggleButton).on('click',function(){var expanded=$listItem.hasClass(selectors.expandedLevel2Class);Cog.fireEvent('analytics','guidePageNavigation.toggleSecondLevelClick',{$target:$listItem.find(selectors.topLevelNavigationLink),index:''+index,expanded:expanded});});};GuidePageNavigation.prototype.handleTogglingLevel2=function handleTogglingLevel2(){var _this3=this;var linksWithLevel2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.$linksWithLevel2;var $scope=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.$scope;linksWithLevel2.on('click',function(e){if(e.target.nodeName==='BUTTON'){var ifMobile=$scope.hasClass(selectors.navigationMobile);var itemWithLevel2=$(e.target).parent().parent();var staticLine=ifMobile?_this3.$staticLineMobile:_this3.$staticLine;var reachLine=ifMobile?_this3.$reachedLineMobile:_this3.$reachedLine;if(itemWithLevel2.is(':last-child')){staticLine.css('height',staticLine.height());}else{staticLine.css('height','');}
if(!itemWithLevel2.next().hasClass(selectors.reachedChapters)||itemWithLevel2.is(':last-child')){reachLine.css('height',reachLine.height());}
itemWithLevel2.toggleClass(selectors.expandedLevel2Class);itemWithLevel2.find('ul').stop(true,true).slideToggle(300,function(){_this3.changeLineLength(false,$scope);_this3.adjustNavigationLineLength($scope);staticLine.css('height','');reachLine.css('height','');});}});};GuidePageNavigation.prototype.handleLinkClick=function handleLinkClick(){var _this4=this;var allNavigationLinks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.$allNavigationLinks;allNavigationLinks.on('click',function(e){e.preventDefault();var target=$(e.target);var ifMobile=_this4.$mobileNavigationWrapper.css('display')!=='none';var targetTitle=target.attr('href');if(ifMobile){_this4.closeMobileNavigation();}
if(targetTitle){_this4.animateScroll(targetTitle,ifMobile);target.blur();}else if(target.parent().attr('href')){targetTitle=target.parent().attr('href');_this4.animateScroll(targetTitle,ifMobile);target.parent().blur();}});};GuidePageNavigation.prototype.animateScroll=function animateScroll(targetTitle,ifMobile){var _this5=this;var scrollTopTarget=$(targetTitle).offset().top-20;var mainContentTop=$('.main-column-content-section-container').offset().top;var scrolled=void 0;if(this.$window.scrollTop()<mainContentTop){var remValue=parseInt($('body').css('font-size'),10);scrolled=mainContentTop*0.030*remValue;scrollTopTarget-=scrolled-10;if(ifMobile){scrollTopTarget-=this.$navigationMobileTitle.height()+150;}}else if(ifMobile){scrollTopTarget-=this.$navigationMobileTitle.height()+30;}
this.$htmlBody.animate({scrollTop:scrollTopTarget},1000).promise().then(function(){_this5.markReachedLinks();});};GuidePageNavigation.prototype.watchWindowResize=function watchWindowResize(){var _this6=this;this.$window.resize(function(){_this6.changeLineLength(false);_this6.changeLineLength(false,_this6.$mobileProgressLine);_this6.adjustNavigationLineLength();_this6.adjustNavigationLineLength(_this6.$mobileNavigation);_this6.adjustMobileNavPosition();});};GuidePageNavigation.prototype.watchScroll=function watchScroll(){var _this7=this;var firstLevelLinks=this.$mobileNavigation.find(selectors.topLevelNavigationLink);this.$window.scroll(function(){_this7.markReachedLinks();_this7.markReachedLinks(firstLevelLinks,true);var mobileNavPosition=_this7.$mobileNavigationWrapper.offset().top;var mobileFullHeight=_this7.$mobileNavigationWrapper.height();var mobileNavBottomPosition=mobileNavPosition+mobileFullHeight;var itemsWithLevel2=_this7.$mobileNavigation.find('.'+selectors.linksWithLevel2);if(_this7.$window.scrollTop()<=mobileNavBottomPosition){itemsWithLevel2.each(function(i,elem){var itemWithLevel2=$(elem);if(!itemWithLevel2.hasClass(selectors.expandedLevel2Class)){itemWithLevel2.addClass(selectors.expandedLevel2Class);itemWithLevel2.find('ul').slideDown(0);}});_this7.$mobileNavigationWrapper.removeClass(selectors.navigationMobileFixedClass);_this7.$mobileNavigation.removeClass(selectors.navigationMobileCollapsedOnSticky);_this7.followChaptersOnMobile();_this7.adjustNavigationLineLength(_this7.$mobileNavigation);_this7.$mobileNavigationBG.css('height','');_this7.$mobileNavigationWrapper.css('height','');_this7.adjustNavigationLineLength(_this7.$mobileNavigation);if(!_this7.$mobileNavigation.hasClass(selectors.expandedClass)){if(!_this7.$mobileNavigation.hasClass(selectors.navClosedByUser)){_this7.openMobileNavigation();}else{_this7.closeMobileNavigation();}}else if(_this7.$mobileNavigation.hasClass(selectors.expandedClass)&&_this7.$mobileNavigation.hasClass(selectors.navClosedByUser)){_this7.openMobileNavigation();_this7.$mobileNavigation.removeClass(selectors.navClosedByUser);}
_this7.$mobileProgressLine.css('bottom','');}
if(_this7.$window.scrollTop()>mobileNavBottomPosition){_this7.$mobileNavigationWrapper.height(_this7.$mobileNavigationWrapper.height());_this7.$mobileNavigationWrapper.addClass(selectors.navigationMobileFixedClass);if(_this7.$mobileNavigation.hasClass(selectors.expandedClass)&&!_this7.$mobileNavigation.hasClass(selectors.navigationMobileCollapsedOnSticky)){_this7.closeMobileNavigation();_this7.$mobileNavigation.addClass(selectors.navigationMobileCollapsedOnSticky);_this7.$mobileNavigation.find('.'+selectors.linksWithLevel2).each(function(i,elem){var navigationElem=$(elem);if(navigationElem.hasClass(selectors.expandedLevel2Class)){navigationElem.removeClass(selectors.expandedLevel2Class);navigationElem.find('ul').slideUp();}});}
if(_this7.$mobileNavigation.hasClass(selectors.expandedClass)){_this7.changeLineLength(true,_this7.$mobileNavigation);}}else{_this7.$mobileNavigation.removeClass(selectors.navigationMobileCollapsedOnSticky);}});};GuidePageNavigation.prototype.markReachedLinks=function markReachedLinks(){var _this8=this;var firstLevelNavigationLinks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.$firstLevelNaviagationLinks;var mobile=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var markedTopMargin=this.$window.height()*0.2;firstLevelNavigationLinks.each(function(i,elem){var firstLevelLink=$(elem);var linkTarget=firstLevelLink.attr('href');var listItemWrapper=firstLevelLink.parent().parent();var linkOffset=$(linkTarget).offset();var linkReachedValue=linkOffset?linkOffset.top-markedTopMargin:0;listItemWrapper.removeClass(selectors.navigationCurrentChapterClass);if(!listItemWrapper.hasClass(selectors.reachedChapters)&&linkOffset&&_this8.$window.scrollTop()>=linkReachedValue){listItemWrapper.addClass(selectors.reachedChapters);}else if(listItemWrapper.hasClass(selectors.reachedChapters)&&linkOffset&&!(_this8.$window.scrollTop()>=linkReachedValue)){listItemWrapper.removeClass(selectors.reachedChapters);}});this.markCurrentChapter();if(mobile){this.followChaptersOnMobile();this.markCurrentChapter(this.$mobileNavigation);}};GuidePageNavigation.prototype.markCurrentChapter=function markCurrentChapter(){var scope=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.$scope;var reachedChapters=this.$scope.find('.'+selectors.reachedChapters);if(reachedChapters.length>=1){reachedChapters.last().addClass(selectors.navigationCurrentChapterClass);this.adjustNavigationLineLength(scope);this.changeLineLength(true,scope);}};GuidePageNavigation.prototype.changeLineLength=function changeLineLength(ifAnimate){var $scope=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.$scope;var ifMobile=$scope.hasClass(selectors.navigationMobile);var $line=ifMobile?this.$reachedLineMobile:this.$reachedLine;var reachedLinksPath='.'+selectors.navigationListWrapper+' > ul > .'+selectors.reachedChapters;var reachedLinks=$scope.find(reachedLinksPath);var firstLevelListItems=$scope.find('.'+selectors.navigationFirstLevelItems);var lineLength=0;var holdAnimation=false;if(!$scope.hasClass('expanded')){holdAnimation=true;}
if(!holdAnimation){if(ifAnimate){$line.addClass('line-animation');}else{$line.removeClass('line-animation');}
firstLevelListItems.each(function(i,elem){lineLength+=$(elem).height();});if(reachedLinks.length>=1){var lastReachedChapter=reachedLinks.last();var linksBeforeLast=lastReachedChapter.last().prevAll();linksBeforeLast.each(function(i,elem){lineLength-=$(elem).height();});if(linksBeforeLast.length>=1){lineLength-=15;}}
$line.css('bottom',lineLength);}};GuidePageNavigation.prototype.adjustNavigationLineLength=function adjustNavigationLineLength(){var $scope=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.$scope;var ifMobile=$scope.hasClass(selectors.navigationMobile);var $line=ifMobile?this.$staticLineMobile:this.$staticLine;var lastLinkPath='.'+selectors.navigationListWrapper+' > ul > li:last-of-type';var lastLinkHeight=$scope.find(lastLinkPath).height();$line.css('bottom',lastLinkHeight-20);};GuidePageNavigation.prototype.handleAccordionPanelClick=function handleAccordionPanelClick(){var _this9=this;this.$accordionPanel.on('click',function(e){_this9.toggleNavigationAccordion(e);});this.$accordionPanelMobile.on('click',function(e){_this9.toggleNavigationAccordion(e);});};GuidePageNavigation.prototype.toggleNavigationAccordion=function toggleNavigationAccordion(){var _this10=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var ifMobile=e.currentTarget.parentNode.className.indexOf(selectors.navigationMobile)>=0;var $navigation=ifMobile?this.$mobileNavigation:this.$scope;var $linksWrapper=ifMobile?this.$mobileNavContentWrapper:this.$navigationContentWrapper;var $reachedLine=ifMobile?this.$reachedLineMobile:this.$reachedLine;var isExpanded=$navigation.hasClass(selectors.expandedClass);if(!this.$mobileNavigationWrapper.hasClass(selectors.navigationMobileFixedClass)&&ifMobile){if(!this.$mobileNavigation.hasClass(selectors.navClosedByUser)){this.$mobileNavigation.addClass(selectors.navClosedByUser);}else{this.$mobileNavigation.removeClass(selectors.navClosedByUser);}}
if(isExpanded){$reachedLine.css('height',$reachedLine.height());if(ifMobile){this.$mobileNavigationBG.css('height','');}
$navigation.removeClass(selectors.expandedClass);}else{$navigation.addClass(selectors.expandedClass);if(this.$mobileNavigationWrapper.hasClass(selectors.navigationMobileFixedClass)){this.$mobileNavigationBG.css('height','100vh');}}
$linksWrapper.slideToggle(300,function(){_this10.adjustNavigationLineLength($navigation);if(isExpanded){$reachedLine.css('height','');$reachedLine.css('bottom','100%');if(_this10.$mobileNavigationWrapper.hasClass(selectors.navigationMobileFixedClass)){_this10.$mobileNavigationBG.css('height','');}}else{_this10.changeLineLength(true,$navigation);_this10.adjustNavigationLineLength(_this10.$mobileNavigation);}});};GuidePageNavigation.prototype.prepareMobileNavigation=function prepareMobileNavigation(){var _this11=this;this.$mobileNavigationWrapper.find('.content').append(this.$scope.clone());var mobileNavigation=this.$guideContent.find(selectors.componentSelector);var linksWithLevel2=mobileNavigation.find('.'+selectors.linksWithLevel2);var allNavigationLinks=mobileNavigation.find('a:not(.'+selectors.navigationAccordionPanel+')');var firstLevelLinks=mobileNavigation.find(selectors.topLevelNavigationLink);mobileNavigation.removeClass('guidePageNavigation').addClass(selectors.navigationMobile+' '+selectors.expandedClass);linksWithLevel2.addClass(selectors.expandedClass);this.bindMobileElements();this.bindMobileEvents();this.adjustNavigationLineLength(this.$mobileNavigation);this.adjustMobileNavPosition();this.handleLinkClick(allNavigationLinks);this.markReachedLinks(firstLevelLinks,true);this.handleTogglingLevel2(linksWithLevel2,mobileNavigation);var backToTopWrapper=$('<div class="sticky-back-to-top-mobile-wrapper"></div>');var backToTopButton=$('<button class="sticky-back-to-top">Back to top</button>');backToTopWrapper.append(backToTopButton);this.$mobileNavContentWrapper.append(backToTopWrapper);allNavigationLinks.on('focusin',function(e){_this11.handleMobileFocus(e,true);}).on('focusout',function(e){_this11.handleMobileFocus(e,false);});};GuidePageNavigation.prototype.handleMobileFocus=function handleMobileFocus(e,focusIn){var linkListItem=$(e.target).parent();if(linkListItem.is('div')){linkListItem=linkListItem.parent();}
if(focusIn){linkListItem.addClass('pressed');}else{linkListItem.removeClass('pressed');}};GuidePageNavigation.prototype.adjustMobileNavPosition=function adjustMobileNavPosition(){var navigationMobile=$('.'+selectors.navigationMobileWrapper);if(window.innerWidth<768){navigationMobile.css({marginLeft:-this.$guideHeadline.offset().left,width:this.$window.width()});}else{navigationMobile.css({marginLeft:'',width:''});}};GuidePageNavigation.prototype.followChaptersOnMobile=function followChaptersOnMobile(){var mobileNavigationWrapper=this.$document.find('.'+selectors.navigationMobileWrapper);var mobileNavigation=mobileNavigationWrapper.find('.'+selectors.navigationMobile);var mobileNavigationTitle=mobileNavigation.find('.'+selectors.navigationTitle);var reachedChapters=mobileNavigation.find('.'+selectors.reachedChapters);if(reachedChapters.length>=1&&mobileNavigationWrapper.hasClass(selectors.navigationMobileFixedClass)){var lastReached=reachedChapters.last().find('.'+selectors.firstLevelNavigationLinkWrapper+' a');lastReached.parent().parent().addClass(selectors.navigationCurrentChapterClass);mobileNavigationTitle.html(lastReached.html());}else{mobileNavigationTitle.html('In this guide');}};GuidePageNavigation.prototype.closeMobileNavigation=function closeMobileNavigation(){var _this12=this;var ifAnimate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var animationDuration=ifAnimate?300:0;this.$mobileNavigationBG.css('height','');this.$mobileNavContentWrapper.slideUp(animationDuration,function(){_this12.$mobileProgressLine.css('height','');_this12.$mobileProgressLine.css('bottom','100%');});this.$mobileNavigation.removeClass(selectors.expandedClass);};GuidePageNavigation.prototype.openMobileNavigation=function openMobileNavigation(){var _this13=this;this.$mobileNavContentWrapper.slideDown(0,function(){_this13.$mobileProgressLine.css('height','auto');_this13.$mobileProgressLine.css('bottom','100%');});this.$mobileNavigation.addClass(selectors.expandedClass);};return GuidePageNavigation;}();api.onRegister=function(scope){new GuidePageNavigation(scope.$scope,this.external.status);};Cog.registerComponent({name:'guidePageNavigation',selector:selectors.componentSelector,api:api,requires:[{name:'utils.status',apiId:'status'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={componentSelector:'left-hand-side-sidebar-section-container',sidebarContent:'sidebar-section',sidebarHeight:'sidebar-sticky-height',sidebarSticky:'sidebar-sticky',backToTopWrapper:'sticky-back-to-top-wrapper',backToTopWrapperBorder:'sticky-back-to-top-wrapper-border',backToTopButton:'sticky-back-to-top',backToTopButtonDisabled:'lhs-disabled-back-to-top'};var animationTime=1000;var StickySidebar=function(){function StickySidebar($scope,status){_classCallCheck(this,StickySidebar);this.$scope=$scope;this.status=status;if(!this.isIE()&&!this.status.isAuthor()){this.bindElements();this.addStickyClass();this.bindAnalyticsEvent();this.onOffSticky();this.bindWatchers();}}
StickySidebar.prototype.bindElements=function bindElements(){this.$window=$(window);this.$body=$('body');this.$htmlBody=$('body,html');this.$document=$(document);this.$guideDropdowns=this.$document.find('.guide-side-column-dropdown');this.$sidebarContent=this.$scope.find('.'+selectors.sidebarContent);};StickySidebar.prototype.bindAnalyticsEvent=function bindAnalyticsEvent(){this.$scope.on('click',function(e){if($(e.target).hasClass(selectors.backToTopButton)){Cog.fireEvent('analytics','guide.backToTopClick',{$target:$(e.target)});}});};StickySidebar.prototype.bindWatchers=function bindWatchers(){this.watchScroll();this.addSimpleScrollbar();if(!this.$body.hasClass(selectors.backToTopButtonDisabled)){this.watchSidebarContentHeight();this.createBackToTop();this.handleBackToTop();}};StickySidebar.prototype.addStickyClass=function addStickyClass(){this.$scope.addClass(selectors.sidebarSticky);};StickySidebar.prototype.isIE=function isIE(){var ua=navigator.userAgent;var isIE=ua.indexOf('MSIE ')>-1||ua.indexOf('Trident/')>-1;return isIE;};StickySidebar.prototype.createBackToTop=function createBackToTop(){var wrapperClasses=selectors.backToTopWrapper+' '+selectors.backToTopWrapperBorder;var backToTopWrapper=$('<div class="'+wrapperClasses+'"></div>');var backToTopButton=$('<button class="'+selectors.backToTopButton+'">Back to top</button>');backToTopWrapper.append(backToTopButton);this.$scope.append(backToTopWrapper);};StickySidebar.prototype.handleBackToTop=function handleBackToTop(){var _this=this;$('.'+selectors.backToTopButton).on('click',function(e){_this.$htmlBody.animate({scrollTop:0},animationTime).promise().then(function(){$(e.target).blur();});});};StickySidebar.prototype.watchScroll=function watchScroll(){var _this2=this;this.$window.on('scroll',_.throttle(function(){_this2.onOffSticky();},200));};StickySidebar.prototype.addSimpleScrollbar=function addSimpleScrollbar(){window.SimpleScrollbar.initEl(this.$scope.get(0));};StickySidebar.prototype.onOffSticky=function onOffSticky(){var _this3=this;if(this.$window.scrollTop()>=this.$scope.offset().top-24){this.handleCollapsingDropdowns();this.$scope.addClass(selectors.sidebarHeight);}else{this.$scope.find('.ss-content').animate({scrollTop:0},200).promise().then(function(){_this3.$scope.removeClass(selectors.sidebarHeight);});}};StickySidebar.prototype.handleCollapsingDropdowns=function handleCollapsingDropdowns(){this.$guideDropdowns.each(function(i,elem){var dropdownContent=$(elem).find('div.accordion-content-wrapper');var dropdownPanel=dropdownContent.parent();if(dropdownContent.css('display')==='block'&&!dropdownPanel.hasClass('sticky-collapsed')){dropdownContent.stop().slideUp(300);dropdownPanel.removeClass('is-active').addClass('sticky-collapsed');}else if(!dropdownPanel.hasClass('sticky-collapsed')){dropdownPanel.addClass('sticky-collapsed');}});};StickySidebar.prototype.watchSidebarContentHeight=function watchSidebarContentHeight(){var _this4=this;var resizeObserver=new ResizeObserver(function(){var buttonWrapper=$('.'+selectors.backToTopWrapper);var sidebarHeight=_this4.$scope.height()-buttonWrapper.height();var sidebarContentHeight=_this4.$sidebarContent[0].scrollHeight;if(sidebarHeight>=sidebarContentHeight){buttonWrapper.removeClass(selectors.backToTopWrapperBorder);}else{buttonWrapper.addClass(selectors.backToTopWrapperBorder);}});resizeObserver.observe(this.$sidebarContent[0]);};return StickySidebar;}();api.onRegister=function(scope){new StickySidebar(scope.$scope,this.external.status);};Cog.registerComponent({name:'stickySidebar',selector:'.left-hand-side-sidebar-section-container',api:api,requires:[{name:'utils.status',apiId:'status'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={mainContentContainer:'main-column-content-section-container',bylineComponent:'byline-short'};var scrollRatio={mainImage:0.012,mainContent:0.030};var bodyFontSize=parseInt(window.getComputedStyle(document.body).fontSize,10);var ArticleMainImageParallax=function(){function ArticleMainImageParallax($scope,status){_classCallCheck(this,ArticleMainImageParallax);this.$scope=$scope;this.status=status;this.windowScroll=0;if(!this.status.isAuthor()&&!this.isiOS()){this.bindElements();this.watchWindowEvents();}}
ArticleMainImageParallax.prototype.bindElements=function bindElements(){this.$window=$(window);this.$mainArticleImage=this.$scope;this.$mainContentContainer=$('.'+selectors.mainContentContainer);this.$bylineComponent=$('.'+selectors.bylineComponent);};ArticleMainImageParallax.prototype.calculateParallax=function calculateParallax(){var baseRatio=this.windowScroll*bodyFontSize;this.$mainArticleImage.css('margin-top','-'+Math.ceil(baseRatio*scrollRatio.mainImage)+'px');this.$mainContentContainer.css('margin-top','-'+Math.ceil(baseRatio*scrollRatio.mainContent)+'px');};ArticleMainImageParallax.prototype.isElementInViewport=function isElementInViewport($element){var rect=$element[0].getBoundingClientRect();return rect.top>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight);};ArticleMainImageParallax.prototype.isiOS=function isiOS(){return navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);};ArticleMainImageParallax.prototype.onScroll=function onScroll(){var _this=this;this.windowScroll=this.$window.scrollTop();if(this.isElementInViewport(this.$bylineComponent)){requestAnimationFrame(function(){_this.calculateParallax();});}};ArticleMainImageParallax.prototype.watchWindowEvents=function watchWindowEvents(){var _this2=this;this.$window.on('scroll resize touchmove',function(){_this2.onScroll();});};return ArticleMainImageParallax;}();api.onRegister=function(scope){new ArticleMainImageParallax(scope.$scope,this.external.status);};Cog.registerComponent({name:'articleMainImageParallax',selector:'.article-main-guide-heading-image',api:api,requires:[{name:'utils.status',apiId:'status'}]});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={topStoriesItem:'.top-stories-item',topStoriesTitle:'.item-title',topStoriesImage:'.item-image',topStoriesImageLink:'.item-image > a',lhsAccordion:'.accordion.guide-side-column-dropdown',lhsAccordionTitle:'.accordion-title-text'};var TopStories=function(){function TopStories($element){_classCallCheck(this,TopStories);this.$scope=$element;this.init();}
TopStories.prototype.init=function init(){this.bindElements();this.handleTracking();};TopStories.prototype.bindElements=function bindElements(){this.$topStoriesItem=this.$scope.find(selectors.topStoriesItem);this.$titleLink=this.$topStoriesItem.find(selectors.topStoriesTitle).parent();this.$imageLink=this.$topStoriesItem.find(selectors.topStoriesImageLink);};TopStories.prototype.handleTracking=function handleTracking(){var _this=this;this.$titleLink.add(this.$imageLink).on('click',function(event){var $target=$(event.target);var $currentTarget=$(event.currentTarget);Cog.fireEvent('analytics','promoBoxLeftHandSide.linkClick',{$target:$target,$currentTarget:$currentTarget,elementLayer1:_this.getAccordionTitle($target),elementLayer2:'Links',elementLayer3:'link',elementLayer4:_this.getTopStoriesItemIndex($target),itemIdentifier:$target.text()||_this.getTopStoriesItemTitle($target),href:$currentTarget.attr('href')});});};TopStories.prototype.getAccordionTitle=function getAccordionTitle($childElement){return $childElement.closest(selectors.lhsAccordion).find(selectors.lhsAccordionTitle).text();};TopStories.prototype.getTopStoriesItemIndex=function getTopStoriesItemIndex($childElement){return $childElement.closest(selectors.topStoriesItem).index()+1;};TopStories.prototype.getTopStoriesItemTitle=function getTopStoriesItemTitle($img){return $img.closest(selectors.topStoriesItem).find(selectors.topStoriesTitle).text();};return TopStories;}();api.onRegister=function(scope){new TopStories(scope.$scope);};Cog.registerComponent({name:'TopStories',api:api,selector:'.topStories'});})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
(function(){var api={};var selectors={component:'singleButtonShareThis',shareThisButton:'share-this-btn',shareThisButtonOpen:'share-this-btn-open',shareThisList:'shareThis-list',shareThisListItem:'shareThis-item > a',slideIn:'slide-in',bylineDataVisible:'hidden',hideSibling:'singleButtonShareThis-hide-sibling',hidePreviousComponent:'singleButtonShareThis-hide-previous',hiddenClass:'singleButtonShareThis-sibling-hidden',openToTheLeft:'singleButtonShareThis-left',openToTheRight:'singleButtonShareThis-right',byline:{component:'byline',elementToHide:'by-line__datacontainer'},dealsList:{component:'dealsFullList',expired:'expired',manuallyExpired:'manually-expired'}};var SingleButtonShareThis=function(){function SingleButtonShareThis($scope,status){_classCallCheck(this,SingleButtonShareThis);this.$scope=$scope;this.status=status;if(!this.status.isAuthor()){this.bindElements();this.bindEvents();this.watchWindowResize();}}
SingleButtonShareThis.prototype.bindElements=function bindElements(){this.$window=$(window);this.$siblingToHide=this.$scope.next();this.$shareThisButton=this.$scope.find('.'+selectors.shareThisButton);this.$shareThisList=this.$scope.find('.'+selectors.shareThisList);this.$shareThisListItem=this.$shareThisList.find('.'+selectors.shareThisListItem);if(this.$scope.parents().hasClass(selectors.byline.component)){this.$byline=this.$scope.closest('.'+selectors.byline.component);this.$siblingToHide=this.$byline.find('.'+selectors.byline.elementToHide);}};SingleButtonShareThis.prototype.bindEvents=function bindEvents(){var _this=this;if(this.ifActivateButton()){this.$shareThisButton.on('click',function(event){var button=event.currentTarget;event.preventDefault();Cog.fireEvent('analytics','singleButtonShareThis.shareThisButton',{$target:$(button),elementLayer1:'Sharing',itemIdentifier:$(button).hasClass(''+selectors.shareThisButtonOpen)?'Close':'Expand Options'});_this.toggleCloseButtonText();_this.toggleSlideInClass();});this.$shareThisListItem.on('click',function(event){Cog.fireEvent('analytics','singleButtonShareThis.shareThisItem',{$target:$(event.currentTarget),elementLayer1:'Sharing'});});}};SingleButtonShareThis.prototype.ifActivateButton=function ifActivateButton(){var $dealsFullList=this.$scope.closest('.'+selectors.dealsList.component);if($dealsFullList.length){var expiredList=$dealsFullList.find('.'+selectors.dealsList.expired).length;var ifManuallyExpired=this.$scope.closest('.'+selectors.dealsList.manuallyExpired).length;return!(expiredList||ifManuallyExpired);}
return true;};SingleButtonShareThis.prototype.setShareThisListPosition=function setShareThisListPosition(resetPosition){var positionValue=resetPosition?0:this.calculateShareThisButtonWidth();if(this.$scope.find('.'+selectors.openToTheLeft).length){positionValue=-positionValue;}
this.$shareThisList[0].style.transform='translate3d('+positionValue+'px, 0, 0)';this.$shareThisButton.blur();};SingleButtonShareThis.prototype.calculateShareThisButtonWidth=function calculateShareThisButtonWidth(){return Math.round(this.$shareThisButton[0].getBoundingClientRect().width);};SingleButtonShareThis.prototype.toggleCloseButtonText=function toggleCloseButtonText(){var ifHideSibling=this.$scope.hasClass(selectors.hideSibling);var ifHidePrevComponent=this.$scope.hasClass(selectors.hidePreviousComponent);if(this.$shareThisButton.hasClass(selectors.shareThisButtonOpen)){this.$shareThisButton.removeClass(selectors.shareThisButtonOpen);this.setShareThisListPosition(true);if(ifHideSibling){this.$siblingToHide.removeClass(selectors.hiddenClass);}
if(ifHidePrevComponent){this.$scope.prev().removeClass(selectors.hiddenClass);}}else{if(ifHideSibling){this.$siblingToHide.addClass(selectors.hiddenClass);}
if(ifHidePrevComponent){this.$scope.prev().addClass(selectors.hiddenClass);}
this.$shareThisButton.addClass(selectors.shareThisButtonOpen);this.setShareThisListPosition(false);}};SingleButtonShareThis.prototype.toggleSlideInClass=function toggleSlideInClass(){this.$shareThisList.toggleClass(selectors.slideIn);};SingleButtonShareThis.prototype.watchWindowResize=function watchWindowResize(){var _this2=this;this.$window.on('resize',_.throttle(function(){_this2.setShareThisListPosition(false);},200));};return SingleButtonShareThis;}();api.onRegister=function(scope){new SingleButtonShareThis(scope.$scope,this.external.status);};Cog.registerComponent({name:'singleButtonShareThis',selector:'.singleButtonShareThis',api:api,requires:[{name:'utils.status',apiId:'status'}]});})();
/*!
* This is a i18n.locale language object.
*
* English; This can serve as a template for other languages to translate
*
* @author
* TBD
* Sascha Greuel (Twitter: @SoftCreatR)
*
* @see
* me-i18n.js
*
* @params
* - exports - CommonJS, window ..
*/(function(exports){"use strict";if(exports.en===undefined){exports.en={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.fullscreen-off":"Turn off Fullscreen","mejs.fullscreen-on":"Go Fullscreen","mejs.download-video":"Download Video","mejs.fullscreen":"Fullscreen","mejs.time-jump-forward":["Jump forward 1 second","Jump forward %1 seconds"],"mejs.play":"Play","mejs.pause":"Pause","mejs.close":"Close","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.time-skip-back":["Skip back 1 second","Skip back %1 seconds"],"mejs.captions-subtitles":"Captions/Subtitles","mejs.none":"None","mejs.mute-toggle":"Mute Toggle","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.ad-skip":"Skip ad","mejs.ad-skip-info":["Skip in 1 second","Skip in %1 seconds"],"mejs.source-chooser":"Source Chooser"};}}(mejs.i18n.locale.strings));/*!
*
* MediaElementPlayer
* http://mediaelementjs.com/
*
* Creates a controller bar for HTML5 <video> add <audio> tags
* using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
*
* Copyright 2010-2013, John Dyer (http://j.hn/)
* License: MIT
*
*/if(typeof Cog!='undefined'){mejs.$=Cog.jQuery();}else if(typeof jQuery!='undefined'){mejs.$=jQuery;}else if(typeof Zepto!='undefined'){mejs.$=Zepto;Zepto.fn.outerWidth=function(includeMargin){var width=$(this).width();if(includeMargin){width+=parseInt($(this).css('margin-right'),10);width+=parseInt($(this).css('margin-left'),10);}
return width}}else if(typeof ender!='undefined'){mejs.$=ender;}
(function($){mejs.MepDefaults={poster:'',showPosterWhenEnded:false,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(media){return(media.duration*0.05);},defaultSeekForwardInterval:function(media){return(media.duration*0.05);},setDimensions:true,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,autoRewind:true,enableAutosize:true,timeFormat:'',alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,hideVideoControlsOnLoad:false,clickToPlayPause:true,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1000,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:['playpause','current','progress','duration','tracks','volume','fullscreen'],isVideo:true,stretching:'auto',enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(player,media,key,event){if(!mejs.MediaFeatures.isFirefox){if(media.paused||media.ended){media.play();}else{media.pause();}}}},{keys:[38],action:function(player,media,key,event){player.container.find('.mejs-volume-slider').css('display','block');if(player.isVideo){player.showControls();player.startControlsTimer();}
var newVolume=Math.min(media.volume+0.1,1);media.setVolume(newVolume);}},{keys:[40],action:function(player,media,key,event){player.container.find('.mejs-volume-slider').css('display','block');if(player.isVideo){player.showControls();player.startControlsTimer();}
var newVolume=Math.max(media.volume-0.1,0);media.setVolume(newVolume);}},{keys:[37,227],action:function(player,media,key,event){if(!isNaN(media.duration)&&media.duration>0){if(player.isVideo){player.showControls();player.startControlsTimer();}
var newTime=Math.max(media.currentTime-player.options.defaultSeekBackwardInterval(media),0);media.setCurrentTime(newTime);}}},{keys:[39,228],action:function(player,media,key,event){if(!isNaN(media.duration)&&media.duration>0){if(player.isVideo){player.showControls();player.startControlsTimer();}
var newTime=Math.min(media.currentTime+player.options.defaultSeekForwardInterval(media),media.duration);media.setCurrentTime(newTime);}}},{keys:[70],action:function(player,media,key,event){if(typeof player.enterFullScreen!='undefined'){if(player.isFullScreen){player.exitFullScreen();}else{player.enterFullScreen();}}}},{keys:[77],action:function(player,media,key,event){player.container.find('.mejs-volume-slider').css('display','block');if(player.isVideo){player.showControls();player.startControlsTimer();}
if(player.media.muted){player.setMuted(false);}else{player.setMuted(true);}}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(node,o){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(node,o);}
var t=this;t.$media=t.$node=$(node);t.node=t.media=t.$media[0];if(!t.node){return;}
if(typeof t.node.player!='undefined'){return t.node.player;}
if(typeof o=='undefined'){o=t.$node.data('mejsoptions');}
t.options=$.extend({},mejs.MepDefaults,o);if(!t.options.timeFormat){t.options.timeFormat='mm:ss';if(t.options.alwaysShowHours){t.options.timeFormat='hh:mm:ss';}
if(t.options.showTimecodeFrameCount){t.options.timeFormat+=':ff';}}
mejs.Utility.calculateTimeFormat(0,t.options,t.options.framesPerSecond||25);t.id='mep_'+mejs.mepIndex++;mejs.players[t.id]=t;t.init();return t;};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var
t=this,mf=mejs.MediaFeatures,meOptions=$.extend(true,{},t.options,{success:function(media,domNode){t.meReady(media,domNode);},error:function(e){t.handleError(e);}}),tagName=t.media.tagName.toLowerCase();t.isDynamic=(tagName!=='audio'&&tagName!=='video');if(t.isDynamic){t.isVideo=t.options.isVideo;}else{t.isVideo=(tagName!=='audio'&&t.options.isVideo);}
if((mf.isiPad&&t.options.iPadUseNativeControls)||(mf.isiPhone&&t.options.iPhoneUseNativeControls)){t.$media.attr('controls','controls');if(mf.isiPad&&t.media.getAttribute('autoplay')!==null){t.play();}}else if(mf.isAndroid&&t.options.AndroidUseNativeControls){}else if(t.isVideo||(!t.isVideo&&t.options.features.length)){t.$media.removeAttr('controls');var videoPlayerTitle=t.isVideo?mejs.i18n.t('mejs.video-player'):mejs.i18n.t('mejs.audio-player');$('<span class="mejs-offscreen">'+videoPlayerTitle+'</span>').insertBefore(t.$media);t.container=$('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svgAsImg?'svg':'no-svg')+
'" tabindex="0" role="application" aria-label="'+videoPlayerTitle+'">'+
'<div class="mejs-inner">'+
'<div class="mejs-mediaelement"></div>'+
'<div class="mejs-layers"></div>'+
'<div class="mejs-controls"></div>'+
'<div class="mejs-clear"></div>'+
'</div>'+
'</div>').addClass(t.$media[0].className).insertBefore(t.$media).focus(function(e){if(!t.controlsAreVisible&&!t.hasFocus&&t.controlsEnabled){t.showControls(true);if(!t.hasMsNativeFullScreen){var btnSelector='.mejs-playpause-button > button';if(mejs.Utility.isNodeAfter(e.relatedTarget,t.container[0])){btnSelector='.mejs-controls .mejs-button:last-child > button';}
var button=t.container.find(btnSelector);button.focus();}}});if(!t.options.features.length){t.container.css('background','transparent').find('.mejs-controls').hide();}
if(t.isVideo&&t.options.stretching==='fill'&&!t.container.parent('mejs-fill-container').length){t.outerContainer=t.$media.parent();t.container.wrap('<div class="mejs-fill-container"/>');}
t.container.addClass((mf.isAndroid?'mejs-android ':'')+
(mf.isiOS?'mejs-ios ':'')+
(mf.isiPad?'mejs-ipad ':'')+
(mf.isiPhone?'mejs-iphone ':'')+
(t.isVideo?'mejs-video ':'mejs-audio '));t.container.find('.mejs-mediaelement').append(t.$media);t.node.player=t;t.controls=t.container.find('.mejs-controls');t.layers=t.container.find('.mejs-layers');var tagType=(t.isVideo?'video':'audio'),capsTagName=tagType.substring(0,1).toUpperCase()+tagType.substring(1);if(t.options[tagType+'Width']>0||t.options[tagType+'Width'].toString().indexOf('%')>-1){t.width=t.options[tagType+'Width'];}else if(t.media.style.width!==''&&t.media.style.width!==null){t.width=t.media.style.width;}else if(t.media.getAttribute('width')!==null){t.width=t.$media.attr('width');}else{t.width=t.options['default'+capsTagName+'Width'];}
if(t.options[tagType+'Height']>0||t.options[tagType+'Height'].toString().indexOf('%')>-1){t.height=t.options[tagType+'Height'];}else if(t.media.style.height!==''&&t.media.style.height!==null){t.height=t.media.style.height;}else if(t.$media[0].getAttribute('height')!==null){t.height=t.$media.attr('height');}else{t.height=t.options['default'+capsTagName+'Height'];}
t.setPlayerSize(t.width,t.height);meOptions.pluginWidth=t.width;meOptions.pluginHeight=t.height;}
else if(!t.isVideo&&!t.options.features.length){t.$media.hide();}
mejs.MediaElement(t.$media[0],meOptions);if(typeof(t.container)!=='undefined'&&t.options.features.length&&t.controlsAreVisible){t.container.trigger('controlsshown');}},showControls:function(doAnimation){var t=this;doAnimation=typeof doAnimation=='undefined'||doAnimation;if(t.controlsAreVisible)
return;if(doAnimation){t.controls.removeClass('mejs-offscreen').stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true;t.container.trigger('controlsshown');});t.container.find('.mejs-control').removeClass('mejs-offscreen').stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true;});}else{t.controls.removeClass('mejs-offscreen').css('display','block');t.container.find('.mejs-control').removeClass('mejs-offscreen').css('display','block');t.controlsAreVisible=true;t.container.trigger('controlsshown');}
t.setControlsSize();},hideControls:function(doAnimation){var t=this;doAnimation=typeof doAnimation=='undefined'||doAnimation;if(!t.controlsAreVisible||t.options.alwaysShowControls||t.keyboardAction||t.media.paused||t.media.ended)
return;if(doAnimation){t.controls.stop(true,true).fadeOut(200,function(){$(this).addClass('mejs-offscreen').css('display','block');t.controlsAreVisible=false;t.container.trigger('controlshidden');});t.container.find('.mejs-control').stop(true,true).fadeOut(200,function(){$(this).addClass('mejs-offscreen').css('display','block');});}else{t.controls.addClass('mejs-offscreen').css('display','block');t.container.find('.mejs-control').addClass('mejs-offscreen').css('display','block');t.controlsAreVisible=false;t.container.trigger('controlshidden');}},controlsTimer:null,startControlsTimer:function(timeout){var t=this;timeout=typeof timeout!='undefined'?timeout:t.options.controlsTimeoutDefault;t.killControlsTimer('start');t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer('hide');},timeout);},killControlsTimer:function(src){var t=this;if(t.controlsTimer!==null){clearTimeout(t.controlsTimer);delete t.controlsTimer;t.controlsTimer=null;}},controlsEnabled:true,disableControls:function(){var t=this;t.killControlsTimer();t.hideControls(false);this.controlsEnabled=false;},enableControls:function(){var t=this;t.showControls(false);t.controlsEnabled=true;},meReady:function(media,domNode){var
t=this,mf=mejs.MediaFeatures,autoplayAttr=domNode.getAttribute('autoplay'),autoplay=!(typeof autoplayAttr=='undefined'||autoplayAttr===null||autoplayAttr==='false'),featureIndex,feature;if(t.created){return;}else{t.created=true;}
t.media=media;t.domNode=domNode;if(!(mf.isAndroid&&t.options.AndroidUseNativeControls)&&!(mf.isiPad&&t.options.iPadUseNativeControls)&&!(mf.isiPhone&&t.options.iPhoneUseNativeControls)){if(!t.isVideo&&!t.options.features.length){if(autoplay&&media.pluginType=='native'){t.play();}
if(t.options.success){if(typeof t.options.success=='string'){window[t.options.success](t.media,t.domNode,t);}else{t.options.success(t.media,t.domNode,t);}}
return;}
t.buildposter(t,t.controls,t.layers,t.media);t.buildkeyboard(t,t.controls,t.layers,t.media);t.buildoverlays(t,t.controls,t.layers,t.media);t.findTracks();for(featureIndex in t.options.features){feature=t.options.features[featureIndex];if(t['build'+feature]){try{t['build'+feature](t,t.controls,t.layers,t.media);}catch(e){}}}
t.container.trigger('controlsready');t.setPlayerSize(t.width,t.height);t.setControlsSize();if(t.isVideo){if(mejs.MediaFeatures.hasTouch&&!t.options.alwaysShowControls){t.$media.bind('touchstart',function(){if(t.controlsAreVisible){t.hideControls(false);}else{if(t.controlsEnabled){t.showControls(false);}}});}else{t.clickToPlayPauseCallback=function(){if(t.options.clickToPlayPause){if(t.media.paused){t.play();}else{t.pause();}
var button=t.$media.closest('.mejs-container').find('.mejs-overlay-button'),pressed=button.attr('aria-pressed');button.attr('aria-pressed',!pressed);}};t.media.addEventListener('click',t.clickToPlayPauseCallback,false);t.container.bind('mouseenter',function(){if(t.controlsEnabled){if(!t.options.alwaysShowControls){t.killControlsTimer('enter');t.showControls();t.startControlsTimer(t.options.controlsTimeoutMouseEnter);}}}).bind('mousemove',function(){if(t.controlsEnabled){if(!t.controlsAreVisible){t.showControls();}
if(!t.options.alwaysShowControls){t.startControlsTimer(t.options.controlsTimeoutMouseEnter);}}}).bind('mouseleave',function(){if(t.controlsEnabled){if(!t.media.paused&&!t.options.alwaysShowControls){t.startControlsTimer(t.options.controlsTimeoutMouseLeave);}}});}
if(t.options.hideVideoControlsOnLoad){t.hideControls(false);}
if(autoplay&&!t.options.alwaysShowControls){t.hideControls();}
if(t.options.enableAutosize){t.media.addEventListener('loadedmetadata',function(e){if(t.options.videoHeight<=0&&t.domNode.getAttribute('height')===null&&!isNaN(e.target.videoHeight)){t.setPlayerSize(e.target.videoWidth,e.target.videoHeight);t.setControlsSize();t.media.setVideoSize(e.target.videoWidth,e.target.videoHeight);}},false);}}
t.media.addEventListener('play',function(){var playerIndex;for(playerIndex in mejs.players){var p=mejs.players[playerIndex];if(p.id!=t.id&&t.options.pauseOtherPlayers&&!p.paused&&!p.ended){p.pause();}
p.hasFocus=false;}
t.hasFocus=true;},false);t.media.addEventListener('ended',function(e){if(t.options.autoRewind){try{t.media.setCurrentTime(0);window.setTimeout(function(){$(t.container).find('.mejs-overlay-loading').parent().hide();},20);}catch(exp){}}
if(t.media.pluginType==='youtube'){t.media.stop();}else{t.media.pause();}
if(t.setProgressRail){t.setProgressRail();}
if(t.setCurrentRail){t.setCurrentRail();}
if(t.options.loop){t.play();}else if(!t.options.alwaysShowControls&&t.controlsEnabled){t.showControls();}},false);t.media.addEventListener('loadedmetadata',function(){mejs.Utility.calculateTimeFormat(t.duration,t.options,t.options.framesPerSecond||25);if(t.updateDuration){t.updateDuration();}
if(t.updateCurrent){t.updateCurrent();}
if(!t.isFullScreen){t.setPlayerSize(t.width,t.height);t.setControlsSize();}},false);var duration=null;t.media.addEventListener('timeupdate',function(){if(duration!==this.duration){duration=this.duration;mejs.Utility.calculateTimeFormat(duration,t.options,t.options.framesPerSecond||25);if(t.updateDuration){t.updateDuration();}
if(t.updateCurrent){t.updateCurrent();}
t.setControlsSize();}},false);t.container.focusout(function(e){if(e.relatedTarget){var $target=$(e.relatedTarget);if(t.keyboardAction&&$target.parents('.mejs-container').length===0){t.keyboardAction=false;if(t.isVideo&&!t.options.alwaysShowControls){t.hideControls(true);}}}});setTimeout(function(){t.setPlayerSize(t.width,t.height);t.setControlsSize();},50);t.globalBind('resize',function(){if(!(t.isFullScreen||(mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen))){t.setPlayerSize(t.width,t.height);}
t.setControlsSize();});if(t.media.pluginType=='youtube'&&(mf.isiOS||mf.isAndroid)){t.container.find('.mejs-overlay-play').hide();}}
if(autoplay&&media.pluginType=='native'){t.play();}
if(t.options.success){if(typeof t.options.success=='string'){window[t.options.success](t.media,t.domNode,t);}else{t.options.success(t.media,t.domNode,t);}}},handleError:function(e){var t=this;if(t.controls){t.controls.hide();}
if(t.options.error){t.options.error(e);}},setPlayerSize:function(width,height){var t=this;if(!t.options.setDimensions){return false;}
if(typeof width!='undefined'){t.width=width;}
if(typeof height!='undefined'){t.height=height;}
switch(t.options.stretching){case 'fill':if(t.isVideo){this.setFillMode();}else{this.setDimensions(t.width,t.height);}
break;case 'responsive':this.setResponsiveMode();break;case 'none':this.setDimensions(t.width,t.height);break;default:if(this.hasFluidMode()===true){this.setResponsiveMode();}else{this.setDimensions(t.width,t.height);}
break;}},hasFluidMode:function(){var t=this;return(t.height.toString().indexOf('%')>0||(t.$node.css('max-width')!=='none'&&t.$node.css('max-width')!=='t.width')||(t.$node[0].currentStyle&&t.$node[0].currentStyle.maxWidth==='100%'));},setResponsiveMode:function(){var t=this;var nativeWidth=(function(){if(t.isVideo){if(t.media.videoWidth&&t.media.videoWidth>0){return t.media.videoWidth;}else if(t.media.getAttribute('width')!==null){return t.media.getAttribute('width');}else{return t.options.defaultVideoWidth;}}else{return t.options.defaultAudioWidth;}})();var nativeHeight=(function(){if(t.isVideo){if(t.media.videoHeight&&t.media.videoHeight>0){return t.media.videoHeight;}else if(t.media.getAttribute('height')!==null){return t.media.getAttribute('height');}else{return t.options.defaultVideoHeight;}}else{return t.options.defaultAudioHeight;}})();var parentWidth=t.container.parent().closest(':visible').width(),parentHeight=t.container.parent().closest(':visible').height(),newHeight=t.isVideo||!t.options.autosizeProgress?parseInt(parentWidth*nativeHeight/nativeWidth,10):nativeHeight;if(isNaN(newHeight)||(parentHeight!==0&&newHeight>parentHeight&&parentHeight>nativeHeight)){newHeight=parentHeight;}
if(t.container.parent().length>0&&t.container.parent()[0].tagName.toLowerCase()==='body'){parentWidth=$(window).width();newHeight=$(window).height();}
if(newHeight&&parentWidth){t.container.width(parentWidth).height(newHeight);t.$media.add(t.container.find('.mejs-shim')).width('100%').height('100%');if(t.isVideo){if(t.media.setVideoSize){t.media.setVideoSize(parentWidth,newHeight);}}
t.layers.children('.mejs-layer').width('100%').height('100%');}},setFillMode:function(){var t=this,parent=t.outerContainer;if(!parent.width()){parent.height(t.$media.width());}
if(!parent.height()){parent.height(t.$media.height());}
var parentWidth=parent.width(),parentHeight=parent.height();t.setDimensions('100%','100%');t.container.find('.mejs-poster img').css('display','block');targetElement=t.container.find('object, embed, iframe, video');var initHeight=t.height,initWidth=t.width,scaleX1=parentWidth,scaleY1=(initHeight*parentWidth)/initWidth,scaleX2=(initWidth*parentHeight)/initHeight,scaleY2=parentHeight,bScaleOnWidth=!(scaleX2>parentWidth),finalWidth=bScaleOnWidth?Math.floor(scaleX1):Math.floor(scaleX2),finalHeight=bScaleOnWidth?Math.floor(scaleY1):Math.floor(scaleY2);if(bScaleOnWidth){targetElement.height(finalHeight).width(parentWidth);if(t.media.setVideoSize){t.media.setVideoSize(parentWidth,finalHeight);}}else{targetElement.height(parentHeight).width(finalWidth);if(t.media.setVideoSize){t.media.setVideoSize(finalWidth,parentHeight);}}
targetElement.css({'margin-left':Math.floor((parentWidth-finalWidth)/2),'margin-top':0});},setDimensions:function(width,height){var t=this;t.container.width(width).height(height);t.layers.children('.mejs-layer').width(width).height(height);},setControlsSize:function(){var t=this,usedWidth=0,railWidth=0,rail=t.controls.find('.mejs-time-rail'),total=t.controls.find('.mejs-time-total'),others=rail.siblings(),lastControl=others.last(),lastControlPosition=null,avoidAutosizeProgress=t.options&&!t.options.autosizeProgress;if(!t.container.is(':visible')||!rail.length||!rail.is(':visible')){return;}
if(avoidAutosizeProgress){railWidth=parseInt(rail.css('width'),10);}
if(railWidth===0||!railWidth){others.each(function(){var $this=$(this);if($this.css('position')!='absolute'&&$this.is(':visible')){usedWidth+=$(this).outerWidth(true);}});railWidth=t.controls.width()-usedWidth-(rail.outerWidth(true)-rail.width());}
do{if(!avoidAutosizeProgress){rail.width(railWidth);}
total.width(railWidth-(total.outerWidth(true)-total.width()));if(lastControl.css('position')!='absolute'){lastControlPosition=lastControl.length?lastControl.position():null;railWidth--;}}while(lastControlPosition!==null&&lastControlPosition.top.toFixed(2)>0&&railWidth>0);t.container.trigger('controlsresize');},buildposter:function(player,controls,layers,media){var t=this,poster=$('<div class="mejs-poster mejs-layer">'+
'</div>').appendTo(layers),posterUrl=player.$media.attr('poster');if(player.options.poster!==''){posterUrl=player.options.poster;}
if(posterUrl){t.setPoster(posterUrl);}else{poster.hide();}
media.addEventListener('play',function(){poster.hide();},false);if(player.options.showPosterWhenEnded&&player.options.autoRewind){media.addEventListener('ended',function(){poster.show();},false);}},setPoster:function(url){var t=this,posterDiv=t.container.find('.mejs-poster'),posterImg=posterDiv.find('img');if(posterImg.length===0){posterImg=$('<img width="100%" height="100%" alt="" />').appendTo(posterDiv);}
posterImg.attr('src',url);posterDiv.css({'background-image':'url('+url+')'});},buildoverlays:function(player,controls,layers,media){var t=this;if(!player.isVideo)
return;var
loading=$('<div class="mejs-overlay mejs-layer">'+
'<div class="mejs-overlay-loading"><span></span></div>'+
'</div>').hide().appendTo(layers),error=$('<div class="mejs-overlay mejs-layer">'+
'<div class="mejs-overlay-error"></div>'+
'</div>').hide().appendTo(layers),bigPlay=$('<div class="mejs-overlay mejs-layer mejs-overlay-play">'+
'<div class="mejs-overlay-button" role="button" aria-label="'+mejs.i18n.t('mejs.play')+'" aria-pressed="false"></div>'+
'</div>').appendTo(layers).bind('click',function(){if(t.options.clickToPlayPause){if(media.paused){media.play();}
var button=$(this).find('.mejs-overlay-button'),pressed=button.attr('aria-pressed');button.attr('aria-pressed',!!pressed);}});media.addEventListener('play',function(){bigPlay.hide();loading.hide();controls.find('.mejs-time-buffering').hide();error.hide();},false);media.addEventListener('playing',function(){bigPlay.hide();loading.hide();controls.find('.mejs-time-buffering').hide();error.hide();},false);media.addEventListener('seeking',function(){loading.show();controls.find('.mejs-time-buffering').show();},false);media.addEventListener('seeked',function(){loading.hide();controls.find('.mejs-time-buffering').hide();},false);media.addEventListener('pause',function(){if(!mejs.MediaFeatures.isiPhone){bigPlay.show();}},false);media.addEventListener('waiting',function(){loading.show();controls.find('.mejs-time-buffering').show();},false);media.addEventListener('loadeddata',function(){loading.show();controls.find('.mejs-time-buffering').show();if(mejs.MediaFeatures.isAndroid){media.canplayTimeout=window.setTimeout(function(){if(document.createEvent){var evt=document.createEvent('HTMLEvents');evt.initEvent('canplay',true,true);return media.dispatchEvent(evt);}},300);}},false);media.addEventListener('canplay',function(){loading.hide();controls.find('.mejs-time-buffering').hide();clearTimeout(media.canplayTimeout);},false);media.addEventListener('error',function(e){t.handleError(e);loading.hide();bigPlay.hide();error.show();error.find('.mejs-overlay-error').html("Error loading this resource");},false);media.addEventListener('keydown',function(e){t.onkeydown(player,media,e);},false);},buildkeyboard:function(player,controls,layers,media){var t=this;t.container.keydown(function(){t.keyboardAction=true;});t.globalBind('keydown',function(event){player.hasFocus=$(event.target).closest('.mejs-container').length!==0&&$(event.target).closest('.mejs-container').attr('id')===player.$media.closest('.mejs-container').attr('id');return t.onkeydown(player,media,event);});t.globalBind('click',function(event){player.hasFocus=$(event.target).closest('.mejs-container').length!==0;});},onkeydown:function(player,media,e){if(player.hasFocus&&player.options.enableKeyboard){for(var i=0,il=player.options.keyActions.length;i<il;i++){var keyAction=player.options.keyActions[i];for(var j=0,jl=keyAction.keys.length;j<jl;j++){if(e.keyCode==keyAction.keys[j]){if(typeof(e.preventDefault)=="function")e.preventDefault();keyAction.action(player,media,e.keyCode,e);return false;}}}}
return true;},findTracks:function(){var t=this,tracktags=t.$media.find('track');t.tracks=[];tracktags.each(function(index,track){track=$(track);t.tracks.push({srclang:(track.attr('srclang'))?track.attr('srclang').toLowerCase():'',src:track.attr('src'),kind:track.attr('kind'),label:track.attr('label')||'',entries:[],isLoaded:false});});},changeSkin:function(className){this.container[0].className='mejs-container '+className;this.setPlayerSize(this.width,this.height);this.setControlsSize();},play:function(){this.load();this.media.play();},pause:function(){try{this.media.pause();}catch(e){}},load:function(){if(!this.isLoaded){this.media.load();}
this.isLoaded=true;},setMuted:function(muted){this.media.setMuted(muted);},setCurrentTime:function(time){this.media.setCurrentTime(time);},getCurrentTime:function(){return this.media.currentTime;},setVolume:function(volume){this.media.setVolume(volume);},getVolume:function(){return this.media.volume;},setSrc:function(src){var
t=this;if(t.media.pluginType==='youtube'){var videoId;if(typeof src!=='string'){var i,media;for(i=0;i<src.length;i++){media=src[i];if(this.canPlayType(media.type)){src=media.src;break;}}}
if(src.lastIndexOf('youtu.be')!==-1){videoId=src.substr(src.lastIndexOf('/')+1);if(videoId.indexOf('?')!==-1){videoId=videoId.substr(0,videoId.indexOf('?'));}}else{var videoIdMatch=src.match(/[?&]v=([^&#]+)|&|#|$/);if(videoIdMatch){videoId=videoIdMatch[1];}}
if(t.media.getAttribute('autoplay')!==null){t.media.pluginApi.loadVideoById(videoId);}else{t.media.pluginApi.cueVideoById(videoId);}}
else{t.media.setSrc(src);}},remove:function(){var t=this,featureIndex,feature;t.container.prev('.mejs-offscreen').remove();for(featureIndex in t.options.features){feature=t.options.features[featureIndex];if(t['clean'+feature]){try{t['clean'+feature](t);}catch(e){}}}
if(!t.isDynamic){t.$media.prop('controls',true);t.$node.clone().insertBefore(t.container).show();t.$node.remove();}else{t.$node.insertBefore(t.container);}
if(t.media.pluginType!=='native'){t.media.remove();}
delete mejs.players[t.id];if(typeof t.container=='object'){t.container.remove();}
t.globalUnbind();delete t.node.player;},rebuildtracks:function(){var t=this;t.findTracks();t.buildtracks(t,t.controls,t.layers,t.media);},resetSize:function(){var t=this;setTimeout(function(){t.setPlayerSize(t.width,t.height);t.setControlsSize();},50);}};(function(){var rwindow=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;function splitEvents(events,id){var ret={d:[],w:[]};$.each((events||'').split(' '),function(k,v){var eventname=v+'.'+id;if(eventname.indexOf('.')===0){ret.d.push(eventname);ret.w.push(eventname);}
else{ret[rwindow.test(v)?'w':'d'].push(eventname);}});ret.d=ret.d.join(' ');ret.w=ret.w.join(' ');return ret;}
mejs.MediaElementPlayer.prototype.globalBind=function(events,data,callback){var t=this;var doc=t.node?t.node.ownerDocument:document;events=splitEvents(events,t.id);if(events.d)$(doc).bind(events.d,data,callback);if(events.w)$(window).bind(events.w,data,callback);};mejs.MediaElementPlayer.prototype.globalUnbind=function(events,callback){var t=this;var doc=t.node?t.node.ownerDocument:document;events=splitEvents(events,t.id);if(events.d)$(doc).unbind(events.d,callback);if(events.w)$(window).unbind(events.w,callback);};})();if(typeof $!='undefined'){$.fn.mediaelementplayer=function(options){if(options===false){this.each(function(){var player=$(this).data('mediaelementplayer');if(player){player.remove();}
$(this).removeData('mediaelementplayer');});}
else{this.each(function(){$(this).data('mediaelementplayer',new mejs.MediaElementPlayer(this,options));});}
return this;};$(document).ready(function(){$('.mejs-player').mediaelementplayer();});}
window.MediaElementPlayer=mejs.MediaElementPlayer;})(mejs.$);(function($){$.extend(mejs.MepDefaults,{playText:'',pauseText:''});$.extend(MediaElementPlayer.prototype,{buildplaypause:function(player,controls,layers,media){var
t=this,op=t.options,playTitle=op.playText?op.playText:mejs.i18n.t('mejs.play'),pauseTitle=op.pauseText?op.pauseText:mejs.i18n.t('mejs.pause'),play=$('<div class="mejs-button mejs-playpause-button mejs-play" >'+
'<button type="button" aria-controls="'+t.id+'" title="'+playTitle+'" aria-label="'+pauseTitle+'"></button>'+
'</div>').appendTo(controls).click(function(e){e.preventDefault();if(media.paused){media.play();}else{media.pause();}
return false;}),play_btn=play.find('button');function togglePlayPause(which){if('play'===which){play.removeClass('mejs-play').addClass('mejs-pause');play_btn.attr({'title':pauseTitle,'aria-label':pauseTitle});}else{play.removeClass('mejs-pause').addClass('mejs-play');play_btn.attr({'title':playTitle,'aria-label':playTitle});}};togglePlayPause('pse');media.addEventListener('play',function(){togglePlayPause('play');},false);media.addEventListener('playing',function(){togglePlayPause('play');},false);media.addEventListener('pause',function(){togglePlayPause('pse');},false);media.addEventListener('paused',function(){togglePlayPause('pse');},false);}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{stopText:'Stop'});$.extend(MediaElementPlayer.prototype,{buildstop:function(player,controls,layers,media){var t=this;$('<div class="mejs-button mejs-stop-button mejs-stop">'+
'<button type="button" aria-controls="'+t.id+'" title="'+t.options.stopText+'" aria-label="'+t.options.stopText+'"></button>'+
'</div>').appendTo(controls).click(function(){if(!media.paused){media.pause();}
if(media.currentTime>0){media.setCurrentTime(0);media.pause();controls.find('.mejs-time-current').width('0px');controls.find('.mejs-time-handle').css('left','0px');controls.find('.mejs-time-float-current').html(mejs.Utility.secondsToTimeCode(0,player.options));controls.find('.mejs-currenttime').html(mejs.Utility.secondsToTimeCode(0,player.options));layers.find('.mejs-poster').show();}});}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{enableProgressTooltip:true,progressHelpText:''});$.extend(MediaElementPlayer.prototype,{buildprogress:function(player,controls,layers,media){var
t=this,mouseIsDown=false,mouseIsOver=false,lastKeyPressTime=0,startedPaused=false,autoRewindInitial=player.options.autoRewind,progressTitle=t.options.progressHelpText?t.options.progressHelpText:mejs.i18n.t('mejs.time-help-text'),tooltip=player.options.enableProgressTooltip?'<span class="mejs-time-float">'+
'<span class="mejs-time-float-current">00:00</span>'+
'<span class="mejs-time-float-corner"></span>'+
'</span>':"";$('<div class="mejs-time-rail">'+
'<span  class="mejs-time-total mejs-time-slider">'+
'<span class="mejs-time-buffering"></span>'+
'<span class="mejs-time-loaded"></span>'+
'<span class="mejs-time-current"></span>'+
'<span class="mejs-time-handle"></span>'+
tooltip+
'</span>'+
'</div>').appendTo(controls);controls.find('.mejs-time-buffering').hide();t.total=controls.find('.mejs-time-total');t.loaded=controls.find('.mejs-time-loaded');t.current=controls.find('.mejs-time-current');t.handle=controls.find('.mejs-time-handle');t.timefloat=controls.find('.mejs-time-float');t.timefloatcurrent=controls.find('.mejs-time-float-current');t.slider=controls.find('.mejs-time-slider');var handleMouseMove=function(e){var offset=t.total.offset(),width=t.total.width(),percentage=0,newTime=0,pos=0,x;if(e.originalEvent&&e.originalEvent.changedTouches){x=e.originalEvent.changedTouches[0].pageX;}else if(e.changedTouches){x=e.changedTouches[0].pageX;}else{x=e.pageX;}
if(media.duration){if(x<offset.left){x=offset.left;}else if(x>width+offset.left){x=width+offset.left;}
pos=x-offset.left;percentage=(pos/width);newTime=(percentage<=0.02)?0:percentage*media.duration;if(mouseIsDown&&newTime!==media.currentTime){media.setCurrentTime(newTime);}
if(!mejs.MediaFeatures.hasTouch){t.timefloat.css('left',pos);t.timefloatcurrent.html(mejs.Utility.secondsToTimeCode(newTime,player.options));t.timefloat.show();}}},updateSlider=function(e){var seconds=media.currentTime,timeSliderText=mejs.i18n.t('mejs.time-slider'),time=mejs.Utility.secondsToTimeCode(seconds,player.options),duration=media.duration;t.slider.attr({'aria-label':timeSliderText,'aria-valuemin':0,'aria-valuemax':duration,'aria-valuenow':seconds,'aria-valuetext':time,'role':'slider','tabindex':0});},restartPlayer=function(){var now=new Date();if(now-lastKeyPressTime>=1000){media.play();}};t.slider.bind('focus',function(e){player.options.autoRewind=false;});t.slider.bind('blur',function(e){player.options.autoRewind=autoRewindInitial;});t.slider.bind('keydown',function(e){if((new Date()-lastKeyPressTime)>=1000){startedPaused=media.paused;}
var keyCode=e.keyCode,duration=media.duration,seekTime=media.currentTime,seekForward=player.options.defaultSeekForwardInterval(media),seekBackward=player.options.defaultSeekBackwardInterval(media);switch(keyCode){case 37:case 40:seekTime-=seekBackward;break;case 39:case 38:seekTime+=seekForward;break;case 36:seekTime=0;break;case 35:seekTime=duration;break;case 32:case 13:media.paused?media.play():media.pause();return;default:return;}
seekTime=seekTime<0?0:(seekTime>=duration?duration:Math.floor(seekTime));lastKeyPressTime=new Date();if(!startedPaused){media.pause();}
if(seekTime<media.duration&&!startedPaused){setTimeout(restartPlayer,1100);}
media.setCurrentTime(seekTime);e.preventDefault();e.stopPropagation();return false;});t.total.bind('mousedown touchstart',function(e){if(e.which===1||e.which===0){mouseIsDown=true;handleMouseMove(e);t.globalBind('mousemove.dur touchmove.dur',function(e){handleMouseMove(e);});t.globalBind('mouseup.dur touchend.dur',function(e){mouseIsDown=false;if(typeof t.timefloat!=='undefined'){t.timefloat.hide();}
t.globalUnbind('.dur');});}}).bind('mouseenter',function(e){mouseIsOver=true;t.globalBind('mousemove.dur',function(e){handleMouseMove(e);});if(typeof t.timefloat!=='undefined'&&!mejs.MediaFeatures.hasTouch){t.timefloat.show();}}).bind('mouseleave',function(e){mouseIsOver=false;if(!mouseIsDown){t.globalUnbind('.dur');if(typeof t.timefloat!=='undefined'){t.timefloat.hide();}}});media.addEventListener('progress',function(e){player.setProgressRail(e);player.setCurrentRail(e);},false);media.addEventListener('timeupdate',function(e){player.setProgressRail(e);player.setCurrentRail(e);updateSlider(e);},false);t.container.on('controlsresize',function(e){player.setProgressRail(e);player.setCurrentRail(e);});},setProgressRail:function(e){var
t=this,target=(e!==undefined)?e.target:t.media,percent=null;if(target&&target.buffered&&target.buffered.length>0&&target.buffered.end&&target.duration){percent=target.buffered.end(target.buffered.length-1)/target.duration;}
else if(target&&target.bytesTotal!==undefined&&target.bytesTotal>0&&target.bufferedBytes!==undefined){percent=target.bufferedBytes/target.bytesTotal;}
else if(e&&e.lengthComputable&&e.total!==0){percent=e.loaded/e.total;}
if(percent!==null){percent=Math.min(1,Math.max(0,percent));if(t.loaded&&t.total){t.loaded.width(t.total.width()*percent);}}},setCurrentRail:function(){var t=this;if(t.media.currentTime!==undefined&&t.media.duration){if(t.total&&t.handle){var
newWidth=Math.round(t.total.width()*t.media.currentTime/t.media.duration),handlePos=newWidth-Math.round(t.handle.outerWidth(true)/2);t.current.width(newWidth);t.handle.css('left',handlePos);}}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:'<span> | </span>'});$.extend(MediaElementPlayer.prototype,{buildcurrent:function(player,controls,layers,media){var t=this;$('<div class="mejs-time" role="timer" aria-live="off">'+
'<span class="mejs-currenttime">'+
mejs.Utility.secondsToTimeCode(0,player.options)+
'</span>'+
'</div>').appendTo(controls);t.currenttime=t.controls.find('.mejs-currenttime');media.addEventListener('timeupdate',function(){if(t.controlsAreVisible){player.updateCurrent();}},false);},buildduration:function(player,controls,layers,media){var t=this;if(controls.children().last().find('.mejs-currenttime').length>0){$(t.options.timeAndDurationSeparator+
'<span class="mejs-duration">'+
mejs.Utility.secondsToTimeCode(t.options.duration,t.options)+
'</span>').appendTo(controls.find('.mejs-time'));}else{controls.find('.mejs-currenttime').parent().addClass('mejs-currenttime-container');$('<div class="mejs-time mejs-duration-container">'+
'<span class="mejs-duration">'+
mejs.Utility.secondsToTimeCode(t.options.duration,t.options)+
'</span>'+
'</div>').appendTo(controls);}
t.durationD=t.controls.find('.mejs-duration');media.addEventListener('timeupdate',function(){if(t.controlsAreVisible){player.updateDuration();}},false);},updateCurrent:function(){var t=this;var currentTime=t.media.currentTime;if(isNaN(currentTime)){currentTime=0;}
if(t.currenttime){t.currenttime.html(mejs.Utility.secondsToTimeCode(currentTime,t.options));}},updateDuration:function(){var t=this;var duration=t.media.duration;if(t.options.duration>0){duration=t.options.duration;}
if(isNaN(duration)){duration=0;}
t.container.toggleClass("mejs-long-video",duration>3600);if(t.durationD&&duration>0){t.durationD.html(mejs.Utility.secondsToTimeCode(duration,t.options));}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{muteText:mejs.i18n.t('mejs.mute-toggle'),allyVolumeControlText:mejs.i18n.t('mejs.volume-help-text'),hideVolumeOnTouchDevices:true,audioVolume:'horizontal',videoVolume:'vertical'});$.extend(MediaElementPlayer.prototype,{buildvolume:function(player,controls,layers,media){if((mejs.MediaFeatures.isAndroid||mejs.MediaFeatures.isiOS)&&this.options.hideVolumeOnTouchDevices)
return;var t=this,mode=(t.isVideo)?t.options.videoVolume:t.options.audioVolume,mute=(mode=='horizontal')?$('<div class="mejs-button mejs-volume-button mejs-mute">'+
'<button type="button" aria-controls="'+t.id+
'" title="'+t.options.muteText+
'" aria-label="'+t.options.muteText+
'"></button>'+
'</div>'+
'<a href="javascript:void(0);" class="mejs-horizontal-volume-slider">'+
'<span class="mejs-offscreen">'+t.options.allyVolumeControlText+'</span>'+
'<div class="mejs-horizontal-volume-total"></div>'+
'<div class="mejs-horizontal-volume-current"></div>'+
'<div class="mejs-horizontal-volume-handle"></div>'+
'</a>').appendTo(controls):$('<div class="mejs-button mejs-volume-button mejs-mute">'+
'<button type="button" aria-controls="'+t.id+
'" title="'+t.options.muteText+
'" aria-label="'+t.options.muteText+
'"></button>'+
'<a href="javascript:void(0);" class="mejs-volume-slider">'+
'<span class="mejs-offscreen">'+t.options.allyVolumeControlText+'</span>'+
'<div class="mejs-volume-total"></div>'+
'<div class="mejs-volume-current"></div>'+
'<div class="mejs-volume-handle"></div>'+
'</a>'+
'</div>').appendTo(controls),volumeSlider=t.container.find('.mejs-volume-slider, .mejs-horizontal-volume-slider'),volumeTotal=t.container.find('.mejs-volume-total, .mejs-horizontal-volume-total'),volumeCurrent=t.container.find('.mejs-volume-current, .mejs-horizontal-volume-current'),volumeHandle=t.container.find('.mejs-volume-handle, .mejs-horizontal-volume-handle'),positionVolumeHandle=function(volume,secondTry){if(!volumeSlider.is(':visible')&&typeof secondTry=='undefined'){volumeSlider.show();positionVolumeHandle(volume,true);volumeSlider.hide();return;}
volume=Math.max(0,volume);volume=Math.min(volume,1);if(volume===0){mute.removeClass('mejs-mute').addClass('mejs-unmute');mute.children('button').attr('title',mejs.i18n.t('mejs.unmute')).attr('aria-label',mejs.i18n.t('mejs.unmute'));}else{mute.removeClass('mejs-unmute').addClass('mejs-mute');mute.children('button').attr('title',mejs.i18n.t('mejs.mute')).attr('aria-label',mejs.i18n.t('mejs.mute'));}
var totalPosition=volumeTotal.position();if(mode=='vertical'){var
totalHeight=volumeTotal.height(),newTop=totalHeight-(totalHeight*volume);volumeHandle.css('top',Math.round(totalPosition.top+newTop-(volumeHandle.height()/2)));volumeCurrent.height(totalHeight-newTop);volumeCurrent.css('top',totalPosition.top+newTop);}else{var
totalWidth=volumeTotal.width(),newLeft=totalWidth*volume;volumeHandle.css('left',Math.round(totalPosition.left+newLeft-(volumeHandle.width()/2)));volumeCurrent.width(Math.round(newLeft));}},handleVolumeMove=function(e){var volume=null,totalOffset=volumeTotal.offset();if(mode==='vertical'){var
railHeight=volumeTotal.height(),newY=e.pageY-totalOffset.top;volume=(railHeight-newY)/railHeight;if(totalOffset.top===0||totalOffset.left===0){return;}}else{var
railWidth=volumeTotal.width(),newX=e.pageX-totalOffset.left;volume=newX/railWidth;}
volume=Math.max(0,volume);volume=Math.min(volume,1);positionVolumeHandle(volume);if(volume===0){media.setMuted(true);}else{media.setMuted(false);}
media.setVolume(volume);},mouseIsDown=false,mouseIsOver=false;mute.hover(function(){volumeSlider.show();mouseIsOver=true;},function(){mouseIsOver=false;if(!mouseIsDown&&mode=='vertical'){volumeSlider.hide();}});var updateVolumeSlider=function(e){var volume=Math.floor(media.volume*100);volumeSlider.attr({'aria-label':mejs.i18n.t('mejs.volume-slider'),'aria-valuemin':0,'aria-valuemax':100,'aria-valuenow':volume,'aria-valuetext':volume+'%','role':'slider','tabindex':0});};volumeSlider.bind('mouseover',function(){mouseIsOver=true;}).bind('mousedown',function(e){handleVolumeMove(e);t.globalBind('mousemove.vol',function(e){handleVolumeMove(e);});t.globalBind('mouseup.vol',function(){mouseIsDown=false;t.globalUnbind('.vol');if(!mouseIsOver&&mode=='vertical'){volumeSlider.hide();}});mouseIsDown=true;return false;}).bind('keydown',function(e){var keyCode=e.keyCode;var volume=media.volume;switch(keyCode){case 38:volume=Math.min(volume+0.1,1);break;case 40:volume=Math.max(0,volume-0.1);break;default:return true;}
mouseIsDown=false;positionVolumeHandle(volume);media.setVolume(volume);return false;});mute.find('button').click(function(){media.setMuted(!media.muted);});mute.find('button').bind('focus',function(){volumeSlider.show();});media.addEventListener('volumechange',function(e){if(!mouseIsDown){if(media.muted){positionVolumeHandle(0);mute.removeClass('mejs-mute').addClass('mejs-unmute');}else{positionVolumeHandle(media.volume);mute.removeClass('mejs-unmute').addClass('mejs-mute');}}
updateVolumeSlider(e);},false);if(player.options.startVolume===0){media.setMuted(true);}
if(media.pluginType==='native'){media.setVolume(player.options.startVolume);}
t.container.on('controlsresize',function(){if(media.muted){positionVolumeHandle(0);mute.removeClass('mejs-mute').addClass('mejs-unmute');}else{positionVolumeHandle(media.volume);mute.removeClass('mejs-unmute').addClass('mejs-mute');}});}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return '';},fullscreenText:''});$.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,isInIframe:false,fullscreenMode:'',buildfullscreen:function(player,controls,layers,media){if(!player.isVideo)
return;player.isInIframe=(window.location!=window.parent.location);media.addEventListener('loadstart',function(){player.detectFullscreenMode();});var t=this,hideTimeout=null,fullscreenTitle=t.options.fullscreenText?t.options.fullscreenText:mejs.i18n.t('mejs.fullscreen'),fullscreenBtn=$('<div class="mejs-button mejs-fullscreen-button">'+
'<button type="button" aria-controls="'+t.id+'" title="'+fullscreenTitle+'" aria-label="'+fullscreenTitle+'"></button>'+
'</div>').appendTo(controls).on('click',function(){var isFullScreen=(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||player.isFullScreen;if(isFullScreen){player.exitFullScreen();}else{player.enterFullScreen();}}).on('mouseover',function(){if(t.fullscreenMode=='plugin-hover'){if(hideTimeout!==null){clearTimeout(hideTimeout);delete hideTimeout;}
var buttonPos=fullscreenBtn.offset(),containerPos=player.container.offset();media.positionFullscreenButton(buttonPos.left-containerPos.left,buttonPos.top-containerPos.top,true);}}).on('mouseout',function(){if(t.fullscreenMode=='plugin-hover'){if(hideTimeout!==null){clearTimeout(hideTimeout);delete hideTimeout;}
hideTimeout=setTimeout(function(){media.hideFullscreenButton();},1500);}});player.fullscreenBtn=fullscreenBtn;t.globalBind('keydown',function(e){if(e.keyCode==27&&((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||t.isFullScreen)){player.exitFullScreen();}});t.normalHeight=0;t.normalWidth=0;if(mejs.MediaFeatures.hasTrueNativeFullScreen){var fullscreenChanged=function(e){if(player.isFullScreen){if(mejs.MediaFeatures.isFullScreen()){player.isNativeFullScreen=true;player.setControlsSize();}else{player.isNativeFullScreen=false;player.exitFullScreen();}}};player.globalBind(mejs.MediaFeatures.fullScreenEventName,fullscreenChanged);}},detectFullscreenMode:function(){var t=this,mode='',features=mejs.MediaFeatures;if(features.hasTrueNativeFullScreen&&t.media.pluginType==='native'){mode='native-native';}else if(features.hasTrueNativeFullScreen&&t.media.pluginType!=='native'&&!features.hasFirefoxPluginMovingProblem){mode='plugin-native';}else if(t.usePluginFullScreen){if(mejs.MediaFeatures.supportsPointerEvents){mode='plugin-click';t.createPluginClickThrough();}else{mode='plugin-hover';}}else{mode='fullwindow';}
t.fullscreenMode=mode;return mode;},isPluginClickThroughCreated:false,createPluginClickThrough:function(){var t=this;if(t.isPluginClickThroughCreated){return;}
var fullscreenIsDisabled=false,restoreControls=function(){if(fullscreenIsDisabled){for(var i in hoverDivs){hoverDivs[i].hide();}
t.fullscreenBtn.css('pointer-events','');t.controls.css('pointer-events','');t.media.removeEventListener('click',t.clickToPlayPauseCallback);fullscreenIsDisabled=false;}},hoverDivs={},hoverDivNames=['top','left','right','bottom'],i,len,positionHoverDivs=function(){var fullScreenBtnOffsetLeft=fullscreenBtn.offset().left-t.container.offset().left,fullScreenBtnOffsetTop=fullscreenBtn.offset().top-t.container.offset().top,fullScreenBtnWidth=fullscreenBtn.outerWidth(true),fullScreenBtnHeight=fullscreenBtn.outerHeight(true),containerWidth=t.container.width(),containerHeight=t.container.height();for(i in hoverDivs){hoverDivs[i].css({position:'absolute',top:0,left:0});}
hoverDivs['top'].width(containerWidth).height(fullScreenBtnOffsetTop);hoverDivs['left'].width(fullScreenBtnOffsetLeft).height(fullScreenBtnHeight).css({top:fullScreenBtnOffsetTop});hoverDivs['right'].width(containerWidth-fullScreenBtnOffsetLeft-fullScreenBtnWidth).height(fullScreenBtnHeight).css({top:fullScreenBtnOffsetTop,left:fullScreenBtnOffsetLeft+fullScreenBtnWidth});hoverDivs['bottom'].width(containerWidth).height(containerHeight-fullScreenBtnHeight-fullScreenBtnOffsetTop).css({top:fullScreenBtnOffsetTop+fullScreenBtnHeight});};t.globalBind('resize',function(){positionHoverDivs();});for(i=0,len=hoverDivNames.length;i<len;i++){hoverDivs[hoverDivNames[i]]=$('<div class="mejs-fullscreen-hover" />').appendTo(t.container).mouseover(restoreControls).hide();}
fullscreenBtn.on('mouseover',function(){if(!t.isFullScreen){var buttonPos=fullscreenBtn.offset(),containerPos=player.container.offset();media.positionFullscreenButton(buttonPos.left-containerPos.left,buttonPos.top-containerPos.top,false);t.fullscreenBtn.css('pointer-events','none');t.controls.css('pointer-events','none');t.media.addEventListener('click',t.clickToPlayPauseCallback);for(i in hoverDivs){hoverDivs[i].show();}
positionHoverDivs();fullscreenIsDisabled=true;}});media.addEventListener('fullscreenchange',function(e){t.isFullScreen=!t.isFullScreen;if(t.isFullScreen){t.media.removeEventListener('click',t.clickToPlayPauseCallback);}else{t.media.addEventListener('click',t.clickToPlayPauseCallback);}
restoreControls();});t.globalBind('mousemove',function(e){if(fullscreenIsDisabled){var fullscreenBtnPos=fullscreenBtn.offset();if(e.pageY<fullscreenBtnPos.top||e.pageY>fullscreenBtnPos.top+fullscreenBtn.outerHeight(true)||e.pageX<fullscreenBtnPos.left||e.pageX>fullscreenBtnPos.left+fullscreenBtn.outerWidth(true)){fullscreenBtn.css('pointer-events','');t.controls.css('pointer-events','');fullscreenIsDisabled=false;}}});t.isPluginClickThroughCreated=true;},cleanfullscreen:function(player){player.exitFullScreen();},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if(mejs.MediaFeatures.isiOS&&mejs.MediaFeatures.hasiOSFullScreen&&typeof t.media.webkitEnterFullscreen==='function'){t.media.webkitEnterFullscreen();return;}
$(document.documentElement).addClass('mejs-fullscreen');t.normalHeight=t.container.height();t.normalWidth=t.container.width();if(t.fullscreenMode==='native-native'||t.fullscreenMode==='plugin-native'){mejs.MediaFeatures.requestFullScreen(t.container[0]);if(t.isInIframe){setTimeout(function checkFullscreen(){if(t.isNativeFullScreen){var percentErrorMargin=0.002,windowWidth=$(window).width(),screenWidth=screen.width,absDiff=Math.abs(screenWidth-windowWidth),marginError=screenWidth*percentErrorMargin;if(absDiff>marginError){t.exitFullScreen();}else{setTimeout(checkFullscreen,500);}}},1000);}}else if(t.fullscreeMode=='fullwindow'){}
t.container.addClass('mejs-container-fullscreen').width('100%').height('100%');t.containerSizeTimeout=setTimeout(function(){t.container.css({width:'100%',height:'100%'});t.setControlsSize();},500);if(t.media.pluginType==='native'){t.$media.width('100%').height('100%');}else{t.container.find('.mejs-shim').width('100%').height('100%');setTimeout(function(){var win=$(window),winW=win.width(),winH=win.height();t.media.setVideoSize(winW,winH);},500);}
t.layers.children('div').width('100%').height('100%');if(t.fullscreenBtn){t.fullscreenBtn.removeClass('mejs-fullscreen').addClass('mejs-unfullscreen');}
t.setControlsSize();t.isFullScreen=true;var zoomFactor=Math.min(screen.width/t.width,screen.height/t.height);t.container.find('.mejs-captions-text').css('font-size',zoomFactor*100+'%');t.container.find('.mejs-captions-text').css('line-height','normal');t.container.find('.mejs-captions-position').css('bottom','45px');t.container.trigger('enteredfullscreen');},exitFullScreen:function(){var t=this;clearTimeout(t.containerSizeTimeout);if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)){mejs.MediaFeatures.cancelFullScreen();}
$(document.documentElement).removeClass('mejs-fullscreen');t.container.removeClass('mejs-container-fullscreen').width(t.normalWidth).height(t.normalHeight);if(t.media.pluginType==='native'){t.$media.width(t.normalWidth).height(t.normalHeight);}else{t.container.find('.mejs-shim').width(t.normalWidth).height(t.normalHeight);t.media.setVideoSize(t.normalWidth,t.normalHeight);}
t.layers.children('div').width(t.normalWidth).height(t.normalHeight);t.fullscreenBtn.removeClass('mejs-unfullscreen').addClass('mejs-fullscreen');t.setControlsSize();t.isFullScreen=false;t.container.find('.mejs-captions-text').css('font-size','');t.container.find('.mejs-captions-text').css('line-height','');t.container.find('.mejs-captions-position').css('bottom','');t.container.trigger('exitedfullscreen');}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{speeds:['2.00','1.50','1.25','1.00','0.75'],defaultSpeed:'1.00',speedChar:'x'});$.extend(MediaElementPlayer.prototype,{buildspeed:function(player,controls,layers,media){var t=this;if(t.media.pluginType=='native'){var
speedButton=null,speedSelector=null,playbackSpeed=null,inputId=null;var speeds=[];var defaultInArray=false;for(var i=0,len=t.options.speeds.length;i<len;i++){var s=t.options.speeds[i];if(typeof(s)==='string'){speeds.push({name:s+t.options.speedChar,value:s});if(s===t.options.defaultSpeed){defaultInArray=true;}}
else{speeds.push(s);if(s.value===t.options.defaultSpeed){defaultInArray=true;}}}
if(!defaultInArray){speeds.push({name:t.options.defaultSpeed+t.options.speedChar,value:t.options.defaultSpeed});}
speeds.sort(function(a,b){return parseFloat(b.value)-parseFloat(a.value);});var getSpeedNameFromValue=function(value){for(i=0,len=speeds.length;i<len;i++){if(speeds[i].value===value){return speeds[i].name;}}};var html='<div class="mejs-button mejs-speed-button">'+
'<button type="button">'+getSpeedNameFromValue(t.options.defaultSpeed)+'</button>'+
'<div class="mejs-speed-selector">'+
'<ul>';for(i=0,il=speeds.length;i<il;i++){inputId=t.id+'-speed-'+speeds[i].value;html+='<li>'+
'<input type="radio" name="speed" '+
'value="'+speeds[i].value+'" '+
'id="'+inputId+'" '+
(speeds[i].value===t.options.defaultSpeed?' checked':'')+
' />'+
'<label for="'+inputId+'" '+
(speeds[i].value===t.options.defaultSpeed?' class="mejs-speed-selected"':'')+
'>'+speeds[i].name+'</label>'+
'</li>';}
html+='</ul></div></div>';speedButton=$(html).appendTo(controls);speedSelector=speedButton.find('.mejs-speed-selector');playbackSpeed=t.options.defaultSpeed;media.addEventListener('loadedmetadata',function(e){if(playbackSpeed){media.playbackRate=parseFloat(playbackSpeed);}},true);speedSelector.on('click','input[type="radio"]',function(){var newSpeed=$(this).attr('value');playbackSpeed=newSpeed;media.playbackRate=parseFloat(newSpeed);speedButton.find('button').html(getSpeedNameFromValue(newSpeed));speedButton.find('.mejs-speed-selected').removeClass('mejs-speed-selected');speedButton.find('input[type="radio"]:checked').next().addClass('mejs-speed-selected');});speedButton.one('mouseenter focusin',function(){speedSelector.height(speedButton.find('.mejs-speed-selector ul').outerHeight(true)+
speedButton.find('.mejs-speed-translations').outerHeight(true)).css('top',(-1*speedSelector.height())+'px');});}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{startLanguage:'',tracksText:'',tracksAriaLive:false,hideCaptionsButtonWhenEmpty:true,toggleCaptionsButtonWhenOnlyOne:false,slidesSelector:''});$.extend(MediaElementPlayer.prototype,{hasChapters:false,cleartracks:function(player,controls,layers,media){if(player){if(player.captions)player.captions.remove();if(player.chapters)player.chapters.remove();if(player.captionsText)player.captionsText.remove();if(player.captionsButton)player.captionsButton.remove();}},buildtracks:function(player,controls,layers,media){if(player.tracks.length===0)
return;var t=this,attr=t.options.tracksAriaLive?'role="log" aria-live="assertive" aria-atomic="false"':'',tracksTitle=t.options.tracksText?t.options.tracksText:mejs.i18n.t('mejs.captions-subtitles'),i,kind;if(t.domNode.textTracks){for(i=t.domNode.textTracks.length-1;i>=0;i--){t.domNode.textTracks[i].mode="hidden";}}
t.cleartracks(player,controls,layers,media);player.chapters=$('<div class="mejs-chapters mejs-layer"></div>').prependTo(layers).hide();player.captions=$('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover" '+
attr+'><span class="mejs-captions-text"></span></div></div>').prependTo(layers).hide();player.captionsText=player.captions.find('.mejs-captions-text');player.captionsButton=$('<div class="mejs-button mejs-captions-button">'+
'<button type="button" aria-controls="'+t.id+'" title="'+tracksTitle+'" aria-label="'+tracksTitle+'"></button>'+
'<div class="mejs-captions-selector">'+
'<ul>'+
'<li>'+
'<input type="radio" name="'+player.id+'_captions" id="'+player.id+'_captions_none" value="none" checked="checked" />'+
'<label for="'+player.id+'_captions_none">'+mejs.i18n.t('mejs.none')+'</label>'+
'</li>'+
'</ul>'+
'</div>'+
'</div>').appendTo(controls);var subtitleCount=0;for(i=0;i<player.tracks.length;i++){kind=player.tracks[i].kind;if(kind==='subtitles'||kind==='captions'){subtitleCount++;}}
if(t.options.toggleCaptionsButtonWhenOnlyOne&&subtitleCount==1){player.captionsButton.on('click',function(){if(player.selectedTrack===null){lang=player.tracks[0].srclang;}else{lang='none';}
player.setTrack(lang);});}else{player.captionsButton.on('mouseenter focusin',function(){$(this).find('.mejs-captions-selector').removeClass('mejs-offscreen');}).on('click','input[type=radio]',function(){lang=this.value;player.setTrack(lang);});player.captionsButton.on('mouseleave focusout',function(){$(this).find(".mejs-captions-selector").addClass("mejs-offscreen");});}
if(!player.options.alwaysShowControls){player.container.bind('controlsshown',function(){player.container.find('.mejs-captions-position').addClass('mejs-captions-position-hover');}).bind('controlshidden',function(){if(!media.paused){player.container.find('.mejs-captions-position').removeClass('mejs-captions-position-hover');}});}else{player.container.find('.mejs-captions-position').addClass('mejs-captions-position-hover');}
player.trackToLoad=-1;player.selectedTrack=null;player.isLoadingTrack=false;for(i=0;i<player.tracks.length;i++){kind=player.tracks[i].kind;if(kind==='subtitles'||kind==='captions'){player.addTrackButton(player.tracks[i].srclang,player.tracks[i].label);}}
player.loadNextTrack();media.addEventListener('timeupdate',function(){player.displayCaptions();},false);if(player.options.slidesSelector!==''){player.slidesContainer=$(player.options.slidesSelector);media.addEventListener('timeupdate',function(){player.displaySlides();},false);}
media.addEventListener('loadedmetadata',function(){player.displayChapters();},false);player.container.hover(function(){if(player.hasChapters){player.chapters.removeClass('mejs-offscreen');player.chapters.fadeIn(200).height(player.chapters.find('.mejs-chapter').outerHeight());}},function(){if(player.hasChapters&&!media.paused){player.chapters.fadeOut(200,function(){$(this).addClass('mejs-offscreen');$(this).css('display','block');});}});t.container.on('controlsresize',function(){t.adjustLanguageBox();});if(player.node.getAttribute('autoplay')!==null){player.chapters.addClass('mejs-offscreen');}},setTrack:function(lang){var t=this,i;if(lang=='none'){t.selectedTrack=null;t.captionsButton.removeClass('mejs-captions-enabled');}else{for(i=0;i<t.tracks.length;i++){if(t.tracks[i].srclang==lang){if(t.selectedTrack===null)
t.captionsButton.addClass('mejs-captions-enabled');t.selectedTrack=t.tracks[i];t.captions.attr('lang',t.selectedTrack.srclang);t.displayCaptions();break;}}}},loadNextTrack:function(){var t=this;t.trackToLoad++;if(t.trackToLoad<t.tracks.length){t.isLoadingTrack=true;t.loadTrack(t.trackToLoad);}else{t.isLoadingTrack=false;t.checkForTracks();}},loadTrack:function(index){var
t=this,track=t.tracks[index],after=function(){track.isLoaded=true;t.enableTrackButton(track.srclang,track.label);t.loadNextTrack();};if(track.src!==undefined||track.src!==""){$.ajax({url:track.src,dataType:"text",success:function(d){if(typeof d=="string"&&(/<tt\s+xml/ig).exec(d)){track.entries=mejs.TrackFormatParser.dfxp.parse(d);}else{track.entries=mejs.TrackFormatParser.webvtt.parse(d);}
after();if(track.kind=='chapters'){t.media.addEventListener('play',function(){if(t.media.duration>0){t.displayChapters(track);}},false);}
if(track.kind=='slides'){t.setupSlides(track);}},error:function(){t.removeTrackButton(track.srclang);t.loadNextTrack();}});}},enableTrackButton:function(lang,label){var t=this;if(label===''){label=mejs.language.codes[lang]||lang;}
t.captionsButton.find('input[value='+lang+']').prop('disabled',false).siblings('label').html(label);if(t.options.startLanguage==lang){$('#'+t.id+'_captions_'+lang).prop('checked',true).trigger('click');}
t.adjustLanguageBox();},removeTrackButton:function(lang){var t=this;t.captionsButton.find('input[value='+lang+']').closest('li').remove();t.adjustLanguageBox();},addTrackButton:function(lang,label){var t=this;if(label===''){label=mejs.language.codes[lang]||lang;}
t.captionsButton.find('ul').append($('<li>'+
'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_'+lang+'" value="'+lang+'" disabled="disabled" />'+
'<label for="'+t.id+'_captions_'+lang+'">'+label+' (loading)'+'</label>'+
'</li>'));t.adjustLanguageBox();t.container.find('.mejs-captions-translations option[value='+lang+']').remove();},adjustLanguageBox:function(){var t=this;t.captionsButton.find('.mejs-captions-selector').height(t.captionsButton.find('.mejs-captions-selector ul').outerHeight(true)+
t.captionsButton.find('.mejs-captions-translations').outerHeight(true));},checkForTracks:function(){var
t=this,hasSubtitles=false;if(t.options.hideCaptionsButtonWhenEmpty){for(var i=0;i<t.tracks.length;i++){var kind=t.tracks[i].kind;if((kind==='subtitles'||kind==='captions')&&t.tracks[i].isLoaded){hasSubtitles=true;break;}}
if(!hasSubtitles){t.captionsButton.hide();t.setControlsSize();}}},displayCaptions:function(){if(typeof this.tracks=='undefined')
return;var
t=this,i,track=t.selectedTrack;if(track!==null&&track.isLoaded){for(i=0;i<track.entries.times.length;i++){if(t.media.currentTime>=track.entries.times[i].start&&t.media.currentTime<=track.entries.times[i].stop){t.captionsText.html(track.entries.text[i]).attr('class','mejs-captions-text '+(track.entries.times[i].identifier||''));t.captions.show().height(0);return;}}
t.captions.hide();}else{t.captions.hide();}},setupSlides:function(track){var t=this;t.slides=track;t.slides.entries.imgs=[t.slides.entries.text.length];t.showSlide(0);},showSlide:function(index){if(typeof this.tracks=='undefined'||typeof this.slidesContainer=='undefined'){return;}
var t=this,url=t.slides.entries.text[index],img=t.slides.entries.imgs[index];if(typeof img=='undefined'||typeof img.fadeIn=='undefined'){t.slides.entries.imgs[index]=img=$('<img src="'+url+'">').on('load',function(){img.appendTo(t.slidesContainer).hide().fadeIn().siblings(':visible').fadeOut();});}else{if(!img.is(':visible')&&!img.is(':animated')){img.fadeIn().siblings(':visible').fadeOut();}}},displaySlides:function(){if(typeof this.slides=='undefined')
return;var
t=this,slides=t.slides,i;for(i=0;i<slides.entries.times.length;i++){if(t.media.currentTime>=slides.entries.times[i].start&&t.media.currentTime<=slides.entries.times[i].stop){t.showSlide(i);return;}}},displayChapters:function(){var
t=this,i;for(i=0;i<t.tracks.length;i++){if(t.tracks[i].kind=='chapters'&&t.tracks[i].isLoaded){t.drawChapters(t.tracks[i]);t.hasChapters=true;break;}}},drawChapters:function(chapters){var
t=this,i,dur,percent=0,usedPercent=0;t.chapters.empty();for(i=0;i<chapters.entries.times.length;i++){dur=chapters.entries.times[i].stop-chapters.entries.times[i].start;percent=Math.floor(dur/t.media.duration*100);if(percent+usedPercent>100||i==chapters.entries.times.length-1&&percent+usedPercent<100)
{percent=100-usedPercent;}
t.chapters.append($('<div class="mejs-chapter" rel="'+chapters.entries.times[i].start+'" style="left: '+usedPercent.toString()+'%;width: '+percent.toString()+'%;">'+
'<div class="mejs-chapter-block'+((i==chapters.entries.times.length-1)?' mejs-chapter-block-last':'')+'">'+
'<span class="ch-title">'+chapters.entries.text[i]+'</span>'+
'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(chapters.entries.times[i].start,t.options)+'&ndash;'+mejs.Utility.secondsToTimeCode(chapters.entries.times[i].stop,t.options)+'</span>'+
'</div>'+
'</div>'));usedPercent+=percent;}
t.chapters.find('div.mejs-chapter').click(function(){t.media.setCurrentTime(parseFloat($(this).attr('rel')));if(t.media.paused){t.media.play();}});t.chapters.show();}});mejs.language={codes:{af:'Afrikaans',sq:'Albanian',ar:'Arabic',be:'Belarusian',bg:'Bulgarian',ca:'Catalan',zh:'Chinese','zh-cn':'Chinese Simplified','zh-tw':'Chinese Traditional',hr:'Croatian',cs:'Czech',da:'Danish',nl:'Dutch',en:'English',et:'Estonian',fl:'Filipino',fi:'Finnish',fr:'French',gl:'Galician',de:'German',el:'Greek',ht:'Haitian Creole',iw:'Hebrew',hi:'Hindi',hu:'Hungarian',is:'Icelandic',id:'Indonesian',ga:'Irish',it:'Italian',ja:'Japanese',ko:'Korean',lv:'Latvian',lt:'Lithuanian',mk:'Macedonian',ms:'Malay',mt:'Maltese',no:'Norwegian',fa:'Persian',pl:'Polish',pt:'Portuguese',ro:'Romanian',ru:'Russian',sr:'Serbian',sk:'Slovak',sl:'Slovenian',es:'Spanish',sw:'Swahili',sv:'Swedish',tl:'Tagalog',th:'Thai',tr:'Turkish',uk:'Ukrainian',vi:'Vietnamese',cy:'Welsh',yi:'Yiddish'}};mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(trackText){var
i=0,lines=mejs.TrackFormatParser.split2(trackText,/\r?\n/),entries={text:[],times:[]},timecode,text,identifier;for(;i<lines.length;i++){timecode=this.pattern_timecode.exec(lines[i]);if(timecode&&i<lines.length){if((i-1)>=0&&lines[i-1]!==''){identifier=lines[i-1];}
i++;text=lines[i];i++;while(lines[i]!==''&&i<lines.length){text=text+'\n'+lines[i];i++;}
text=$.trim(text).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");entries.text.push(text);entries.times.push({identifier:identifier,start:(mejs.Utility.convertSMPTEtoSeconds(timecode[1])===0)?0.200:mejs.Utility.convertSMPTEtoSeconds(timecode[1]),stop:mejs.Utility.convertSMPTEtoSeconds(timecode[3]),settings:timecode[5]});}
identifier='';}
return entries;}},dfxp:{parse:function(trackText){trackText=$(trackText).filter("tt");var
i=0,container=trackText.children("div").eq(0),lines=container.find("p"),styleNode=trackText.find("#"+container.attr("style")),styles,text,entries={text:[],times:[]};if(styleNode.length){var attributes=styleNode.removeAttr("id").get(0).attributes;if(attributes.length){styles={};for(i=0;i<attributes.length;i++){styles[attributes[i].name.split(":")[1]]=attributes[i].value;}}}
for(i=0;i<lines.length;i++){var style;var _temp_times={start:null,stop:null,style:null};if(lines.eq(i).attr("begin"))_temp_times.start=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i).attr("begin"));if(!_temp_times.start&&lines.eq(i-1).attr("end"))_temp_times.start=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i-1).attr("end"));if(lines.eq(i).attr("end"))_temp_times.stop=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i).attr("end"));if(!_temp_times.stop&&lines.eq(i+1).attr("begin"))_temp_times.stop=mejs.Utility.convertSMPTEtoSeconds(lines.eq(i+1).attr("begin"));if(styles){style="";for(var _style in styles){style+=_style+":"+styles[_style]+";";}}
if(style)_temp_times.style=style;if(_temp_times.start===0)_temp_times.start=0.200;entries.times.push(_temp_times);text=$.trim(lines.eq(i).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");entries.text.push(text);}
return entries;}},split2:function(text,regex){return text.split(regex);}};if('x\n\ny'.split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(text,regex){var
parts=[],chunk='',i;for(i=0;i<text.length;i++){chunk+=text.substring(i,i+1);if(regex.test(chunk)){parts.push(chunk.replace(regex,''));chunk='';}}
parts.push(chunk);return parts;};}})(mejs.$);(function($){$.extend(mejs.MepDefaults,{sourcechooserText:''});$.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(player,controls,layers,media){var
t=this,sourceTitle=t.options.sourcechooserText?t.options.sourcechooserText:mejs.i18n.t('mejs.source-chooser'),hoverTimeout;player.sourcechooserButton=$('<div class="mejs-button mejs-sourcechooser-button">'+
'<button type="button" role="button" aria-haspopup="true" aria-owns="'+t.id+'" title="'+sourceTitle+'" aria-label="'+sourceTitle+'"></button>'+
'<div class="mejs-sourcechooser-selector mejs-offscreen" role="menu" aria-expanded="false" aria-hidden="true">'+
'<ul>'+
'</ul>'+
'</div>'+
'</div>').appendTo(controls).hover(function(){clearTimeout(hoverTimeout);player.showSourcechooserSelector();},function(){var self=$(this);hoverTimeout=setTimeout(function(){player.hideSourcechooserSelector();},500);}).on('keydown',function(e){var keyCode=e.keyCode;switch(keyCode){case 32:if(!mejs.MediaFeatures.isFirefox){player.showSourcechooserSelector();}
$(this).find('.mejs-sourcechooser-selector').find('input[type=radio]:checked').first().focus();break;case 13:player.showSourcechooserSelector();$(this).find('.mejs-sourcechooser-selector').find('input[type=radio]:checked').first().focus();break;case 27:player.hideSourcechooserSelector();$(this).find('button').focus();break;default:return true;}}).on('focusout',mejs.Utility.debounce(function(e){setTimeout(function(){var parent=$(document.activeElement).closest('.mejs-sourcechooser-selector');if(!parent.length){player.hideSourcechooserSelector();}},0);},100)).delegate('input[type=radio]','click',function(){$(this).attr('aria-selected',true).attr('checked','checked');$(this).closest('.mejs-sourcechooser-selector').find('input[type=radio]').not(this).attr('aria-selected','false').removeAttr('checked');var src=this.value;if(media.currentSrc!=src){var currentTime=media.currentTime;var paused=media.paused;media.pause();media.setSrc(src);media.addEventListener('loadedmetadata',function(e){media.currentTime=currentTime;},true);var canPlayAfterSourceSwitchHandler=function(e){if(!paused){media.play();}
media.removeEventListener("canplay",canPlayAfterSourceSwitchHandler,true);};media.addEventListener('canplay',canPlayAfterSourceSwitchHandler,true);media.load();}}).delegate('button','click',function(e){if($(this).siblings('.mejs-sourcechooser-selector').hasClass('mejs-offscreen')){player.showSourcechooserSelector();$(this).siblings('.mejs-sourcechooser-selector').find('input[type=radio]:checked').first().focus();}else{player.hideSourcechooserSelector();}});for(var i in this.node.children){var src=this.node.children[i];if(src.nodeName==='SOURCE'&&(media.canPlayType(src.type)=='probably'||media.canPlayType(src.type)=='maybe')){player.addSourceButton(src.src,src.title,src.type,media.src==src.src);}}},addSourceButton:function(src,label,type,isCurrent){var t=this;if(label===''||label==undefined){label=src;}
type=type.split('/')[1];t.sourcechooserButton.find('ul').append($('<li>'+
'<input type="radio" name="'+t.id+'_sourcechooser" id="'+t.id+'_sourcechooser_'+label+type+'" role="menuitemradio" value="'+src+'" '+(isCurrent?'checked="checked"':'')+'aria-selected="'+isCurrent+'"'+' />'+
'<label for="'+t.id+'_sourcechooser_'+label+type+'" aria-hidden="true">'+label+' ('+type+')</label>'+
'</li>'));t.adjustSourcechooserBox();},adjustSourcechooserBox:function(){var t=this;t.sourcechooserButton.find('.mejs-sourcechooser-selector').height(t.sourcechooserButton.find('.mejs-sourcechooser-selector ul').outerHeight(true));},hideSourcechooserSelector:function(){this.sourcechooserButton.find('.mejs-sourcechooser-selector').addClass('mejs-offscreen').attr('aria-expanded','false').attr('aria-hidden','true').find('input[type=radio]').attr('tabindex','-1');},showSourcechooserSelector:function(){this.sourcechooserButton.find('.mejs-sourcechooser-selector').removeClass('mejs-offscreen').attr('aria-expanded','true').attr('aria-hidden','false').find('input[type=radio]').attr('tabindex','0');}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{'contextMenuItems':[{render:function(player){if(typeof player.enterFullScreen=='undefined')
return null;if(player.isFullScreen){return mejs.i18n.t('mejs.fullscreen-off');}else{return mejs.i18n.t('mejs.fullscreen-on');}},click:function(player){if(player.isFullScreen){player.exitFullScreen();}else{player.enterFullScreen();}}},{render:function(player){if(player.media.muted){return mejs.i18n.t('mejs.unmute');}else{return mejs.i18n.t('mejs.mute');}},click:function(player){if(player.media.muted){player.setMuted(false);}else{player.setMuted(true);}}},{isSeparator:true},{render:function(player){return mejs.i18n.t('mejs.download-video');},click:function(player){window.location.href=player.media.currentSrc;}}]});$.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(player,controls,layers,media){player.contextMenu=$('<div class="mejs-contextmenu"></div>').appendTo($('body')).hide();player.container.bind('contextmenu',function(e){if(player.isContextMenuEnabled){e.preventDefault();player.renderContextMenu(e.clientX-1,e.clientY-1);return false;}});player.container.bind('click',function(){player.contextMenu.hide();});player.contextMenu.bind('mouseleave',function(){player.startContextMenuTimer();});},cleancontextmenu:function(player){player.contextMenu.remove();},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true;},disableContextMenu:function(){this.isContextMenuEnabled=false;},contextMenuTimeout:null,startContextMenuTimer:function(){var t=this;t.killContextMenuTimer();t.contextMenuTimer=setTimeout(function(){t.hideContextMenu();t.killContextMenuTimer();},750);},killContextMenuTimer:function(){var timer=this.contextMenuTimer;if(timer!=null){clearTimeout(timer);delete timer;timer=null;}},hideContextMenu:function(){this.contextMenu.hide();},renderContextMenu:function(x,y){var t=this,html='',items=t.options.contextMenuItems;for(var i=0,il=items.length;i<il;i++){if(items[i].isSeparator){html+='<div class="mejs-contextmenu-separator"></div>';}else{var rendered=items[i].render(t);if(rendered!=null){html+='<div class="mejs-contextmenu-item" data-itemindex="'+i+'" id="element-'+(Math.random()*1000000)+'">'+rendered+'</div>';}}}
t.contextMenu.empty().append($(html)).css({top:y,left:x}).show();t.contextMenu.find('.mejs-contextmenu-item').each(function(){var $dom=$(this),itemIndex=parseInt($dom.data('itemindex'),10),item=t.options.contextMenuItems[itemIndex];if(typeof item.show!='undefined')
item.show($dom,t);$dom.click(function(){if(typeof item.click!='undefined')
item.click(t);t.contextMenu.hide();});});setTimeout(function(){t.killControlsTimer('rev3');},100);}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{skipBackInterval:30,skipBackText:''});$.extend(MediaElementPlayer.prototype,{buildskipback:function(player,controls,layers,media){var
t=this,defaultTitle=mejs.i18n.t('mejs.time-skip-back',t.options.skipBackInterval),skipTitle=t.options.skipBackText?t.options.skipBackText:defaultTitle,loop=$('<div class="mejs-button mejs-skip-back-button">'+
'<button type="button" aria-controls="'+t.id+'" title="'+skipTitle+'" aria-label="'+skipTitle+'">'+t.options.skipBackInterval+'</button>'+
'</div>').appendTo(controls).click(function(){media.setCurrentTime(Math.max(media.currentTime-t.options.skipBackInterval,0));$(this).find('button').blur();});}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{postrollCloseText:''});$.extend(MediaElementPlayer.prototype,{buildpostroll:function(player,controls,layers,media){var
t=this,postrollTitle=t.options.postrollCloseText?t.options.postrollCloseText:mejs.i18n.t('mejs.close'),postrollLink=t.container.find('link[rel="postroll"]').attr('href');if(typeof postrollLink!=='undefined'){player.postroll=$('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+postrollTitle+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(layers).hide();t.media.addEventListener('ended',function(e){$.ajax({dataType:'html',url:postrollLink,success:function(data,textStatus){layers.find('.mejs-postroll-layer-content').html(data);}});player.postroll.show();},false);}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{markerColor:'#E9BC3D',markers:[],markerCallback:function(){}});$.extend(MediaElementPlayer.prototype,{buildmarkers:function(player,controls,layers,media){var t=this,i=0,currentPos=-1,currentMarker=-1,lastPlayPos=-1,lastMarkerCallBack=-1;for(i=0;i<player.options.markers.length;++i){controls.find('.mejs-time-total').append('<span class="mejs-time-marker"></span>');}
media.addEventListener('durationchange',function(e){player.setmarkers(controls);});media.addEventListener('timeupdate',function(e){currentPos=Math.floor(media.currentTime);if(lastPlayPos>currentPos){if(lastMarkerCallBack>currentPos){lastMarkerCallBack=-1;}}else{lastPlayPos=currentPos;}
for(i=0;i<player.options.markers.length;++i){currentMarker=Math.floor(player.options.markers[i]);if(currentPos===currentMarker&&currentMarker!==lastMarkerCallBack){player.options.markerCallback(media,media.currentTime);lastMarkerCallBack=currentMarker;}}},false);},setmarkers:function(controls){var t=this,i=0,left;for(i=0;i<t.options.markers.length;++i){if(Math.floor(t.options.markers[i])<=t.media.duration&&Math.floor(t.options.markers[i])>=0){left=100*Math.floor(t.options.markers[i])/t.media.duration;$(controls.find('.mejs-time-marker')[i]).css({"width":"1px","left":left+"%","background":t.options.markerColor});}}}});})(mejs.$);;(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.moment=factory()}(this,(function(){'use strict';var hookCallback;function hooks(){return hookCallback.apply(null,arguments);}
function setHookCallback(callback){hookCallback=callback;}
function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==='[object Array]';}
function isObject(input){return input!=null&&Object.prototype.toString.call(input)==='[object Object]';}
function isObjectEmpty(obj){if(Object.getOwnPropertyNames){return(Object.getOwnPropertyNames(obj).length===0);}else{var k;for(k in obj){if(obj.hasOwnProperty(k)){return false;}}
return true;}}
function isUndefined(input){return input===void 0;}
function isNumber(input){return typeof input==='number'||Object.prototype.toString.call(input)==='[object Number]';}
function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==='[object Date]';}
function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i));}
return res;}
function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b);}
function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i];}}
if(hasOwnProp(b,'toString')){a.toString=b.toString;}
if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf;}
return a;}
function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc();}
function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false};}
function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags();}
return m._pf;}
var some;if(Array.prototype.some){some=Array.prototype.some;}else{some=function(fun){var t=Object(this);var len=t.length>>>0;for(var i=0;i<len;i++){if(i in t&&fun.call(this,t[i],i,t)){return true;}}
return false;};}
function isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);var parsedParts=some.call(flags.parsedDateParts,function(i){return i!=null;});var isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||(flags.meridiem&&parsedParts));if(m._strict){isNowValid=isNowValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined;}
if(Object.isFrozen==null||!Object.isFrozen(m)){m._isValid=isNowValid;}
else{return isNowValid;}}
return m._isValid;}
function createInvalid(flags){var m=createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags);}
else{getParsingFlags(m).userInvalidated=true;}
return m;}
var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject;}
if(!isUndefined(from._i)){to._i=from._i;}
if(!isUndefined(from._f)){to._f=from._f;}
if(!isUndefined(from._l)){to._l=from._l;}
if(!isUndefined(from._strict)){to._strict=from._strict;}
if(!isUndefined(from._tzm)){to._tzm=from._tzm;}
if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC;}
if(!isUndefined(from._offset)){to._offset=from._offset;}
if(!isUndefined(from._pf)){to._pf=getParsingFlags(from);}
if(!isUndefined(from._locale)){to._locale=from._locale;}
if(momentProperties.length>0){for(i=0;i<momentProperties.length;i++){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val;}}}
return to;}
var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN);}
if(updateInProgress===false){updateInProgress=true;hooks.updateOffset(this);updateInProgress=false;}}
function isMoment(obj){return obj instanceof Moment||(obj!=null&&obj._isAMomentObject!=null);}
function absFloor(number){if(number<0){return Math.ceil(number)||0;}else{return Math.floor(number);}}
function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber);}
return value;}
function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++;}}
return diffs+lengthDiff;}
function warn(msg){if(hooks.suppressDeprecationWarnings===false&&(typeof console!=='undefined')&&console.warn){console.warn('Deprecation warning: '+msg);}}
function deprecate(msg,fn){var firstTime=true;return extend(function(){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(null,msg);}
if(firstTime){var args=[];var arg;for(var i=0;i<arguments.length;i++){arg='';if(typeof arguments[i]==='object'){arg+='\n['+i+'] ';for(var key in arguments[0]){arg+=key+': '+arguments[0][key]+', ';}
arg=arg.slice(0,-2);}else{arg=arguments[i];}
args.push(arg);}
warn(msg+'\nArguments: '+Array.prototype.slice.call(args).join('')+'\n'+(new Error()).stack);firstTime=false;}
return fn.apply(this,arguments);},fn);}
var deprecations={};function deprecateSimple(name,msg){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(name,msg);}
if(!deprecations[name]){warn(msg);deprecations[name]=true;}}
hooks.suppressDeprecationWarnings=false;hooks.deprecationHandler=null;function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==='[object Function]';}
function set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop;}else{this['_'+i]=prop;}}
this._config=config;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+
'|'+(/\d{1,2}/).source);}
function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop]);}else if(childConfig[prop]!=null){res[prop]=childConfig[prop];}else{delete res[prop];}}}
for(prop in parentConfig){if(hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])){res[prop]=extend({},res[prop]);}}
return res;}
function Locale(config){if(config!=null){this.set(config);}}
var keys;if(Object.keys){keys=Object.keys;}else{keys=function(obj){var i,res=[];for(i in obj){if(hasOwnProp(obj,i)){res.push(i);}}
return res;};}
var defaultCalendar={sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'};function calendar(key,mom,now){var output=this._calendar[key]||this._calendar['sameElse'];return isFunction(output)?output.call(mom,now):output;}
var defaultLongDateFormat={LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format;}
this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1);});return this._longDateFormat[key];}
var defaultInvalidDate='Invalid date';function invalidDate(){return this._invalidDate;}
var defaultOrdinal='%d';var defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace('%d',number);}
var defaultRelativeTime={future:'in %s',past:'%s ago',s:'a few seconds',ss:'%d seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'};function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(isFunction(output))?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number);}
function pastFuture(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return isFunction(format)?format(output):format.replace(/%s/i,output);}
var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+'s']=aliases[shorthand]=unit;}
function normalizeUnits(units){return typeof units==='string'?aliases[units]||aliases[units.toLowerCase()]:undefined;}
function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop];}}}
return normalizedInput;}
var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority;}
function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj){units.push({unit:u,priority:priorities[u]});}
units.sort(function(a,b){return a.priority-b.priority;});return units;}
function zeroFill(number,targetLength,forceSign){var absNumber=''+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?(forceSign?'+':''):'-')+
Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber;}
var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==='string'){func=function(){return this[callback]();};}
if(token){formatTokenFunctions[token]=func;}
if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2]);};}
if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token);};}}
function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'');}
return input.replace(/\\/g,'');}
function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]];}else{array[i]=removeFormattingTokens(array[i]);}}
return function(mom){var output='',i;for(i=0;i<length;i++){output+=isFunction(array[i])?array[i].call(mom,format):array[i];}
return output;};}
function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate();}
format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m);}
function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input;}
localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1;}
return format;}
var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match3to4=/\d\d\d\d?/;var match5to6=/\d\d\d\d\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return(isStrict&&strictRegex)?strictRegex:regex;};}
function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token));}
return regexes[token](config._strict,config._locale);}
function unescapeFormat(s){return regexEscape(s.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4;}));}
function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');}
var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==='string'){token=[token];}
if(isNumber(callback)){func=function(input,array){array[callback]=toInt(input);};}
for(i=0;i<token.length;i++){tokens[token[i]]=func;}}
function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token);});}
function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token);}}
var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;var WEEK=7;var WEEKDAY=8;addFormatToken('Y',0,0,function(){var y=this.year();return y<=9999?''+y:'+'+y;});addFormatToken(0,['YY',2],0,function(){return this.year()%100;});addFormatToken(0,['YYYY',4],0,'year');addFormatToken(0,['YYYYY',5],0,'year');addFormatToken(0,['YYYYYY',6,true],0,'year');addUnitAlias('year','y');addUnitPriority('year',1);addRegexToken('Y',matchSigned);addRegexToken('YY',match1to2,match2);addRegexToken('YYYY',match1to4,match4);addRegexToken('YYYYY',match1to6,match6);addRegexToken('YYYYYY',match1to6,match6);addParseToken(['YYYYY','YYYYYY'],YEAR);addParseToken('YYYY',function(input,array){array[YEAR]=input.length===2?hooks.parseTwoDigitYear(input):toInt(input);});addParseToken('YY',function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input);});addParseToken('Y',function(input,array){array[YEAR]=parseInt(input,10);});function daysInYear(year){return isLeapYear(year)?366:365;}
function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0;}
hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000);};var getSetYear=makeGetSet('FullYear',true);function getIsLeapYear(){return isLeapYear(this.year());}
function makeGetSet(unit,keepTime){return function(value){if(value!=null){set$1(this,unit,value);hooks.updateOffset(this,keepTime);return this;}else{return get(this,unit);}};}
function get(mom,unit){return mom.isValid()?mom._d['get'+(mom._isUTC?'UTC':'')+unit]():NaN;}
function set$1(mom,unit,value){if(mom.isValid()&&!isNaN(value)){if(unit==='FullYear'&&isLeapYear(mom.year())&&mom.month()===1&&mom.date()===29){mom._d['set'+(mom._isUTC?'UTC':'')+unit](value,mom.month(),daysInMonth(value,mom.month()));}
else{mom._d['set'+(mom._isUTC?'UTC':'')+unit](value);}}}
function stringGet(units){units=normalizeUnits(units);if(isFunction(this[units])){return this[units]();}
return this;}
function stringSet(units,value){if(typeof units==='object'){units=normalizeObjectUnits(units);var prioritized=getPrioritizedUnits(units);for(var i=0;i<prioritized.length;i++){this[prioritized[i].unit](units[prioritized[i].unit]);}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value);}}
return this;}
function mod(n,x){return((n%x)+x)%x;}
var indexOf;if(Array.prototype.indexOf){indexOf=Array.prototype.indexOf;}else{indexOf=function(o){var i;for(i=0;i<this.length;++i){if(this[i]===o){return i;}}
return-1;};}
function daysInMonth(year,month){if(isNaN(year)||isNaN(month)){return NaN;}
var modMonth=mod(month,12);year+=(month-modMonth)/12;return modMonth===1?(isLeapYear(year)?29:28):(31-modMonth%7%2);}
addFormatToken('M',['MM',2],'Mo',function(){return this.month()+1;});addFormatToken('MMM',0,0,function(format){return this.localeData().monthsShort(this,format);});addFormatToken('MMMM',0,0,function(format){return this.localeData().months(this,format);});addUnitAlias('month','M');addUnitPriority('month',8);addRegexToken('M',match1to2);addRegexToken('MM',match1to2,match2);addRegexToken('MMM',function(isStrict,locale){return locale.monthsShortRegex(isStrict);});addRegexToken('MMMM',function(isStrict,locale){return locale.monthsRegex(isStrict);});addParseToken(['M','MM'],function(input,array){array[MONTH]=toInt(input)-1;});addParseToken(['MMM','MMMM'],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month;}else{getParsingFlags(config).invalidMonth=input;}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var defaultLocaleMonths='January_February_March_April_May_June_July_August_September_October_November_December'.split('_');function localeMonths(m,format){if(!m){return isArray(this._months)?this._months:this._months['standalone'];}
return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?'format':'standalone'][m.month()];}
var defaultLocaleMonthsShort='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');function localeMonthsShort(m,format){if(!m){return isArray(this._monthsShort)?this._monthsShort:this._monthsShort['standalone'];}
return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?'format':'standalone'][m.month()];}
function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){mom=createUTC([2000,i]);this._shortMonthsParse[i]=this.monthsShort(mom,'').toLocaleLowerCase();this._longMonthsParse[i]=this.months(mom,'').toLocaleLowerCase();}}
if(strict){if(format==='MMM'){ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null;}else{ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null;}}else{if(format==='MMM'){ii=indexOf.call(this._shortMonthsParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null;}else{ii=indexOf.call(this._longMonthsParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null;}}}
function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact){return handleStrictParse.call(this,monthName,format,strict);}
if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];}
for(i=0;i<12;i++){mom=createUTC([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i');}
if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i');}
if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i;}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i;}else if(!strict&&this._monthsParse[i].test(monthName)){return i;}}}
function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom;}
if(typeof value==='string'){if(/^\d+$/.test(value)){value=toInt(value);}else{value=mom.localeData().monthsParse(value);if(!isNumber(value)){return mom;}}}
dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom;}
function getSetMonth(value){if(value!=null){setMonth(this,value);hooks.updateOffset(this,true);return this;}else{return get(this,'Month');}}
function getDaysInMonth(){return daysInMonth(this.year(),this.month());}
var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,'_monthsRegex')){computeMonthsParse.call(this);}
if(isStrict){return this._monthsShortStrictRegex;}else{return this._monthsShortRegex;}}else{if(!hasOwnProp(this,'_monthsShortRegex')){this._monthsShortRegex=defaultMonthsShortRegex;}
return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex;}}
var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,'_monthsRegex')){computeMonthsParse.call(this);}
if(isStrict){return this._monthsStrictRegex;}else{return this._monthsRegex;}}else{if(!hasOwnProp(this,'_monthsRegex')){this._monthsRegex=defaultMonthsRegex;}
return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex;}}
function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length;}
var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=createUTC([2000,i]);shortPieces.push(this.monthsShort(mom,''));longPieces.push(this.months(mom,''));mixedPieces.push(this.months(mom,''));mixedPieces.push(this.monthsShort(mom,''));}
shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);}
for(i=0;i<24;i++){mixedPieces[i]=regexEscape(mixedPieces[i]);}
this._monthsRegex=new RegExp('^('+mixedPieces.join('|')+')','i');this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp('^('+longPieces.join('|')+')','i');this._monthsShortStrictRegex=new RegExp('^('+shortPieces.join('|')+')','i');}
function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<100&&y>=0&&isFinite(date.getFullYear())){date.setFullYear(y);}
return date;}
function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<100&&y>=0&&isFinite(date.getUTCFullYear())){date.setUTCFullYear(y);}
return date;}
function firstWeekOffset(year,dow,doy){var
fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1;}
function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear;}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year);}else{resYear=year;resDayOfYear=dayOfYear;}
return{year:resYear,dayOfYear:resDayOfYear};}
function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy);}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1;}else{resYear=mom.year();resWeek=week;}
return{week:resWeek,year:resYear};}
function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7;}
addFormatToken('w',['ww',2],'wo','week');addFormatToken('W',['WW',2],'Wo','isoWeek');addUnitAlias('week','w');addUnitAlias('isoWeek','W');addUnitPriority('week',5);addUnitPriority('isoWeek',5);addRegexToken('w',match1to2);addRegexToken('ww',match1to2,match2);addRegexToken('W',match1to2);addRegexToken('WW',match1to2,match2);addWeekParseToken(['w','ww','W','WW'],function(input,week,config,token){week[token.substr(0,1)]=toInt(input);});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week;}
var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow;}
function localeFirstDayOfYear(){return this._week.doy;}
function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d');}
function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d');}
addFormatToken('d',0,'do','day');addFormatToken('dd',0,0,function(format){return this.localeData().weekdaysMin(this,format);});addFormatToken('ddd',0,0,function(format){return this.localeData().weekdaysShort(this,format);});addFormatToken('dddd',0,0,function(format){return this.localeData().weekdays(this,format);});addFormatToken('e',0,0,'weekday');addFormatToken('E',0,0,'isoWeekday');addUnitAlias('day','d');addUnitAlias('weekday','e');addUnitAlias('isoWeekday','E');addUnitPriority('day',11);addUnitPriority('weekday',11);addUnitPriority('isoWeekday',11);addRegexToken('d',match1to2);addRegexToken('e',match1to2);addRegexToken('E',match1to2);addRegexToken('dd',function(isStrict,locale){return locale.weekdaysMinRegex(isStrict);});addRegexToken('ddd',function(isStrict,locale){return locale.weekdaysShortRegex(isStrict);});addRegexToken('dddd',function(isStrict,locale){return locale.weekdaysRegex(isStrict);});addWeekParseToken(['dd','ddd','dddd'],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday;}else{getParsingFlags(config).invalidWeekday=input;}});addWeekParseToken(['d','e','E'],function(input,week,config,token){week[token]=toInt(input);});function parseWeekday(input,locale){if(typeof input!=='string'){return input;}
if(!isNaN(input)){return parseInt(input,10);}
input=locale.weekdaysParse(input);if(typeof input==='number'){return input;}
return null;}
function parseIsoWeekday(input,locale){if(typeof input==='string'){return locale.weekdaysParse(input)%7||7;}
return isNaN(input)?null:input;}
var defaultLocaleWeekdays='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');function localeWeekdays(m,format){if(!m){return isArray(this._weekdays)?this._weekdays:this._weekdays['standalone'];}
return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?'format':'standalone'][m.day()];}
var defaultLocaleWeekdaysShort='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');function localeWeekdaysShort(m){return(m)?this._weekdaysShort[m.day()]:this._weekdaysShort;}
var defaultLocaleWeekdaysMin='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');function localeWeekdaysMin(m){return(m)?this._weekdaysMin[m.day()]:this._weekdaysMin;}
function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){mom=createUTC([2000,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(mom,'').toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(mom,'').toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(mom,'').toLocaleLowerCase();}}
if(strict){if(format==='dddd'){ii=indexOf.call(this._weekdaysParse,llc);return ii!==-1?ii:null;}else if(format==='ddd'){ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null;}else{ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null;}}else{if(format==='dddd'){ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null;}else if(format==='ddd'){ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null;}else{ii=indexOf.call(this._minWeekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii;}
ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null;}}}
function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact){return handleStrictParse$1.call(this,weekdayName,format,strict);}
if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[];}
for(i=0;i<7;i++){mom=createUTC([2000,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp('^'+this.weekdays(mom,'').replace('.','\.?')+'$','i');this._shortWeekdaysParse[i]=new RegExp('^'+this.weekdaysShort(mom,'').replace('.','\.?')+'$','i');this._minWeekdaysParse[i]=new RegExp('^'+this.weekdaysMin(mom,'').replace('.','\.?')+'$','i');}
if(!this._weekdaysParse[i]){regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i');}
if(strict&&format==='dddd'&&this._fullWeekdaysParse[i].test(weekdayName)){return i;}else if(strict&&format==='ddd'&&this._shortWeekdaysParse[i].test(weekdayName)){return i;}else if(strict&&format==='dd'&&this._minWeekdaysParse[i].test(weekdayName)){return i;}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i;}}}
function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN;}
var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d');}else{return day;}}
function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN;}
var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d');}
function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN;}
if(input!=null){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7);}else{return this.day()||7;}}
var defaultWeekdaysRegex=matchWord;function weekdaysRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,'_weekdaysRegex')){computeWeekdaysParse.call(this);}
if(isStrict){return this._weekdaysStrictRegex;}else{return this._weekdaysRegex;}}else{if(!hasOwnProp(this,'_weekdaysRegex')){this._weekdaysRegex=defaultWeekdaysRegex;}
return this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex;}}
var defaultWeekdaysShortRegex=matchWord;function weekdaysShortRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,'_weekdaysRegex')){computeWeekdaysParse.call(this);}
if(isStrict){return this._weekdaysShortStrictRegex;}else{return this._weekdaysShortRegex;}}else{if(!hasOwnProp(this,'_weekdaysShortRegex')){this._weekdaysShortRegex=defaultWeekdaysShortRegex;}
return this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;}}
var defaultWeekdaysMinRegex=matchWord;function weekdaysMinRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,'_weekdaysRegex')){computeWeekdaysParse.call(this);}
if(isStrict){return this._weekdaysMinStrictRegex;}else{return this._weekdaysMinRegex;}}else{if(!hasOwnProp(this,'_weekdaysMinRegex')){this._weekdaysMinRegex=defaultWeekdaysMinRegex;}
return this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;}}
function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length;}
var minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[],i,mom,minp,shortp,longp;for(i=0;i<7;i++){mom=createUTC([2000,1]).day(i);minp=this.weekdaysMin(mom,'');shortp=this.weekdaysShort(mom,'');longp=this.weekdays(mom,'');minPieces.push(minp);shortPieces.push(shortp);longPieces.push(longp);mixedPieces.push(minp);mixedPieces.push(shortp);mixedPieces.push(longp);}
minPieces.sort(cmpLenRev);shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<7;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i]);}
this._weekdaysRegex=new RegExp('^('+mixedPieces.join('|')+')','i');this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp('^('+longPieces.join('|')+')','i');this._weekdaysShortStrictRegex=new RegExp('^('+shortPieces.join('|')+')','i');this._weekdaysMinStrictRegex=new RegExp('^('+minPieces.join('|')+')','i');}
function hFormat(){return this.hours()%12||12;}
function kFormat(){return this.hours()||24;}
addFormatToken('H',['HH',2],0,'hour');addFormatToken('h',['hh',2],0,hFormat);addFormatToken('k',['kk',2],0,kFormat);addFormatToken('hmm',0,0,function(){return ''+hFormat.apply(this)+zeroFill(this.minutes(),2);});addFormatToken('hmmss',0,0,function(){return ''+hFormat.apply(this)+zeroFill(this.minutes(),2)+
zeroFill(this.seconds(),2);});addFormatToken('Hmm',0,0,function(){return ''+this.hours()+zeroFill(this.minutes(),2);});addFormatToken('Hmmss',0,0,function(){return ''+this.hours()+zeroFill(this.minutes(),2)+
zeroFill(this.seconds(),2);});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase);});}
meridiem('a',true);meridiem('A',false);addUnitAlias('hour','h');addUnitPriority('hour',13);function matchMeridiem(isStrict,locale){return locale._meridiemParse;}
addRegexToken('a',matchMeridiem);addRegexToken('A',matchMeridiem);addRegexToken('H',match1to2);addRegexToken('h',match1to2);addRegexToken('k',match1to2);addRegexToken('HH',match1to2,match2);addRegexToken('hh',match1to2,match2);addRegexToken('kk',match1to2,match2);addRegexToken('hmm',match3to4);addRegexToken('hmmss',match5to6);addRegexToken('Hmm',match3to4);addRegexToken('Hmmss',match5to6);addParseToken(['H','HH'],HOUR);addParseToken(['k','kk'],function(input,array,config){var kInput=toInt(input);array[HOUR]=kInput===24?0:kInput;});addParseToken(['a','A'],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input;});addParseToken(['h','hh'],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true;});addParseToken('hmm',function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true;});addParseToken('hmmss',function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true;});addParseToken('Hmm',function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));});addParseToken('Hmmss',function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));});function localeIsPM(input){return((input+'').toLowerCase().charAt(0)==='p');}
var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM';}else{return isLower?'am':'AM';}}
var getSetHour=makeGetSet('Hours',true);var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse};var locales={};var localeFamilies={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key;}
function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale;}
if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break;}
j--;}
i++;}
return null;}
function loadLocale(name){var oldLocale=null;if(!locales[name]&&(typeof module!=='undefined')&&module&&module.exports){try{oldLocale=globalLocale._abbr;var aliasedRequire=require;aliasedRequire('./locale/'+name);getSetGlobalLocale(oldLocale);}catch(e){}}
return locales[name];}
function getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=getLocale(key);}
else{data=defineLocale(key,values);}
if(data){globalLocale=data;}}
return globalLocale._abbr;}
function defineLocale(name,config){if(config!==null){var parentConfig=baseConfig;config.abbr=name;if(locales[name]!=null){deprecateSimple('defineLocaleOverride','use moment.updateLocale(localeName, config) to change '+
'an existing locale. moment.defineLocale(localeName, '+
'config) should only be used for creating a new locale '+
'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');parentConfig=locales[name]._config;}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){parentConfig=locales[config.parentLocale]._config;}else{if(!localeFamilies[config.parentLocale]){localeFamilies[config.parentLocale]=[];}
localeFamilies[config.parentLocale].push({name:name,config:config});return null;}}
locales[name]=new Locale(mergeConfigs(parentConfig,config));if(localeFamilies[name]){localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config);});}
getSetGlobalLocale(name);return locales[name];}else{delete locales[name];return null;}}
function updateLocale(name,config){if(config!=null){var locale,tmpLocale,parentConfig=baseConfig;tmpLocale=loadLocale(name);if(tmpLocale!=null){parentConfig=tmpLocale._config;}
config=mergeConfigs(parentConfig,config);locale=new Locale(config);locale.parentLocale=locales[name];locales[name]=locale;getSetGlobalLocale(name);}else{if(locales[name]!=null){if(locales[name].parentLocale!=null){locales[name]=locales[name].parentLocale;}else if(locales[name]!=null){delete locales[name];}}}
return locales[name];}
function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr;}
if(!key){return globalLocale;}
if(!isArray(key)){locale=loadLocale(key);if(locale){return locale;}
key=[key];}
return chooseLocale(key);}
function listLocales(){return keys(locales);}
function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||(a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0))?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE;}
if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK;}
if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY;}
getParsingFlags(m).overflow=overflow;}
return m;}
function defaults(a,b,c){if(a!=null){return a;}
if(b!=null){return b;}
return c;}
function currentDateArray(config){var nowValue=new Date(hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()];}
return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()];}
function configFromArray(config){var i,date,input=[],currentDate,expectedWeekday,yearToUse;if(config._d){return;}
currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config);}
if(config._dayOfYear!=null){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)||config._dayOfYear===0){getParsingFlags(config)._overflowDayOfYear=true;}
date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate();}
for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i];}
for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i];}
if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0;}
config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay();if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);}
if(config._nextDay){config._a[HOUR]=24;}
if(config._w&&typeof config._w.d!=='undefined'&&config._w.d!==expectedWeekday){getParsingFlags(config).weekdayMismatch=true;}}
function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true;}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year);week=defaults(w.w,curWeek.week);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true;}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true;}}else{weekday=dow;}}
if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true;}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true;}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear;}}
var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var tzRegex=/Z|[+-]\d\d(?::?\d\d)?/;var isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d\d-\d\d/],['YYYY-MM-DD',/\d{4}-\d\d-\d\d/],['GGGG-[W]WW-E',/\d{4}-W\d\d-\d/],['GGGG-[W]WW',/\d{4}-W\d\d/,false],['YYYY-DDD',/\d{4}-\d{3}/],['YYYY-MM',/\d{4}-\d\d/,false],['YYYYYYMMDD',/[+-]\d{10}/],['YYYYMMDD',/\d{8}/],['GGGG[W]WWE',/\d{4}W\d{3}/],['GGGG[W]WW',/\d{4}W\d{2}/,false],['YYYYDDD',/\d{7}/]];var isoTimes=[['HH:mm:ss.SSSS',/\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss,SSSS',/\d\d:\d\d:\d\d,\d+/],['HH:mm:ss',/\d\d:\d\d:\d\d/],['HH:mm',/\d\d:\d\d/],['HHmmss.SSSS',/\d\d\d\d\d\d\.\d+/],['HHmmss,SSSS',/\d\d\d\d\d\d,\d+/],['HHmmss',/\d\d\d\d\d\d/],['HHmm',/\d\d\d\d/],['HH',/\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break;}}
if(dateFormat==null){config._isValid=false;return;}
if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||' ')+isoTimes[i][0];break;}}
if(timeFormat==null){config._isValid=false;return;}}
if(!allowTime&&timeFormat!=null){config._isValid=false;return;}
if(match[4]){if(tzRegex.exec(match[4])){tzFormat='Z';}else{config._isValid=false;return;}}
config._f=dateFormat+(timeFormat||'')+(tzFormat||'');configFromStringAndFormat(config);}else{config._isValid=false;}}
var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[untruncateYear(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];if(secondStr){result.push(parseInt(secondStr,10));}
return result;}
function untruncateYear(yearStr){var year=parseInt(yearStr,10);if(year<=49){return 2000+year;}else if(year<=999){return 1900+year;}
return year;}
function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g,' ').replace(/(\s\s+)/g,' ').trim();}
function checkWeekday(weekdayStr,parsedInput,config){if(weekdayStr){var weekdayProvided=defaultLocaleWeekdaysShort.indexOf(weekdayStr),weekdayActual=new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay();if(weekdayProvided!==weekdayActual){getParsingFlags(config).weekdayMismatch=true;config._isValid=false;return false;}}
return true;}
var obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function calculateOffset(obsOffset,militaryOffset,numOffset){if(obsOffset){return obsOffsets[obsOffset];}else if(militaryOffset){return 0;}else{var hm=parseInt(numOffset,10);var m=hm%100,h=(hm-m)/100;return h*60+m;}}
function configFromRFC2822(config){var match=rfc2822.exec(preprocessRFC2822(config._i));if(match){var parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]);if(!checkWeekday(match[1],parsedArray,config)){return;}
config._a=parsedArray;config._tzm=calculateOffset(match[8],match[9],match[10]);config._d=createUTCDate.apply(null,config._a);config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);getParsingFlags(config).rfc2822=true;}else{config._isValid=false;}}
function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return;}
configFromISO(config);if(config._isValid===false){delete config._isValid;}else{return;}
configFromRFC2822(config);if(config._isValid===false){delete config._isValid;}else{return;}
hooks.createFromInputFallback(config);}
hooks.createFromInputFallback=deprecate('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), '+
'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are '+
'discouraged and will be removed in an upcoming major release. Please refer to '+
'http://momentjs.com/guides/#/warnings/js-date/ for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''));});hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601){configFromISO(config);return;}
if(config._f===hooks.RFC_2822){configFromRFC2822(config);return;}
config._a=[];getParsingFlags(config).empty=true;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped);}
string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length;}
if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false;}
else{getParsingFlags(config).unusedTokens.push(token);}
addTimeToArrayFromToken(token,parsedInput,config);}
else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token);}}
getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string);}
if(config._a[HOUR]<=12&&getParsingFlags(config).bigHour===true&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined;}
getParsingFlags(config).parsedDateParts=config._a.slice(0);getParsingFlags(config).meridiem=config._meridiem;config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config);}
function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour;}
if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem);}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12;}
if(!isPm&&hour===12){hour=0;}
return hour;}else{return hour;}}
function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return;}
for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC;}
tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue;}
currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig;}}
extend(config,bestMoment||tempConfig);}
function configFromObject(config){if(config._d){return;}
var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10);});configFromArray(config);}
function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,'d');res._nextDay=undefined;}
return res;}
function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||getLocale(config._l);if(input===null||(format===undefined&&input==='')){return createInvalid({nullInput:true});}
if(typeof input==='string'){config._i=input=config._locale.preparse(input);}
if(isMoment(input)){return new Moment(checkOverflow(input));}else if(isDate(input)){config._d=input;}else if(isArray(format)){configFromStringAndArray(config);}else if(format){configFromStringAndFormat(config);}else{configFromInput(config);}
if(!isValid(config)){config._d=null;}
return config;}
function configFromInput(config){var input=config._i;if(isUndefined(input)){config._d=new Date(hooks.now());}else if(isDate(input)){config._d=new Date(input.valueOf());}else if(typeof input==='string'){configFromString(config);}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10);});configFromArray(config);}else if(isObject(input)){configFromObject(config);}else if(isNumber(input)){config._d=new Date(input);}else{hooks.createFromInputFallback(config);}}
function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(locale===true||locale===false){strict=locale;locale=undefined;}
if((isObject(input)&&isObjectEmpty(input))||(isArray(input)&&input.length===0)){input=undefined;}
c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c);}
function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false);}
var prototypeMin=deprecate('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other;}else{return createInvalid();}});var prototypeMax=deprecate('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other;}else{return createInvalid();}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0];}
if(!moments.length){return createLocal();}
res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i];}}
return res;}
function min(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args);}
function max(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args);}
var now=function(){return Date.now?Date.now():+(new Date());};var ordering=['year','quarter','month','week','day','hour','minute','second','millisecond'];function isDurationValid(m){for(var key in m){if(!(indexOf.call(ordering,key)!==-1&&(m[key]==null||!isNaN(m[key])))){return false;}}
var unitHasDecimal=false;for(var i=0;i<ordering.length;++i){if(m[ordering[i]]){if(unitHasDecimal){return false;}
if(parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])){unitHasDecimal=true;}}}
return true;}
function isValid$1(){return this._isValid;}
function createInvalid$1(){return createDuration(NaN);}
function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput);this._milliseconds=+milliseconds+
seconds*1e3+
minutes*6e4+
hours*1000*60*60;this._days=+days+
weeks*7;this._months=+months+
quarters*3+
years*12;this._data={};this._locale=getLocale();this._bubble();}
function isDuration(obj){return obj instanceof Duration;}
function absRound(number){if(number<0){return Math.round(-1*number)*-1;}else{return Math.round(number);}}
function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign='+';if(offset<0){offset=-offset;sign='-';}
return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~(offset)%60,2);});}
offset('Z',':');offset('ZZ','');addRegexToken('Z',matchShortOffset);addRegexToken('ZZ',matchShortOffset);addParseToken(['Z','ZZ'],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input);});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||'').match(matcher);if(matches===null){return null;}
var chunk=matches[matches.length-1]||[];var parts=(chunk+'').match(chunkOffset)||['-',0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return minutes===0?0:parts[0]==='+'?minutes:-minutes;}
function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf();res._d.setTime(res._d.valueOf()+diff);hooks.updateOffset(res,false);return res;}else{return createLocal(input).local();}}
function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15;}
hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime,keepMinutes){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN;}
if(input!=null){if(typeof input==='string'){input=offsetFromString(matchShortOffset,input);if(input===null){return this;}}else if(Math.abs(input)<16&&!keepMinutes){input=input*60;}
if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this);}
this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,'m');}
if(offset!==input){if(!keepLocalTime||this._changeInProgress){addSubtract(this,createDuration(input-offset,'m'),1,false);}else if(!this._changeInProgress){this._changeInProgress=true;hooks.updateOffset(this,true);this._changeInProgress=null;}}
return this;}else{return this._isUTC?offset:getDateOffset(this);}}
function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=='string'){input=-input;}
this.utcOffset(input,keepLocalTime);return this;}else{return-this.utcOffset();}}
function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime);}
function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),'m');}}
return this;}
function setOffsetToParsedOffset(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true);}else if(typeof this._i==='string'){var tZone=offsetFromString(matchOffset,this._i);if(tZone!=null){this.utcOffset(tZone);}
else{this.utcOffset(0,true);}}
return this;}
function hasAlignedHourOffset(input){if(!this.isValid()){return false;}
input=input?createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0;}
function isDaylightSavingTime(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset());}
function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted;}
var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0;}else{this._isDSTShifted=false;}
return this._isDSTShifted;}
function isLocal(){return this.isValid()?!this._isUTC:false;}
function isUtcOffset(){return this.isValid()?this._isUTC:false;}
function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false;}
var aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months};}else if(isNumber(input)){duration={};if(key){duration[key]=input;}else{duration.milliseconds=input;}}else if(!!(match=aspNetRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(match[MILLISECOND]*1000))*sign};}else if(!!(match=isoRegex.exec(input))){sign=(match[1]==='-')?-1:(match[1]==='+')?1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)};}else if(duration==null){duration={};}else if(typeof duration==='object'&&('from'in duration||'to'in duration)){diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months;}
ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale;}
return ret;}
createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign;}
function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+
(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months;}
res.milliseconds=+other-+(base.clone().add(res.months,'M'));return res;}
function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0};}
other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other);}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months;}
return res;}
function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period). '+
'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');tmp=val;val=period;period=tmp;}
val=typeof val==='string'?+val:val;dur=createDuration(val,period);addSubtract(this,dur,direction);return this;};}
function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return;}
updateOffset=updateOffset==null?true:updateOffset;if(months){setMonth(mom,get(mom,'Month')+months*isAdding);}
if(days){set$1(mom,'Date',get(mom,'Date')+days*isAdding);}
if(milliseconds){mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding);}
if(updateOffset){hooks.updateOffset(mom,days||months);}}
var add=createAdder(1,'add');var subtract=createAdder(-1,'subtract');function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,'days',true);return diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';}
function calendar$1(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf('day'),format=hooks.calendarFormat(this,sod)||'sameElse';var output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)));}
function clone(){return new Moment(this);}
function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false;}
units=normalizeUnits(!isUndefined(units)?units:'millisecond');if(units==='millisecond'){return this.valueOf()>localInput.valueOf();}else{return localInput.valueOf()<this.clone().startOf(units).valueOf();}}
function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false;}
units=normalizeUnits(!isUndefined(units)?units:'millisecond');if(units==='millisecond'){return this.valueOf()<localInput.valueOf();}else{return this.clone().endOf(units).valueOf()<localInput.valueOf();}}
function isBetween(from,to,units,inclusivity){inclusivity=inclusivity||'()';return(inclusivity[0]==='('?this.isAfter(from,units):!this.isBefore(from,units))&&(inclusivity[1]===')'?this.isBefore(to,units):!this.isAfter(to,units));}
function isSame(input,units){var localInput=isMoment(input)?input:createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false;}
units=normalizeUnits(units||'millisecond');if(units==='millisecond'){return this.valueOf()===localInput.valueOf();}else{inputMs=localInput.valueOf();return this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf();}}
function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units);}
function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units);}
function diff(input,units,asFloat){var that,zoneDelta,delta,output;if(!this.isValid()){return NaN;}
that=cloneWithOffset(input,this);if(!that.isValid()){return NaN;}
zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);switch(units){case 'year':output=monthDiff(this,that)/12;break;case 'month':output=monthDiff(this,that);break;case 'quarter':output=monthDiff(this,that)/3;break;case 'second':output=(this-that)/1e3;break;case 'minute':output=(this-that)/6e4;break;case 'hour':output=(this-that)/36e5;break;case 'day':output=(this-that-zoneDelta)/864e5;break;case 'week':output=(this-that-zoneDelta)/6048e5;break;default:output=this-that;}
return asFloat?output:absFloor(output);}
function monthDiff(a,b){var wholeMonthDiff=((b.year()-a.year())*12)+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months'),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,'months');adjust=(b-anchor)/(anchor-anchor2);}else{anchor2=a.clone().add(wholeMonthDiff+1,'months');adjust=(b-anchor)/(anchor2-anchor);}
return-(wholeMonthDiff+adjust)||0;}
hooks.defaultFormat='YYYY-MM-DDTHH:mm:ssZ';hooks.defaultFormatUtc='YYYY-MM-DDTHH:mm:ss[Z]';function toString(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');}
function toISOString(keepOffset){if(!this.isValid()){return null;}
var utc=keepOffset!==true;var m=utc?this.clone().utc():this;if(m.year()<0||m.year()>9999){return formatMoment(m,utc?'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');}
if(isFunction(Date.prototype.toISOString)){if(utc){return this.toDate().toISOString();}else{return new Date(this._d.valueOf()).toISOString().replace('Z',formatMoment(m,'Z'));}}
return formatMoment(m,utc?'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYY-MM-DD[T]HH:mm:ss.SSSZ');}
function inspect(){if(!this.isValid()){return 'moment.invalid(/* '+this._i+' */)';}
var func='moment';var zone='';if(!this.isLocal()){func=this.utcOffset()===0?'moment.utc':'moment.parseZone';zone='Z';}
var prefix='['+func+'("]';var year=(0<=this.year()&&this.year()<=9999)?'YYYY':'YYYYYY';var datetime='-MM-DD[T]HH:mm:ss.SSS';var suffix=zone+'[")]';return this.format(prefix+year+datetime+suffix);}
function format(inputString){if(!inputString){inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat;}
var output=formatMoment(this,inputString);return this.localeData().postformat(output);}
function from(time,withoutSuffix){if(this.isValid()&&((isMoment(time)&&time.isValid())||createLocal(time).isValid())){return createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix);}else{return this.localeData().invalidDate();}}
function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix);}
function to(time,withoutSuffix){if(this.isValid()&&((isMoment(time)&&time.isValid())||createLocal(time).isValid())){return createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix);}else{return this.localeData().invalidDate();}}
function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix);}
function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr;}else{newLocaleData=getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData;}
return this;}}
var lang=deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData();}else{return this.locale(key);}});function localeData(){return this._locale;}
function startOf(units){units=normalizeUnits(units);switch(units){case 'year':this.month(0);case 'quarter':case 'month':this.date(1);case 'week':case 'isoWeek':case 'day':case 'date':this.hours(0);case 'hour':this.minutes(0);case 'minute':this.seconds(0);case 'second':this.milliseconds(0);}
if(units==='week'){this.weekday(0);}
if(units==='isoWeek'){this.isoWeekday(1);}
if(units==='quarter'){this.month(Math.floor(this.month()/3)*3);}
return this;}
function endOf(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this;}
if(units==='date'){units='day';}
return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms');}
function valueOf(){return this._d.valueOf()-((this._offset||0)*60000);}
function unix(){return Math.floor(this.valueOf()/1000);}
function toDate(){return new Date(this.valueOf());}
function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()];}
function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()};}
function toJSON(){return this.isValid()?this.toISOString():null;}
function isValid$2(){return isValid(this);}
function parsingFlags(){return extend({},getParsingFlags(this));}
function invalidAt(){return getParsingFlags(this).overflow;}
function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict};}
addFormatToken(0,['gg',2],0,function(){return this.weekYear()%100;});addFormatToken(0,['GG',2],0,function(){return this.isoWeekYear()%100;});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter);}
addWeekYearFormatToken('gggg','weekYear');addWeekYearFormatToken('ggggg','weekYear');addWeekYearFormatToken('GGGG','isoWeekYear');addWeekYearFormatToken('GGGGG','isoWeekYear');addUnitAlias('weekYear','gg');addUnitAlias('isoWeekYear','GG');addUnitPriority('weekYear',1);addUnitPriority('isoWeekYear',1);addRegexToken('G',matchSigned);addRegexToken('g',matchSigned);addRegexToken('GG',match1to2,match2);addRegexToken('gg',match1to2,match2);addRegexToken('GGGG',match1to4,match4);addRegexToken('gggg',match1to4,match4);addRegexToken('GGGGG',match1to6,match6);addRegexToken('ggggg',match1to6,match6);addWeekParseToken(['gggg','ggggg','GGGG','GGGGG'],function(input,week,config,token){week[token.substr(0,2)]=toInt(input);});addWeekParseToken(['gg','GG'],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input);});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy);}
function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4);}
function getISOWeeksInYear(){return weeksInYear(this.year(),1,4);}
function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy);}
function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year;}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget;}
return setWeekAll.call(this,input,week,weekday,dow,doy);}}
function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this;}
addFormatToken('Q',0,'Qo','quarter');addUnitAlias('quarter','Q');addUnitPriority('quarter',7);addRegexToken('Q',match1);addParseToken('Q',function(input,array){array[MONTH]=(toInt(input)-1)*3;});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3);}
addFormatToken('D',['DD',2],'Do','date');addUnitAlias('date','D');addUnitPriority('date',9);addRegexToken('D',match1to2);addRegexToken('DD',match1to2,match2);addRegexToken('Do',function(isStrict,locale){return isStrict?(locale._dayOfMonthOrdinalParse||locale._ordinalParse):locale._dayOfMonthOrdinalParseLenient;});addParseToken(['D','DD'],DATE);addParseToken('Do',function(input,array){array[DATE]=toInt(input.match(match1to2)[0]);});var getSetDayOfMonth=makeGetSet('Date',true);addFormatToken('DDD',['DDDD',3],'DDDo','dayOfYear');addUnitAlias('dayOfYear','DDD');addUnitPriority('dayOfYear',4);addRegexToken('DDD',match1to3);addRegexToken('DDDD',match3);addParseToken(['DDD','DDDD'],function(input,array,config){config._dayOfYear=toInt(input);});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d');}
addFormatToken('m',['mm',2],0,'minute');addUnitAlias('minute','m');addUnitPriority('minute',14);addRegexToken('m',match1to2);addRegexToken('mm',match1to2,match2);addParseToken(['m','mm'],MINUTE);var getSetMinute=makeGetSet('Minutes',false);addFormatToken('s',['ss',2],0,'second');addUnitAlias('second','s');addUnitPriority('second',15);addRegexToken('s',match1to2);addRegexToken('ss',match1to2,match2);addParseToken(['s','ss'],SECOND);var getSetSecond=makeGetSet('Seconds',false);addFormatToken('S',0,0,function(){return~~(this.millisecond()/100);});addFormatToken(0,['SS',2],0,function(){return~~(this.millisecond()/10);});addFormatToken(0,['SSS',3],0,'millisecond');addFormatToken(0,['SSSS',4],0,function(){return this.millisecond()*10;});addFormatToken(0,['SSSSS',5],0,function(){return this.millisecond()*100;});addFormatToken(0,['SSSSSS',6],0,function(){return this.millisecond()*1000;});addFormatToken(0,['SSSSSSS',7],0,function(){return this.millisecond()*10000;});addFormatToken(0,['SSSSSSSS',8],0,function(){return this.millisecond()*100000;});addFormatToken(0,['SSSSSSSSS',9],0,function(){return this.millisecond()*1000000;});addUnitAlias('millisecond','ms');addUnitPriority('millisecond',16);addRegexToken('S',match1to3,match1);addRegexToken('SS',match1to3,match2);addRegexToken('SSS',match1to3,match3);var token;for(token='SSSS';token.length<=9;token+='S'){addRegexToken(token,matchUnsigned);}
function parseMs(input,array){array[MILLISECOND]=toInt(('0.'+input)*1000);}
for(token='S';token.length<=9;token+='S'){addParseToken(token,parseMs);}
var getSetMillisecond=makeGetSet('Milliseconds',false);addFormatToken('z',0,0,'zoneAbbr');addFormatToken('zz',0,0,'zoneName');function getZoneAbbr(){return this._isUTC?'UTC':'';}
function getZoneName(){return this._isUTC?'Coordinated Universal Time':'';}
var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate('dates accessor is deprecated. Use date instead.',getSetDayOfMonth);proto.months=deprecate('months accessor is deprecated. Use month instead',getSetMonth);proto.years=deprecate('years accessor is deprecated. Use year instead',getSetYear);proto.zone=deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',getSetZone);proto.isDSTShifted=deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',isDaylightSavingTimeShifted);function createUnix(input){return createLocal(input*1000);}
function createInZone(){return createLocal.apply(null,arguments).parseZone();}
function preParsePostFormat(string){return string;}
var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(format,index,field,setter){var locale=getLocale();var utc=createUTC().set(setter,index);return locale[field](utc,format);}
function listMonthsImpl(format,index,field){if(isNumber(format)){index=format;format=undefined;}
format=format||'';if(index!=null){return get$1(format,index,field,'month');}
var i;var out=[];for(i=0;i<12;i++){out[i]=get$1(format,i,field,'month');}
return out;}
function listWeekdaysImpl(localeSorted,format,index,field){if(typeof localeSorted==='boolean'){if(isNumber(format)){index=format;format=undefined;}
format=format||'';}else{format=localeSorted;index=format;localeSorted=false;if(isNumber(format)){index=format;format=undefined;}
format=format||'';}
var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(index!=null){return get$1(format,(index+shift)%7,field,'day');}
var i;var out=[];for(i=0;i<7;i++){out[i]=get$1(format,(i+shift)%7,field,'day');}
return out;}
function listMonths(format,index){return listMonthsImpl(format,index,'months');}
function listMonthsShort(format,index){return listMonthsImpl(format,index,'monthsShort');}
function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,'weekdays');}
function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,'weekdaysShort');}
function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,'weekdaysMin');}
getSetGlobalLocale('en',{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output;}});hooks.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',getSetGlobalLocale);hooks.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',getLocale);var mathAbs=Math.abs;function abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this;}
function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble();}
function add$1(input,value){return addSubtract$1(this,input,value,1);}
function subtract$1(input,value){return addSubtract$1(this,input,value,-1);}
function absCeil(number){if(number<0){return Math.floor(number);}else{return Math.ceil(number);}}
function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!((milliseconds>=0&&days>=0&&months>=0)||(milliseconds<=0&&days<=0&&months<=0))){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0;}
data.milliseconds=milliseconds%1000;seconds=absFloor(milliseconds/1000);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this;}
function daysToMonths(days){return days*4800/146097;}
function monthsToDays(months){return months*146097/4800;}
function as(units){if(!this.isValid()){return NaN;}
var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==='month'?months:months/12;}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case 'week':return days/7+milliseconds/6048e5;case 'day':return days+milliseconds/864e5;case 'hour':return days*24+milliseconds/36e5;case 'minute':return days*1440+milliseconds/6e4;case 'second':return days*86400+milliseconds/1000;case 'millisecond':return Math.floor(days*864e5)+milliseconds;default:throw new Error('Unknown unit '+units);}}}
function valueOf$1(){if(!this.isValid()){return NaN;}
return(this._milliseconds+
this._days*864e5+
(this._months%12)*2592e6+
toInt(this._months/12)*31536e6);}
function makeAs(alias){return function(){return this.as(alias);};}
var asMilliseconds=makeAs('ms');var asSeconds=makeAs('s');var asMinutes=makeAs('m');var asHours=makeAs('h');var asDays=makeAs('d');var asWeeks=makeAs('w');var asMonths=makeAs('M');var asYears=makeAs('y');function clone$1(){return createDuration(this);}
function get$2(units){units=normalizeUnits(units);return this.isValid()?this[units+'s']():NaN;}
function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN;};}
var milliseconds=makeGetter('milliseconds');var seconds=makeGetter('seconds');var minutes=makeGetter('minutes');var hours=makeGetter('hours');var days=makeGetter('days');var months=makeGetter('months');var years=makeGetter('years');function weeks(){return absFloor(this.days()/7);}
var round=Math.round;var thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture);}
function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs();var seconds=round(duration.as('s'));var minutes=round(duration.as('m'));var hours=round(duration.as('h'));var days=round(duration.as('d'));var months=round(duration.as('M'));var years=round(duration.as('y'));var a=seconds<=thresholds.ss&&['s',seconds]||seconds<thresholds.s&&['ss',seconds]||minutes<=1&&['m']||minutes<thresholds.m&&['mm',minutes]||hours<=1&&['h']||hours<thresholds.h&&['hh',hours]||days<=1&&['d']||days<thresholds.d&&['dd',days]||months<=1&&['M']||months<thresholds.M&&['MM',months]||years<=1&&['y']||['yy',years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a);}
function getSetRelativeTimeRounding(roundingFunction){if(roundingFunction===undefined){return round;}
if(typeof(roundingFunction)==='function'){round=roundingFunction;return true;}
return false;}
function getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false;}
if(limit===undefined){return thresholds[threshold];}
thresholds[threshold]=limit;if(threshold==='s'){thresholds.ss=limit-1;}
return true;}
function humanize(withSuffix){if(!this.isValid()){return this.localeData().invalidDate();}
var locale=this.localeData();var output=relativeTime$1(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output);}
return locale.postformat(output);}
var abs$1=Math.abs;function sign(x){return((x>0)-(x<0))||+x;}
function toISOString$1(){if(!this.isValid()){return this.localeData().invalidDate();}
var seconds=abs$1(this._milliseconds)/1000;var days=abs$1(this._days);var months=abs$1(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds?seconds.toFixed(3).replace(/\.?0+$/,''):'';var total=this.asSeconds();if(!total){return 'P0D';}
var totalSign=total<0?'-':'';var ymSign=sign(this._months)!==sign(total)?'-':'';var daysSign=sign(this._days)!==sign(total)?'-':'';var hmsSign=sign(this._milliseconds)!==sign(total)?'-':'';return totalSign+'P'+
(Y?ymSign+Y+'Y':'')+
(M?ymSign+M+'M':'')+
(D?daysSign+D+'D':'')+
((h||m||s)?'T':'')+
(h?hmsSign+h+'H':'')+
(m?hmsSign+m+'M':'')+
(s?hmsSign+s+'S':'');}
var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',toISOString$1);proto$2.lang=lang;addFormatToken('X',0,0,'unix');addFormatToken('x',0,0,'valueOf');addRegexToken('x',matchSigned);addRegexToken('X',matchTimestamp);addParseToken('X',function(input,array,config){config._d=new Date(parseFloat(input,10)*1000);});addParseToken('x',function(input,array,config){config._d=new Date(toInt(input));});hooks.version='2.20.1';setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:'YYYY-MM-DDTHH:mm',DATETIME_LOCAL_SECONDS:'YYYY-MM-DDTHH:mm:ss',DATETIME_LOCAL_MS:'YYYY-MM-DDTHH:mm:ss.SSS',DATE:'YYYY-MM-DD',TIME:'HH:mm',TIME_SECONDS:'HH:mm:ss',TIME_MS:'HH:mm:ss.SSS',WEEK:'YYYY-[W]WW',MONTH:'YYYY-MM'};return hooks;})));(function($,window,undefined){'$:nomunge';var str_hashchange='hashchange',doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange='on'+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);function get_fragment(url){url=url||location.href;var index=url.indexOf('#');return index===-1?'#':url.substr(index);};$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange);};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.start);},teardown:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.stop);}});fake_onhashchange=(function(){var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val;},history_set=fn_retval,history_get=fn_retval;self.start=function(){timeout_id||poll();};self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined;};function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);if(hash!==last_hash){history_set(last_hash=hash,history_hash);$(window).trigger(str_hashchange);}else if(history_hash!==last_hash){location.href=location.href.replace(/#.*/,'')+history_hash;}
timeout_id=setTimeout(poll,$.fn[str_hashchange].delay);};window.attachEvent&&!window.addEventListener&&!supports_onhashchange&&(function(){var iframe,iframe_src;self.start=function(){if(!iframe){iframe_src=$.fn[str_hashchange].src;iframe_src=iframe_src&&iframe_src+get_fragment();iframe=$('<iframe tabindex="-1" title="empty"/>').hide().one('load',function(){iframe_src||history_set(get_fragment());poll();}).attr('src',iframe_src||'javascript:0').insertAfter('body')[0].contentWindow;doc.onpropertychange=function(){try{if(event.propertyName==='title'){iframe.document.title=doc.title;}}catch(e){}};}};self.stop=fn_retval;history_get=function(){return get_fragment(iframe.location.href);};history_set=function(hash,history_hash){var iframe_doc=iframe.document,domain=$.fn[str_hashchange].domain;if(hash!==history_hash){iframe_doc.title=doc.title;iframe_doc.open();domain&&iframe_doc.write('<script>document.domain="'+domain+'"</script>');iframe_doc.close();iframe.location.hash=hash;}};})();return self;})();})(Cog.jQuery(),this);/*!
* Copyright 2011 Twitter, Inc.
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Hogan={};(function(Hogan){Hogan.Template=function(codeObj,text,compiler,options){codeObj=codeObj||{};this.r=codeObj.code||this.r;this.c=compiler;this.options=options||{};this.text=text||'';this.partials=codeObj.partials||{};this.subs=codeObj.subs||{};this.buf='';}
Hogan.Template.prototype={r:function(context,partials,indent){return '';},v:hoganEscape,t:coerceToString,render:function render(context,partials,indent){return this.ri([context],partials||{},indent);},ri:function(context,partials,indent){return this.r(context,partials,indent);},ep:function(symbol,partials){var partial=this.partials[symbol];var template=partials[partial.name];if(partial.instance&&partial.base==template){return partial.instance;}
if(typeof template=='string'){if(!this.c){throw new Error("No compiler available.");}
template=this.c.compile(template,this.options);}
if(!template){return null;}
this.partials[symbol].base=template;if(partial.subs){if(!partials.stackText)partials.stackText={};for(key in partial.subs){if(!partials.stackText[key]){partials.stackText[key]=(this.activeSub!==undefined&&partials.stackText[this.activeSub])?partials.stackText[this.activeSub]:this.text;}}
template=createSpecializedPartial(template,partial.subs,partial.partials,this.stackSubs,this.stackPartials,partials.stackText);}
this.partials[symbol].instance=template;return template;},rp:function(symbol,context,partials,indent){var partial=this.ep(symbol,partials);if(!partial){return '';}
return partial.ri(context,partials,indent);},rs:function(context,partials,section){var tail=context[context.length-1];if(!isArray(tail)){section(context,partials,this);return;}
for(var i=0;i<tail.length;i++){context.push(tail[i]);section(context,partials,this);context.pop();}},s:function(val,ctx,partials,inverted,start,end,tags){var pass;if(isArray(val)&&val.length===0){return false;}
if(typeof val=='function'){val=this.ms(val,ctx,partials,inverted,start,end,tags);}
pass=!!val;if(!inverted&&pass&&ctx){ctx.push((typeof val=='object')?val:ctx[ctx.length-1]);}
return pass;},d:function(key,ctx,partials,returnFound){var found,names=key.split('.'),val=this.f(names[0],ctx,partials,returnFound),doModelGet=this.options.modelGet,cx=null;if(key==='.'&&isArray(ctx[ctx.length-2])){val=ctx[ctx.length-1];}else{for(var i=1;i<names.length;i++){found=findInScope(names[i],val,doModelGet);if(found!=null){cx=val;val=found;}else{val='';}}}
if(returnFound&&!val){return false;}
if(!returnFound&&typeof val=='function'){ctx.push(cx);val=this.mv(val,ctx,partials);ctx.pop();}
return val;},f:function(key,ctx,partials,returnFound){var val=false,v=null,found=false,doModelGet=this.options.modelGet;for(var i=ctx.length-1;i>=0;i--){v=ctx[i];val=findInScope(key,v,doModelGet);if(val!=null){found=true;break;}}
if(!found){return(returnFound)?false:"";}
if(!returnFound&&typeof val=='function'){val=this.mv(val,ctx,partials);}
return val;},ls:function(func,cx,partials,text,tags){var oldTags=this.options.delimiters;this.options.delimiters=tags;this.b(this.ct(coerceToString(func.call(cx,text)),cx,partials));this.options.delimiters=oldTags;return false;},ct:function(text,cx,partials){if(this.options.disableLambda){throw new Error('Lambda features disabled.');}
return this.c.compile(text,this.options).render(cx,partials);},b:function(s){this.buf+=s;},fl:function(){var r=this.buf;this.buf='';return r;},ms:function(func,ctx,partials,inverted,start,end,tags){var textSource,cx=ctx[ctx.length-1],result=func.call(cx);if(typeof result=='function'){if(inverted){return true;}else{textSource=(this.activeSub&&this.subsText&&this.subsText[this.activeSub])?this.subsText[this.activeSub]:this.text;return this.ls(result,cx,partials,textSource.substring(start,end),tags);}}
return result;},mv:function(func,ctx,partials){var cx=ctx[ctx.length-1];var result=func.call(cx);if(typeof result=='function'){return this.ct(coerceToString(result.call(cx)),cx,partials);}
return result;},sub:function(name,context,partials,indent){var f=this.subs[name];if(f){this.activeSub=name;f(context,partials,this,indent);this.activeSub=false;}}};function findInScope(key,scope,doModelGet){var val,checkVal;if(scope&&typeof scope=='object'){if(scope[key]!=null){val=scope[key];}else if(doModelGet&&scope.get&&typeof scope.get=='function'){val=scope.get(key);}}
return val;}
function createSpecializedPartial(instance,subs,partials,stackSubs,stackPartials,stackText){function PartialTemplate(){};PartialTemplate.prototype=instance;function Substitutions(){};Substitutions.prototype=instance.subs;var key;var partial=new PartialTemplate();partial.subs=new Substitutions();partial.subsText={};partial.buf='';stackSubs=stackSubs||{};partial.stackSubs=stackSubs;partial.subsText=stackText;for(key in subs){if(!stackSubs[key])stackSubs[key]=subs[key];}
for(key in stackSubs){partial.subs[key]=stackSubs[key];}
stackPartials=stackPartials||{};partial.stackPartials=stackPartials;for(key in partials){if(!stackPartials[key])stackPartials[key]=partials[key];}
for(key in stackPartials){partial.partials[key]=stackPartials[key];}
return partial;}
var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/\'/g,rQuot=/\"/g,hChars=/[&<>\"\']/;function coerceToString(val){return String((val===null||val===undefined)?'':val);}
function hoganEscape(str){str=coerceToString(str);return hChars.test(str)?str.replace(rAmp,'&amp;').replace(rLt,'&lt;').replace(rGt,'&gt;').replace(rApos,'&#39;').replace(rQuot,'&quot;'):str;}
var isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]';};})(typeof exports!=='undefined'?exports:Hogan);(function(Hogan){var rIsWhitespace=/\S/,rQuot=/\"/g,rNewline=/\n/g,rCr=/\r/g,rSlash=/\\/g;Hogan.tags={'#':1,'^':2,'<':3,'$':4,'/':5,'!':6,'>':7,'=':8,'_v':9,'{':10,'&':11,'_t':12};Hogan.scan=function scan(text,delimiters){var len=text.length,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf='',tokens=[],seenTag=false,i=0,lineStart=0,otag='{{',ctag='}}';function addBuf(){if(buf.length>0){tokens.push({tag:'_t',text:new String(buf)});buf='';}}
function lineIsWhitespace(){var isAllWhitespace=true;for(var j=lineStart;j<tokens.length;j++){isAllWhitespace=(Hogan.tags[tokens[j].tag]<Hogan.tags['_v'])||(tokens[j].tag=='_t'&&tokens[j].text.match(rIsWhitespace)===null);if(!isAllWhitespace){return false;}}
return isAllWhitespace;}
function filterLine(haveSeenTag,noNewLine){addBuf();if(haveSeenTag&&lineIsWhitespace()){for(var j=lineStart,next;j<tokens.length;j++){if(tokens[j].text){if((next=tokens[j+1])&&next.tag=='>'){next.indent=tokens[j].text.toString()}
tokens.splice(j,1);}}}else if(!noNewLine){tokens.push({tag:'\n'});}
seenTag=false;lineStart=tokens.length;}
function changeDelimiters(text,index){var close='='+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf('=',index)+1,closeIndex)).split(' ');otag=delimiters[0];ctag=delimiters[delimiters.length-1];return closeIndex+close.length-1;}
if(delimiters){delimiters=delimiters.split(' ');otag=delimiters[0];ctag=delimiters[1];}
for(i=0;i<len;i++){if(state==IN_TEXT){if(tagChange(otag,text,i)){--i;addBuf();state=IN_TAG_TYPE;}else{if(text.charAt(i)=='\n'){filterLine(seenTag);}else{buf+=text.charAt(i);}}}else if(state==IN_TAG_TYPE){i+=otag.length-1;tag=Hogan.tags[text.charAt(i+1)];tagType=tag?text.charAt(i+1):'_v';if(tagType=='='){i=changeDelimiters(text,i);state=IN_TEXT;}else{if(tag){i++;}
state=IN_TAG;}
seenTag=i;}else{if(tagChange(ctag,text,i)){tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:(tagType=='/')?seenTag-otag.length:i+ctag.length});buf='';i+=ctag.length-1;state=IN_TEXT;if(tagType=='{'){if(ctag=='}}'){i++;}else{cleanTripleStache(tokens[tokens.length-1]);}}}else{buf+=text.charAt(i);}}}
filterLine(seenTag,true);return tokens;}
function cleanTripleStache(token){if(token.n.substr(token.n.length-1)==='}'){token.n=token.n.substring(0,token.n.length-1);}}
function trim(s){if(s.trim){return s.trim();}
return s.replace(/^\s*|\s*$/g,'');}
function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0)){return false;}
for(var i=1,l=tag.length;i<l;i++){if(text.charAt(index+i)!=tag.charAt(i)){return false;}}
return true;}
var allowedInSuper={'_t':true,'\n':true,'$':true,'/':true};function buildTree(tokens,kind,stack,customTags){var instructions=[],opener=null,tail=null,token=null;tail=stack[stack.length-1];while(tokens.length>0){token=tokens.shift();if(tail&&tail.tag=='<'&&!(token.tag in allowedInSuper)){throw new Error('Illegal content in < super tag.');}
if(Hogan.tags[token.tag]<=Hogan.tags['$']||isOpener(token,customTags)){stack.push(token);token.nodes=buildTree(tokens,token.tag,stack,customTags);}else if(token.tag=='/'){if(stack.length===0){throw new Error('Closing tag without opener: /'+token.n);}
opener=stack.pop();if(token.n!=opener.n&&!isCloser(token.n,opener.n,customTags)){throw new Error('Nesting error: '+opener.n+' vs. '+token.n);}
opener.end=token.i;return instructions;}else if(token.tag=='\n'){token.last=(tokens.length==0)||(tokens[0].tag=='\n');}
instructions.push(token);}
if(stack.length>0){throw new Error('missing closing tag: '+stack.pop().n);}
return instructions;}
function isOpener(token,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].o==token.n){token.tag='#';return true;}}}
function isCloser(close,open,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].c==close&&tags[i].o==open){return true;}}}
function stringifySubstitutions(obj){var items=[];for(var key in obj){items.push('"'+esc(key)+'": function(c,p,t,i) {'+obj[key]+'}');}
return "{ "+items.join(",")+" }";}
function stringifyPartials(codeObj){var partials=[];for(var key in codeObj.partials){partials.push('"'+esc(key)+'":{name:"'+esc(codeObj.partials[key].name)+'", '+stringifyPartials(codeObj.partials[key])+"}");}
return "partials: {"+partials.join(",")+"}, subs: "+stringifySubstitutions(codeObj.subs);}
Hogan.stringify=function(codeObj,text,options){return "{code: function (c,p,i) { "+Hogan.wrapMain(codeObj.code)+" },"+stringifyPartials(codeObj)+"}";}
var serialNo=0;Hogan.generate=function(tree,text,options){serialNo=0;var context={code:'',subs:{},partials:{}};Hogan.walk(tree,context);if(options.asString){return this.stringify(context,text,options);}
return this.makeTemplate(context,text,options);}
Hogan.wrapMain=function(code){return 'var t=this;t.b(i=i||"");'+code+'return t.fl();';}
Hogan.template=Hogan.Template;Hogan.makeTemplate=function(codeObj,text,options){var template=this.makePartials(codeObj);template.code=new Function('c','p','i',this.wrapMain(codeObj.code));return new this.template(template,text,this,options);}
Hogan.makePartials=function(codeObj){var key,template={subs:{},partials:codeObj.partials,name:codeObj.name};for(key in template.partials){template.partials[key]=this.makePartials(template.partials[key]);}
for(key in codeObj.subs){template.subs[key]=new Function('c','p','t','i',codeObj.subs[key]);}
return template;}
function esc(s){return s.replace(rSlash,'\\\\').replace(rQuot,'\\\"').replace(rNewline,'\\n').replace(rCr,'\\r');}
function chooseMethod(s){return(~s.indexOf('.'))?'d':'f';}
function createPartial(node,context){var prefix="<"+(context.prefix||"");var sym=prefix+node.n+serialNo++;context.partials[sym]={name:node.n,partials:{}};context.code+='t.b(t.rp("'+esc(sym)+'",c,p,"'+(node.indent||'')+'"));';return sym;}
Hogan.codegen={'#':function(node,context){context.code+='if(t.s(t.'+chooseMethod(node.n)+'("'+esc(node.n)+'",c,p,1),'+
'c,p,0,'+node.i+','+node.end+',"'+node.otag+" "+node.ctag+'")){'+
't.rs(c,p,'+'function(c,p,t){';Hogan.walk(node.nodes,context);context.code+='});c.pop();}';},'^':function(node,context){context.code+='if(!t.s(t.'+chooseMethod(node.n)+'("'+esc(node.n)+'",c,p,1),c,p,1,0,0,"")){';Hogan.walk(node.nodes,context);context.code+='};';},'>':createPartial,'<':function(node,context){var ctx={partials:{},code:'',subs:{},inPartial:true};Hogan.walk(node.nodes,ctx);var template=context.partials[createPartial(node,context)];template.subs=ctx.subs;template.partials=ctx.partials;},'$':function(node,context){var ctx={subs:{},code:'',partials:context.partials,prefix:node.n};Hogan.walk(node.nodes,ctx);context.subs[node.n]=ctx.code;if(!context.inPartial){context.code+='t.sub("'+esc(node.n)+'",c,p,i);';}},'\n':function(node,context){context.code+=write('"\\n"'+(node.last?'':' + i'));},'_v':function(node,context){context.code+='t.b(t.v(t.'+chooseMethod(node.n)+'("'+esc(node.n)+'",c,p,0)));';},'_t':function(node,context){context.code+=write('"'+esc(node.text)+'"');},'{':tripleStache,'&':tripleStache}
function tripleStache(node,context){context.code+='t.b(t.t(t.'+chooseMethod(node.n)+'("'+esc(node.n)+'",c,p,0)));';}
function write(s){return 't.b('+s+');';}
Hogan.walk=function(nodelist,context){var func;for(var i=0,l=nodelist.length;i<l;i++){func=Hogan.codegen[nodelist[i].tag];func&&func(nodelist[i],context);}
return context;}
Hogan.parse=function(tokens,text,options){options=options||{};return buildTree(tokens,'',[],options.sectionTags||[]);}
Hogan.cache={};Hogan.cacheKey=function(text,options){return[text,!!options.asString,!!options.disableLambda,options.delimiters,!!options.modelGet].join('||');}
Hogan.compile=function(text,options){options=options||{};var key=Hogan.cacheKey(text,options);var template=this.cache[key];if(template){var partials=template.partials;for(var name in partials){delete partials[name].instance;}
return template;}
template=this.generate(this.parse(this.scan(text,options.delimiters),text,options),text,options);return this.cache[key]=template;}})(typeof exports!=='undefined'?exports:Hogan);(function($){var queryParser=function(a){var i,p,b={};if(a===""){return{};}
for(i=0;i<a.length;i+=1){p=a[i].split('=');if(p.length===2){b[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "));}}
return b;};$.queryParams=function(){return queryParser(window.location.search.substr(1).split('&'));};$.hashParams=function(){return queryParser(window.location.hash.substr(1).split('&'));};window.Swiftype=window.Swiftype||{};Swiftype.root_url=Swiftype.root_url||'https://api.swiftype.com';Swiftype.pingUrl=function(endpoint,callback){var to=setTimeout(callback,350);var img=new Image();img.onload=img.onerror=function(){clearTimeout(to);callback();};img.src=endpoint;return false;};Swiftype.pingSearchResultClick=function(engineKey,docId,callback){var params={t:new Date().getTime(),engine_key:engineKey,doc_id:docId,q:Swiftype.currentQuery};var url=Swiftype.root_url+'/api/v1/public/analytics/pc?'+$.param(params);Swiftype.pingUrl(url,callback);};Swiftype.setSearchHash=function(query,page,filters){var hash="stq="+encodeURIComponent(query)+"&stp="+page;if(filters){hash=hash+'&stf='+filters;}
location.hash=hash;};$.fn.swiftypeSearch=function(options){var options=$.extend({},$.fn.swiftypeSearch.defaults,options);return this.each(function(){var $this=$(this);var config=$.meta?$.extend({},options,$this.data()):options;$this.data('swiftype-config-search',config);$this.selectedCallback=function(data){return function(e){var $el=$(this);e.preventDefault();Swiftype.pingSearchResultClick(config.engineKey,data['id'],function(){config.onComplete($el);});};};$this.registerResult=function($element,data){$element.data('swiftype-item',data);$('a',$element).click($this.selectedCallback(data));};$this.getContentCache=function(){return $('#'+contentCacheId);};var $resultContainer=$(config.resultContainingElement),initialContentOfResultContainer=$resultContainer.html(),contentCacheId='st-content-cache',$contentCache=$this.getContentCache();var submitSearch=function(query,options){options=$.extend({page:1},options);var params={};if(!$contentCache.length){$resultContainer.after("<div id='"+contentCacheId+"' style='display: none;'></div>");$contentCache.html(initialContentOfResultContainer).hide();}
config.loadingFunction(query,$resultContainer);Swiftype.currentQuery=query;params['q']=query;params['engine_key']=config.engineKey;params['page']=options.page;function handleFunctionParam(field){if(field!==undefined){var evald=field;if(typeof evald==='function'){evald=evald.call();}
return evald;}
return undefined;}
params['per_page']=handleFunctionParam(config.perPage);params['search_fields']=handleFunctionParam(config.searchFields);params['fetch_fields']=handleFunctionParam(config.fetchFields);params['facets']=handleFunctionParam(config.facets);params['filters']=handleFunctionParam(config.filters);params['document_types']=handleFunctionParam(config.documentTypes);params['functional_boosts']=handleFunctionParam(config.functionalBoosts);params['sort_field']=handleFunctionParam(config.sortField);params['sort_direction']=handleFunctionParam(config.sortDirection);params['spelling']=handleFunctionParam(config.spelling);params['highlight_fields']=handleFunctionParam(config.highlightFields);$.ajax({dataType:"json",url:Swiftype.root_url+"/api/v1/public/engines/search.json?callback=?",data:params,xhrFields:{withCredentials:true},success:renderSearchResults,error:renderErrorMessage,timeout:config.timeout});};$(window).hashchange(function(){var params=$.hashParams();if(params.stq){submitSearch(params.stq,{page:params.stp});}else{var $contentCache=$this.getContentCache();if($contentCache.length){$resultContainer.html($contentCache.html());$contentCache.remove();}}});var $containingForm=$this.parents('form');if($containingForm){$containingForm.bind('submit',function(e){e.preventDefault();var searchQuery=$this.val();var searchFilters=$this.data('filters');Swiftype.setSearchHash(searchQuery,1,searchFilters);});}
$(document).on('click','[data-hash][data-page]',function(e){e.preventDefault();var page=parseInt($.hashParams().stp);var $this=$(this);var $search=$('.swiftypeSearch');var searchOffsetTop=$search.length?$search.offset().top:0;Swiftype.setSearchHash($.hashParams().stq,$this.data('page'),$.hashParams().stf);if(page!==$this.data('page')){$(window).scrollTop(searchOffsetTop);}});$(document).on('click','[data-hash][data-spelling-suggestion]',function(e){e.preventDefault();var $this=$(this);Swiftype.setSearchHash($this.data('spelling-suggestion'),1,$.hashParams().stf);});var renderSearchResults=function(data){if(typeof config.preRenderFunction==='function'){config.preRenderFunction.call($this,data);}
config.renderResultsFunction($this.getContext(),data);if(typeof config.postRenderFunction==='function'){config.postRenderFunction.call($this,data);}};var renderErrorMessage=function(data){if(typeof config.renderErrorFunction==='function'){config.renderErrorFunction.call($this,data);}};$this.getContext=function(){return{config:config,resultContainer:$resultContainer,registerResult:$this.registerResult};};$(window).hashchange();});};var renderPagination=function(ctx,resultInfo){var maxPagesType,maxPages=-1,config=ctx.config;$.each(resultInfo,function(documentType,typeInfo){if(typeInfo.num_pages>maxPages){maxPagesType=documentType;maxPages=typeInfo.num_pages;}});var currentPage=resultInfo[maxPagesType].current_page,totalPages=resultInfo[maxPagesType].num_pages;$(config.renderPaginationForType(maxPagesType,currentPage,totalPages)).appendTo(ctx.resultContainer);};var normalize=function(str){return $.trim(str).toLowerCase();};function htmlEscape(str){return String(str).replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
var defaultRenderResultsFunction=function(ctx,data){var $resultContainer=ctx.resultContainer,config=ctx.config;$resultContainer.html('');$.each(data.records,function(documentType,items){$.each(items,function(idx,item){ctx.registerResult($(config.renderFunction(documentType,item)).appendTo($resultContainer),item);});});renderPagination(ctx,data.info);};var defaultRenderFunction=function(document_type,item){return '<div class="st-result"><h3 class="title"><a href="'+item['url']+'" class="st-search-result-link">'+htmlEscape(item['title'])+'</a></h3></div>';};var defaultLoadingFunction=function(query,$resultContainer){$resultContainer.html('<p class="st-loading-message">loading...</p>');};var defaultOnComplete=function(elem){window.location=elem.attr('href');};var defaultPostRenderFunction=function(data){var totalResultCount=0;var $resultContainer=this.getContext().resultContainer;var spellingSuggestion=null;if(data['info']){$.each(data['info'],function(index,value){totalResultCount+=value['total_result_count'];if(value['spelling_suggestion']){spellingSuggestion=value['spelling_suggestion']['text'];}});}
if(totalResultCount===0){$resultContainer.html("<div id='st-no-results' class='st-no-results'>No results found.</div>");}
if(spellingSuggestion!==null){$resultContainer.append('<div class="st-spelling-suggestion">Did you mean <a href="#" data-hash="true" data-spelling-suggestion="'+spellingSuggestion+'">'+spellingSuggestion+'</a>?</div>');}};var defaultRenderPaginationForType=function(type,currentPage,totalPages){var pages='<div class="st-page">',previousPage,nextPage;if(currentPage!=1){previousPage=currentPage-1;pages=pages+'<a href="#" class="st-prev" data-hash="true" data-page="'+previousPage+'">&laquo; previous</a>';}
if(currentPage<totalPages){nextPage=currentPage+1;pages=pages+'<a href="#" class="st-next" data-hash="true" data-page="'+nextPage+'">next &raquo;</a>';}
pages+='</div>';return pages;};$.fn.swiftypeSearch.defaults={attachTo:undefined,documentTypes:undefined,facets:undefined,filters:undefined,engineKey:undefined,searchFields:undefined,functionalBoosts:undefined,sortField:undefined,sortDirection:undefined,fetchFields:undefined,highlightFields:undefined,preRenderFunction:undefined,renderErrorFunction:undefined,postRenderFunction:defaultPostRenderFunction,loadingFunction:defaultLoadingFunction,renderResultsFunction:defaultRenderResultsFunction,renderFunction:defaultRenderFunction,renderPaginationForType:defaultRenderPaginationForType,onComplete:defaultOnComplete,timeout:0,perPage:10,spelling:'strict'};})(Cog.jQuery());(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports!=='undefined'){module.exports=factory(require('jquery'));}else{factory($);}}(function($){'use strict';var Slick=window.Slick||{};Slick=(function(){var instanceUid=0;function Slick(element,settings){var _=this,dataSettings;_.defaults={accessibility:true,adaptiveHeight:false,appendArrows:$(element),appendDots:$(element),arrows:true,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:false,autoplaySpeed:3000,centerMode:false,centerPadding:'50px',cssEase:'ease',customPaging:function(slider,i){return $('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1);},dots:false,dotsClass:'slick-dots',draggable:true,easing:'linear',edgeFriction:0.35,fade:false,focusOnSelect:false,infinite:true,initialSlide:0,lazyLoad:'ondemand',mobileFirst:false,pauseOnHover:true,pauseOnFocus:true,pauseOnDotsHover:false,respondTo:'window',responsive:null,rows:1,rtl:false,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,useTransform:true,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1000};_.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};$.extend(_,_.initials);_.activeBreakpoint=null;_.animType=null;_.animProp=null;_.breakpoints=[];_.breakpointSettings=[];_.cssTransitions=false;_.focussed=false;_.interrupted=false;_.hidden='hidden';_.paused=true;_.positionProp=null;_.respondTo=null;_.rowCount=1;_.shouldClick=true;_.$slider=$(element);_.$slidesCache=null;_.transformType=null;_.transitionType=null;_.visibilityChange='visibilitychange';_.windowWidth=0;_.windowTimer=null;dataSettings=$(element).data('slick')||{};_.options=$.extend({},_.defaults,settings,dataSettings);_.currentSlide=_.options.initialSlide;_.originalSettings=_.options;if(typeof document.mozHidden!=='undefined'){_.hidden='mozHidden';_.visibilityChange='mozvisibilitychange';}else if(typeof document.webkitHidden!=='undefined'){_.hidden='webkitHidden';_.visibilityChange='webkitvisibilitychange';}
_.autoPlay=$.proxy(_.autoPlay,_);_.autoPlayClear=$.proxy(_.autoPlayClear,_);_.autoPlayIterator=$.proxy(_.autoPlayIterator,_);_.changeSlide=$.proxy(_.changeSlide,_);_.clickHandler=$.proxy(_.clickHandler,_);_.selectHandler=$.proxy(_.selectHandler,_);_.setPosition=$.proxy(_.setPosition,_);_.swipeHandler=$.proxy(_.swipeHandler,_);_.dragHandler=$.proxy(_.dragHandler,_);_.keyHandler=$.proxy(_.keyHandler,_);_.instanceUid=instanceUid++;_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;_.registerBreakpoints();_.init(true);}
return Slick;}());Slick.prototype.activateADA=function(){var _=this;_.$slideTrack.find('.slick-active').attr({'aria-hidden':'false'}).find('a, input, button, select').attr({'tabindex':'0'});};Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if(typeof(index)==='boolean'){addBefore=index;index=null;}else if(index<0||(index>=_.slideCount)){return false;}
_.unload();if(typeof(index)==='number'){if(index===0&&_.$slides.length===0){$(markup).appendTo(_.$slideTrack);}else if(addBefore){$(markup).insertBefore(_.$slides.eq(index));}else{$(markup).insertAfter(_.$slides.eq(index));}}else{if(addBefore===true){$(markup).prependTo(_.$slideTrack);}else{$(markup).appendTo(_.$slideTrack);}}
_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slides.each(function(index,element){$(element).attr('data-slick-index',index);});_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.animateHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.animate({height:targetHeight},_.options.speed);}};Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight();if(_.options.rtl===true&&_.options.vertical===false){targetLeft=-targetLeft;}
if(_.transformsEnabled===false){if(_.options.vertical===false){_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback);}else{_.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback);}}else{if(_.cssTransitions===false){if(_.options.rtl===true){_.currentLeft=-(_.currentLeft);}
$({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now);if(_.options.vertical===false){animProps[_.animType]='translate('+
now+'px, 0px)';_.$slideTrack.css(animProps);}else{animProps[_.animType]='translate(0px,'+
now+'px)';_.$slideTrack.css(animProps);}},complete:function(){if(callback){callback.call();}}});}else{_.applyTransition();targetLeft=Math.ceil(targetLeft);if(_.options.vertical===false){animProps[_.animType]='translate3d('+targetLeft+'px, 0px, 0px)';}else{animProps[_.animType]='translate3d(0px,'+targetLeft+'px, 0px)';}
_.$slideTrack.css(animProps);if(callback){setTimeout(function(){_.disableTransition();callback.call();},_.options.speed);}}}};Slick.prototype.getNavTarget=function(){var _=this,asNavFor=_.options.asNavFor;if(asNavFor&&asNavFor!==null){asNavFor=$(asNavFor).not(_.$slider);}
return asNavFor;};Slick.prototype.asNavFor=function(index){var _=this,asNavFor=_.getNavTarget();if(asNavFor!==null&&typeof asNavFor==='object'){asNavFor.each(function(){var target=$(this).slick('getSlick');if(!target.unslicked){target.slideHandler(index,true);}});}};Slick.prototype.applyTransition=function(slide){var _=this,transition={};if(_.options.fade===false){transition[_.transitionType]=_.transformType+' '+_.options.speed+'ms '+_.options.cssEase;}else{transition[_.transitionType]='opacity '+_.options.speed+'ms '+_.options.cssEase;}
if(_.options.fade===false){_.$slideTrack.css(transition);}else{_.$slides.eq(slide).css(transition);}};Slick.prototype.autoPlay=function(){var _=this;_.autoPlayClear();if(_.slideCount>_.options.slidesToShow){_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed);}};Slick.prototype.autoPlayClear=function(){var _=this;if(_.autoPlayTimer){clearInterval(_.autoPlayTimer);}};Slick.prototype.autoPlayIterator=function(){var _=this,slideTo=_.currentSlide+_.options.slidesToScroll;if(!_.paused&&!_.interrupted&&!_.focussed){if(_.options.infinite===false){if(_.direction===1&&(_.currentSlide+1)===(_.slideCount-1)){_.direction=0;}
else if(_.direction===0){slideTo=_.currentSlide-_.options.slidesToScroll;if(_.currentSlide-1===0){_.direction=1;}}}
_.slideHandler(slideTo);}};Slick.prototype.buildArrows=function(){var _=this;if(_.options.arrows===true){_.$prevArrow=$(_.options.prevArrow).addClass('slick-arrow');_.$nextArrow=$(_.options.nextArrow).addClass('slick-arrow');if(_.slideCount>_.options.slidesToShow){_.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');_.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.prependTo(_.options.appendArrows);}
if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.appendTo(_.options.appendArrows);}
if(_.options.infinite!==true){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');}}else{_.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true','tabindex':'-1'});}}};Slick.prototype.buildDots=function(){var _=this,i,dot;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$slider.addClass('slick-dotted');dot=$('<ul />').addClass(_.options.dotsClass);for(i=0;i<=_.getDotCount();i+=1){dot.append($('<li />').append(_.options.customPaging.call(this,_,i)));}
_.$dots=dot.appendTo(_.options.appendDots);_.$dots.find('li').first().addClass('slick-active').attr('aria-hidden','false');}};Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+':not(.slick-cloned)').addClass('slick-slide');_.slideCount=_.$slides.length;_.$slides.each(function(index,element){$(element).attr('data-slick-index',index).data('originalStyling',$(element).attr('style')||'');});_.$slider.addClass('slick-slider');_.$slideTrack=(_.slideCount===0)?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent();_.$list=_.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent();_.$slideTrack.css('opacity',0);if(_.options.centerMode===true||_.options.swipeToSlide===true){_.options.slidesToScroll=1;}
$('img[data-lazy]',_.$slider).not('[src]').addClass('slick-loading');_.setupInfinite();_.buildArrows();_.buildDots();_.updateDots();_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);if(_.options.draggable===true){_.$list.addClass('draggable');}};Slick.prototype.buildRows=function(){var _=this,a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection;newSlides=document.createDocumentFragment();originalSlides=_.$slider.children();if(_.options.rows>1){slidesPerSection=_.options.slidesPerRow*_.options.rows;numOfSlides=Math.ceil(originalSlides.length/slidesPerSection);for(a=0;a<numOfSlides;a++){var slide=document.createElement('div');for(b=0;b<_.options.rows;b++){var row=document.createElement('div');for(c=0;c<_.options.slidesPerRow;c++){var target=(a*slidesPerSection+((b*_.options.slidesPerRow)+c));if(originalSlides.get(target)){row.appendChild(originalSlides.get(target));}}
slide.appendChild(row);}
newSlides.appendChild(slide);}
_.$slider.empty().append(newSlides);_.$slider.children().children().children().css({'width':(100/_.options.slidesPerRow)+'%','display':'inline-block'});}};Slick.prototype.checkResponsive=function(initial,forceUpdate){var _=this,breakpoint,targetBreakpoint,respondToWidth,triggerBreakpoint=false;var sliderWidth=_.$slider.width();var windowWidth=window.innerWidth||$(window).width();if(_.respondTo==='window'){respondToWidth=windowWidth;}else if(_.respondTo==='slider'){respondToWidth=sliderWidth;}else if(_.respondTo==='min'){respondToWidth=Math.min(windowWidth,sliderWidth);}
if(_.options.responsive&&_.options.responsive.length&&_.options.responsive!==null){targetBreakpoint=null;for(breakpoint in _.breakpoints){if(_.breakpoints.hasOwnProperty(breakpoint)){if(_.originalSettings.mobileFirst===false){if(respondToWidth<_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint];}}else{if(respondToWidth>_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint];}}}}
if(targetBreakpoint!==null){if(_.activeBreakpoint!==null){if(targetBreakpoint!==_.activeBreakpoint||forceUpdate){_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint);}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true){_.currentSlide=_.options.initialSlide;}
_.refresh(initial);}
triggerBreakpoint=targetBreakpoint;}}else{_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint);}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true){_.currentSlide=_.options.initialSlide;}
_.refresh(initial);}
triggerBreakpoint=targetBreakpoint;}}else{if(_.activeBreakpoint!==null){_.activeBreakpoint=null;_.options=_.originalSettings;if(initial===true){_.currentSlide=_.options.initialSlide;}
_.refresh(initial);triggerBreakpoint=targetBreakpoint;}}
if(!initial&&triggerBreakpoint!==false){_.$slider.trigger('breakpoint',[_,triggerBreakpoint]);}}};Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.currentTarget),indexOffset,slideOffset,unevenOffset;if($target.is('a')){event.preventDefault();}
if(!$target.is('li')){$target=$target.closest('li');}
unevenOffset=(_.slideCount%_.options.slidesToScroll!==0);indexOffset=unevenOffset?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll;switch(event.data.message){case 'previous':slideOffset=indexOffset===0?_.options.slidesToScroll:_.options.slidesToShow-indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide-slideOffset,false,dontAnimate);}
break;case 'next':slideOffset=indexOffset===0?_.options.slidesToScroll:indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide+slideOffset,false,dontAnimate);}
break;case 'index':var index=event.data.index===0?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),false,dontAnimate);$target.children().trigger('focus');break;default:return;}};Slick.prototype.checkNavigable=function(index){var _=this,navigables,prevNavigable;navigables=_.getNavigableIndexes();prevNavigable=0;if(index>navigables[navigables.length-1]){index=navigables[navigables.length-1];}else{for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break;}
prevNavigable=navigables[n];}}
return index;};Slick.prototype.cleanUpEvents=function(){var _=this;if(_.options.dots&&_.$dots!==null){$('li',_.$dots).off('click.slick',_.changeSlide).off('mouseenter.slick',$.proxy(_.interrupt,_,true)).off('mouseleave.slick',$.proxy(_.interrupt,_,false));}
_.$slider.off('focus.slick blur.slick');if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow&&_.$prevArrow.off('click.slick',_.changeSlide);_.$nextArrow&&_.$nextArrow.off('click.slick',_.changeSlide);}
_.$list.off('touchstart.slick mousedown.slick',_.swipeHandler);_.$list.off('touchmove.slick mousemove.slick',_.swipeHandler);_.$list.off('touchend.slick mouseup.slick',_.swipeHandler);_.$list.off('touchcancel.slick mouseleave.slick',_.swipeHandler);_.$list.off('click.slick',_.clickHandler);$(document).off(_.visibilityChange,_.visibility);_.cleanUpSlideEvents();if(_.options.accessibility===true){_.$list.off('keydown.slick',_.keyHandler);}
if(_.options.focusOnSelect===true){$(_.$slideTrack).children().off('click.slick',_.selectHandler);}
$(window).off('orientationchange.slick.slick-'+_.instanceUid,_.orientationChange);$(window).off('resize.slick.slick-'+_.instanceUid,_.resize);$('[draggable!=true]',_.$slideTrack).off('dragstart',_.preventDefault);$(window).off('load.slick.slick-'+_.instanceUid,_.setPosition);$(document).off('ready.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.off('mouseleave.slick',$.proxy(_.interrupt,_,false));};Slick.prototype.cleanUpRows=function(){var _=this,originalSlides;if(_.options.rows>1){originalSlides=_.$slides.children().children();originalSlides.removeAttr('style');_.$slider.empty().append(originalSlides);}};Slick.prototype.clickHandler=function(event){var _=this;if(_.shouldClick===false){event.stopImmediatePropagation();event.stopPropagation();event.preventDefault();}};Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear();_.touchObject={};_.cleanUpEvents();$('.slick-cloned',_.$slider).detach();if(_.$dots){_.$dots.remove();}
if(_.$prevArrow&&_.$prevArrow.length){_.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove();}}
if(_.$nextArrow&&_.$nextArrow.length){_.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove();}}
if(_.$slides){_.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){$(this).attr('style',$(this).data('originalStyling'));});_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.detach();_.$list.detach();_.$slider.append(_.$slides);}
_.cleanUpRows();_.$slider.removeClass('slick-slider');_.$slider.removeClass('slick-initialized');_.$slider.removeClass('slick-dotted');_.unslicked=true;if(!refresh){_.$slider.trigger('destroy',[_]);}};Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]='';if(_.options.fade===false){_.$slideTrack.css(transition);}else{_.$slides.eq(slide).css(transition);}};Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex});_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex});if(callback){setTimeout(function(){_.disableTransition(slideIndex);callback.call();},_.options.speed);}}};Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2});}};Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;if(filter!==null){_.$slidesCache=_.$slides;_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.filter(filter).appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.focusHandler=function(){var _=this;_.$slider.off('focus.slick blur.slick').on('focus.slick blur.slick','*:not(.slick-arrow)',function(event){event.stopImmediatePropagation();var $sf=$(this);setTimeout(function(){if(_.options.pauseOnFocus){_.focussed=$sf.is(':focus');_.autoPlay();}},0);});};Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){var _=this;return _.currentSlide;};Slick.prototype.getDotCount=function(){var _=this;var breakPoint=0;var counter=0;var pagerQty=0;if(_.options.infinite===true){while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}}else if(_.options.centerMode===true){pagerQty=_.slideCount;}else if(!_.options.asNavFor){pagerQty=1+Math.ceil((_.slideCount-_.options.slidesToShow)/_.options.slidesToScroll);}else{while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}}
return pagerQty-1;};Slick.prototype.getLeft=function(slideIndex){var _=this,targetLeft,verticalHeight,verticalOffset=0,targetSlide;_.slideOffset=0;verticalHeight=_.$slides.first().outerHeight(true);if(_.options.infinite===true){if(_.slideCount>_.options.slidesToShow){_.slideOffset=(_.slideWidth*_.options.slidesToShow)*-1;verticalOffset=(verticalHeight*_.options.slidesToShow)*-1;}
if(_.slideCount%_.options.slidesToScroll!==0){if(slideIndex+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow){if(slideIndex>_.slideCount){_.slideOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*_.slideWidth)*-1;verticalOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*verticalHeight)*-1;}else{_.slideOffset=((_.slideCount%_.options.slidesToScroll)*_.slideWidth)*-1;verticalOffset=((_.slideCount%_.options.slidesToScroll)*verticalHeight)*-1;}}}}else{if(slideIndex+_.options.slidesToShow>_.slideCount){_.slideOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*_.slideWidth;verticalOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*verticalHeight;}}
if(_.slideCount<=_.options.slidesToShow){_.slideOffset=0;verticalOffset=0;}
if(_.options.centerMode===true&&_.options.infinite===true){_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)-_.slideWidth;}else if(_.options.centerMode===true){_.slideOffset=0;_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2);}
if(_.options.vertical===false){targetLeft=((slideIndex*_.slideWidth)*-1)+_.slideOffset;}else{targetLeft=((slideIndex*verticalHeight)*-1)+verticalOffset;}
if(_.options.variableWidth===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow);}
if(_.options.rtl===true){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;}else{targetLeft=0;}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;}
if(_.options.centerMode===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow+1);}
if(_.options.rtl===true){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;}else{targetLeft=0;}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;}
targetLeft+=(_.$list.width()-targetSlide.outerWidth())/2;}}
return targetLeft;};Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){var _=this;return _.options[option];};Slick.prototype.getNavigableIndexes=function(){var _=this,breakPoint=0,counter=0,indexes=[],max;if(_.options.infinite===false){max=_.slideCount;}else{breakPoint=_.options.slidesToScroll*-1;counter=_.options.slidesToScroll*-1;max=_.slideCount*2;}
while(breakPoint<max){indexes.push(breakPoint);breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}
return indexes;};Slick.prototype.getSlick=function(){return this;};Slick.prototype.getSlideCount=function(){var _=this,slidesTraversed,swipedSlide,centerOffset;centerOffset=_.options.centerMode===true?_.slideWidth*Math.floor(_.options.slidesToShow/2):0;if(_.options.swipeToSlide===true){_.$slideTrack.find('.slick-slide').each(function(index,slide){if(slide.offsetLeft-centerOffset+($(slide).outerWidth()/2)>(_.swipeLeft*-1)){swipedSlide=slide;return false;}});slidesTraversed=Math.abs($(swipedSlide).attr('data-slick-index')-_.currentSlide)||1;return slidesTraversed;}else{return _.options.slidesToScroll;}};Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){var _=this;_.changeSlide({data:{message:'index',index:parseInt(slide)}},dontAnimate);};Slick.prototype.init=function(creation){var _=this;if(!$(_.$slider).hasClass('slick-initialized')){$(_.$slider).addClass('slick-initialized');_.buildRows();_.buildOut();_.setProps();_.startLoad();_.loadSlider();_.initializeEvents();_.updateArrows();_.updateDots();_.checkResponsive(true);_.focusHandler();}
if(creation){_.$slider.trigger('init',[_]);}
if(_.options.accessibility===true){_.initADA();}
if(_.options.autoplay){_.paused=false;_.autoPlay();}};Slick.prototype.initADA=function(){var _=this;_.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true','tabindex':'-1'}).find('a, input, button, select').attr({'tabindex':'-1'});_.$slideTrack.attr('role','listbox');_.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i){$(this).attr({'role':'option','aria-describedby':'slick-slide'+_.instanceUid+i+''});});if(_.$dots!==null){_.$dots.attr('role','tablist').find('li').each(function(i){$(this).attr({'role':'presentation','aria-selected':'false','aria-controls':'navigation'+_.instanceUid+i+'','id':'slick-slide'+_.instanceUid+i+''});}).first().attr('aria-selected','true').end().find('button').attr('role','button').end().closest('div').attr('role','toolbar');}
_.activateADA();};Slick.prototype.initArrowEvents=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.off('click.slick').on('click.slick',{message:'previous'},_.changeSlide);_.$nextArrow.off('click.slick').on('click.slick',{message:'next'},_.changeSlide);}};Slick.prototype.initDotEvents=function(){var _=this;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('click.slick',{message:'index'},_.changeSlide);}
if(_.options.dots===true&&_.options.pauseOnDotsHover===true){$('li',_.$dots).on('mouseenter.slick',$.proxy(_.interrupt,_,true)).on('mouseleave.slick',$.proxy(_.interrupt,_,false));}};Slick.prototype.initSlideEvents=function(){var _=this;if(_.options.pauseOnHover){_.$list.on('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.on('mouseleave.slick',$.proxy(_.interrupt,_,false));}};Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents();_.initDotEvents();_.initSlideEvents();_.$list.on('touchstart.slick mousedown.slick',{action:'start'},_.swipeHandler);_.$list.on('touchmove.slick mousemove.slick',{action:'move'},_.swipeHandler);_.$list.on('touchend.slick mouseup.slick',{action:'end'},_.swipeHandler);_.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},_.swipeHandler);_.$list.on('click.slick',_.clickHandler);$(document).on(_.visibilityChange,$.proxy(_.visibility,_));if(_.options.accessibility===true){_.$list.on('keydown.slick',_.keyHandler);}
if(_.options.focusOnSelect===true){$(_.$slideTrack).children().on('click.slick',_.selectHandler);}
$(window).on('orientationchange.slick.slick-'+_.instanceUid,$.proxy(_.orientationChange,_));$(window).on('resize.slick.slick-'+_.instanceUid,$.proxy(_.resize,_));$('[draggable!=true]',_.$slideTrack).on('dragstart',_.preventDefault);$(window).on('load.slick.slick-'+_.instanceUid,_.setPosition);$(document).on('ready.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.initUI=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.show();_.$nextArrow.show();}
if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$dots.show();}};Slick.prototype.keyHandler=function(event){var _=this;if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')){if(event.keyCode===37&&_.options.accessibility===true){_.changeSlide({data:{message:_.options.rtl===true?'next':'previous'}});}else if(event.keyCode===39&&_.options.accessibility===true){_.changeSlide({data:{message:_.options.rtl===true?'previous':'next'}});}}};Slick.prototype.lazyLoad=function(){var _=this,loadRange,cloneRange,rangeStart,rangeEnd;function loadImages(imagesScope){$('img[data-lazy]',imagesScope).each(function(){var image=$(this),imageSource=$(this).attr('data-lazy'),imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.animate({opacity:0},100,function(){image.attr('src',imageSource).animate({opacity:1},200,function(){image.removeAttr('data-lazy').removeClass('slick-loading');});_.$slider.trigger('lazyLoaded',[_,image,imageSource]);});};imageToLoad.onerror=function(){image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);};imageToLoad.src=imageSource;});}
if(_.options.centerMode===true){if(_.options.infinite===true){rangeStart=_.currentSlide+(_.options.slidesToShow/2+1);rangeEnd=rangeStart+_.options.slidesToShow+2;}else{rangeStart=Math.max(0,_.currentSlide-(_.options.slidesToShow/2+1));rangeEnd=2+(_.options.slidesToShow/2+1)+_.currentSlide;}}else{rangeStart=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide;rangeEnd=Math.ceil(rangeStart+_.options.slidesToShow);if(_.options.fade===true){if(rangeStart>0)rangeStart--;if(rangeEnd<=_.slideCount)rangeEnd++;}}
loadRange=_.$slider.find('.slick-slide').slice(rangeStart,rangeEnd);loadImages(loadRange);if(_.slideCount<=_.options.slidesToShow){cloneRange=_.$slider.find('.slick-slide');loadImages(cloneRange);}else
if(_.currentSlide>=_.slideCount-_.options.slidesToShow){cloneRange=_.$slider.find('.slick-cloned').slice(0,_.options.slidesToShow);loadImages(cloneRange);}else if(_.currentSlide===0){cloneRange=_.$slider.find('.slick-cloned').slice(_.options.slidesToShow*-1);loadImages(cloneRange);}};Slick.prototype.loadSlider=function(){var _=this;_.setPosition();_.$slideTrack.css({opacity:1});_.$slider.removeClass('slick-loading');_.initUI();if(_.options.lazyLoad==='progressive'){_.progressiveLazyLoad();}};Slick.prototype.next=Slick.prototype.slickNext=function(){var _=this;_.changeSlide({data:{message:'next'}});};Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive();_.setPosition();};Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear();_.paused=true;};Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.autoPlay();_.options.autoplay=true;_.paused=false;_.focussed=false;_.interrupted=false;};Slick.prototype.postSlide=function(index){var _=this;if(!_.unslicked){_.$slider.trigger('afterChange',[_,index]);_.animating=false;_.setPosition();_.swipeLeft=null;if(_.options.autoplay){_.autoPlay();}
if(_.options.accessibility===true){_.initADA();}}};Slick.prototype.prev=Slick.prototype.slickPrev=function(){var _=this;_.changeSlide({data:{message:'previous'}});};Slick.prototype.preventDefault=function(event){event.preventDefault();};Slick.prototype.progressiveLazyLoad=function(tryCount){tryCount=tryCount||1;var _=this,$imgsToLoad=$('img[data-lazy]',_.$slider),image,imageSource,imageToLoad;if($imgsToLoad.length){image=$imgsToLoad.first();imageSource=image.attr('data-lazy');imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.attr('src',imageSource).removeAttr('data-lazy').removeClass('slick-loading');if(_.options.adaptiveHeight===true){_.setPosition();}
_.$slider.trigger('lazyLoaded',[_,image,imageSource]);_.progressiveLazyLoad();};imageToLoad.onerror=function(){if(tryCount<3){setTimeout(function(){_.progressiveLazyLoad(tryCount+1);},500);}else{image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);_.progressiveLazyLoad();}};imageToLoad.src=imageSource;}else{_.$slider.trigger('allImagesLoaded',[_]);}};Slick.prototype.refresh=function(initializing){var _=this,currentSlide,lastVisibleIndex;lastVisibleIndex=_.slideCount-_.options.slidesToShow;if(!_.options.infinite&&(_.currentSlide>lastVisibleIndex)){_.currentSlide=lastVisibleIndex;}
if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0;}
currentSlide=_.currentSlide;_.destroy(true);$.extend(_,_.initials,{currentSlide:currentSlide});_.init();if(!initializing){_.changeSlide({data:{message:'index',index:currentSlide}},false);}};Slick.prototype.registerBreakpoints=function(){var _=this,breakpoint,currentBreakpoint,l,responsiveSettings=_.options.responsive||null;if($.type(responsiveSettings)==='array'&&responsiveSettings.length){_.respondTo=_.options.respondTo||'window';for(breakpoint in responsiveSettings){l=_.breakpoints.length-1;currentBreakpoint=responsiveSettings[breakpoint].breakpoint;if(responsiveSettings.hasOwnProperty(breakpoint)){while(l>=0){if(_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint){_.breakpoints.splice(l,1);}
l--;}
_.breakpoints.push(currentBreakpoint);_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings;}}
_.breakpoints.sort(function(a,b){return(_.options.mobileFirst)?a-b:b-a;});}};Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass('slick-slide');_.slideCount=_.$slides.length;if(_.currentSlide>=_.slideCount&&_.currentSlide!==0){_.currentSlide=_.currentSlide-_.options.slidesToScroll;}
if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0;}
_.registerBreakpoints();_.setProps();_.setupInfinite();_.buildArrows();_.updateArrows();_.initArrowEvents();_.buildDots();_.updateDots();_.initDotEvents();_.cleanUpSlideEvents();_.initSlideEvents();_.checkResponsive(false,true);if(_.options.focusOnSelect===true){$(_.$slideTrack).children().on('click.slick',_.selectHandler);}
_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);_.setPosition();_.focusHandler();_.paused=!_.options.autoplay;_.autoPlay();_.$slider.trigger('reInit',[_]);};Slick.prototype.resize=function(){var _=this;if($(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width();_.checkResponsive();if(!_.unslicked){_.setPosition();}},50);}};Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(typeof(index)==='boolean'){removeBefore=index;index=removeBefore===true?0:_.slideCount-1;}else{index=removeBefore===true?--index:index;}
if(_.slideCount<1||index<0||index>_.slideCount-1){return false;}
_.unload();if(removeAll===true){_.$slideTrack.children().remove();}else{_.$slideTrack.children(this.options.slide).eq(index).remove();}
_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.setCSS=function(position){var _=this,positionProps={},x,y;if(_.options.rtl===true){position=-position;}
x=_.positionProp=='left'?Math.ceil(position)+'px':'0px';y=_.positionProp=='top'?Math.ceil(position)+'px':'0px';positionProps[_.positionProp]=position;if(_.transformsEnabled===false){_.$slideTrack.css(positionProps);}else{positionProps={};if(_.cssTransitions===false){positionProps[_.animType]='translate('+x+', '+y+')';_.$slideTrack.css(positionProps);}else{positionProps[_.animType]='translate3d('+x+', '+y+', 0px)';_.$slideTrack.css(positionProps);}}};Slick.prototype.setDimensions=function(){var _=this;if(_.options.vertical===false){if(_.options.centerMode===true){_.$list.css({padding:('0px '+_.options.centerPadding)});}}else{_.$list.height(_.$slides.first().outerHeight(true)*_.options.slidesToShow);if(_.options.centerMode===true){_.$list.css({padding:(_.options.centerPadding+' 0px')});}}
_.listWidth=_.$list.width();_.listHeight=_.$list.height();if(_.options.vertical===false&&_.options.variableWidth===false){_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow);_.$slideTrack.width(Math.ceil((_.slideWidth*_.$slideTrack.children('.slick-slide').length)));}else if(_.options.variableWidth===true){_.$slideTrack.width(5000*_.slideCount);}else{_.slideWidth=Math.ceil(_.listWidth);_.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true)*_.$slideTrack.children('.slick-slide').length)));}
var offset=_.$slides.first().outerWidth(true)-_.$slides.first().width();if(_.options.variableWidth===false)_.$slideTrack.children('.slick-slide').width(_.slideWidth-offset);};Slick.prototype.setFade=function(){var _=this,targetLeft;_.$slides.each(function(index,element){targetLeft=(_.slideWidth*index)*-1;if(_.options.rtl===true){$(element).css({position:'relative',right:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});}else{$(element).css({position:'relative',left:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});}});_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1});};Slick.prototype.setHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.css('height',targetHeight);}};Slick.prototype.setOption=Slick.prototype.slickSetOption=function(){var _=this,l,item,option,value,refresh=false,type;if($.type(arguments[0])==='object'){option=arguments[0];refresh=arguments[1];type='multiple';}else if($.type(arguments[0])==='string'){option=arguments[0];value=arguments[1];refresh=arguments[2];if(arguments[0]==='responsive'&&$.type(arguments[1])==='array'){type='responsive';}else if(typeof arguments[1]!=='undefined'){type='single';}}
if(type==='single'){_.options[option]=value;}else if(type==='multiple'){$.each(option,function(opt,val){_.options[opt]=val;});}else if(type==='responsive'){for(item in value){if($.type(_.options.responsive)!=='array'){_.options.responsive=[value[item]];}else{l=_.options.responsive.length-1;while(l>=0){if(_.options.responsive[l].breakpoint===value[item].breakpoint){_.options.responsive.splice(l,1);}
l--;}
_.options.responsive.push(value[item]);}}}
if(refresh){_.unload();_.reinit();}};Slick.prototype.setPosition=function(){var _=this;_.setDimensions();_.setHeight();if(_.options.fade===false){_.setCSS(_.getLeft(_.currentSlide));}else{_.setFade();}
_.$slider.trigger('setPosition',[_]);};Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=_.options.vertical===true?'top':'left';if(_.positionProp==='top'){_.$slider.addClass('slick-vertical');}else{_.$slider.removeClass('slick-vertical');}
if(bodyStyle.WebkitTransition!==undefined||bodyStyle.MozTransition!==undefined||bodyStyle.msTransition!==undefined){if(_.options.useCSS===true){_.cssTransitions=true;}}
if(_.options.fade){if(typeof _.options.zIndex==='number'){if(_.options.zIndex<3){_.options.zIndex=3;}}else{_.options.zIndex=_.defaults.zIndex;}}
if(bodyStyle.OTransform!==undefined){_.animType='OTransform';_.transformType='-o-transform';_.transitionType='OTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}
if(bodyStyle.MozTransform!==undefined){_.animType='MozTransform';_.transformType='-moz-transform';_.transitionType='MozTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.MozPerspective===undefined)_.animType=false;}
if(bodyStyle.webkitTransform!==undefined){_.animType='webkitTransform';_.transformType='-webkit-transform';_.transitionType='webkitTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}
if(bodyStyle.msTransform!==undefined){_.animType='msTransform';_.transformType='-ms-transform';_.transitionType='msTransition';if(bodyStyle.msTransform===undefined)_.animType=false;}
if(bodyStyle.transform!==undefined&&_.animType!==false){_.animType='transform';_.transformType='transform';_.transitionType='transition';}
_.transformsEnabled=_.options.useTransform&&(_.animType!==null&&_.animType!==false);};Slick.prototype.setSlideClasses=function(index){var _=this,centerOffset,allSlides,indexOffset,remainder;allSlides=_.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true');_.$slides.eq(index).addClass('slick-current');if(_.options.centerMode===true){centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.infinite===true){if(index>=centerOffset&&index<=(_.slideCount-1)-centerOffset){_.$slides.slice(index-centerOffset,index+centerOffset+1).addClass('slick-active').attr('aria-hidden','false');}else{indexOffset=_.options.slidesToShow+index;allSlides.slice(indexOffset-centerOffset+1,indexOffset+centerOffset+2).addClass('slick-active').attr('aria-hidden','false');}
if(index===0){allSlides.eq(allSlides.length-1-_.options.slidesToShow).addClass('slick-center');}else if(index===_.slideCount-1){allSlides.eq(_.options.slidesToShow).addClass('slick-center');}}
_.$slides.eq(index).addClass('slick-center');}else{if(index>=0&&index<=(_.slideCount-_.options.slidesToShow)){_.$slides.slice(index,index+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}else if(allSlides.length<=_.options.slidesToShow){allSlides.addClass('slick-active').attr('aria-hidden','false');}else{remainder=_.slideCount%_.options.slidesToShow;indexOffset=_.options.infinite===true?_.options.slidesToShow+index:index;if(_.options.slidesToShow==_.options.slidesToScroll&&(_.slideCount-index)<_.options.slidesToShow){allSlides.slice(indexOffset-(_.options.slidesToShow-remainder),indexOffset+remainder).addClass('slick-active').attr('aria-hidden','false');}else{allSlides.slice(indexOffset,indexOffset+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}}}
if(_.options.lazyLoad==='ondemand'){_.lazyLoad();}};Slick.prototype.setupInfinite=function(){var _=this,i,slideIndex,infiniteCount;if(_.options.fade===true){_.options.centerMode=false;}
if(_.options.infinite===true&&_.options.fade===false){slideIndex=null;if(_.slideCount>_.options.slidesToShow){if(_.options.centerMode===true){infiniteCount=_.options.slidesToShow+1;}else{infiniteCount=_.options.slidesToShow;}
for(i=_.slideCount;i>(_.slideCount-
infiniteCount);i-=1){slideIndex=i-1;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned');}
for(i=0;i<infiniteCount;i+=1){slideIndex=i;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned');}
_.$slideTrack.find('.slick-cloned').find('[id]').each(function(){$(this).attr('id','');});}}};Slick.prototype.interrupt=function(toggle){var _=this;if(!toggle){_.autoPlay();}
_.interrupted=toggle;};Slick.prototype.selectHandler=function(event){var _=this;var targetElement=$(event.target).is('.slick-slide')?$(event.target):$(event.target).parents('.slick-slide');var index=parseInt(targetElement.attr('data-slick-index'));if(!index)index=0;if(_.slideCount<=_.options.slidesToShow){_.setSlideClasses(index);_.asNavFor(index);return;}
_.slideHandler(index);};Slick.prototype.slideHandler=function(index,sync,dontAnimate){var targetSlide,animSlide,oldSlide,slideLeft,targetLeft=null,_=this,navTarget;sync=sync||false;if(_.animating===true&&_.options.waitForAnimate===true){return;}
if(_.options.fade===true&&_.currentSlide===index){return;}
if(_.slideCount<=_.options.slidesToShow){return;}
if(sync===false){_.asNavFor(index);}
targetSlide=index;targetLeft=_.getLeft(targetSlide);slideLeft=_.getLeft(_.currentSlide);_.currentLeft=_.swipeLeft===null?slideLeft:_.swipeLeft;if(_.options.infinite===false&&_.options.centerMode===false&&(index<0||index>_.getDotCount()*_.options.slidesToScroll)){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});}else{_.postSlide(targetSlide);}}
return;}else if(_.options.infinite===false&&_.options.centerMode===true&&(index<0||index>(_.slideCount-_.options.slidesToScroll))){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});}else{_.postSlide(targetSlide);}}
return;}
if(_.options.autoplay){clearInterval(_.autoPlayTimer);}
if(targetSlide<0){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=_.slideCount-(_.slideCount%_.options.slidesToScroll);}else{animSlide=_.slideCount+targetSlide;}}else if(targetSlide>=_.slideCount){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=0;}else{animSlide=targetSlide-_.slideCount;}}else{animSlide=targetSlide;}
_.animating=true;_.$slider.trigger('beforeChange',[_,_.currentSlide,animSlide]);oldSlide=_.currentSlide;_.currentSlide=animSlide;_.setSlideClasses(_.currentSlide);if(_.options.asNavFor){navTarget=_.getNavTarget();navTarget=navTarget.slick('getSlick');if(navTarget.slideCount<=navTarget.options.slidesToShow){navTarget.setSlideClasses(_.currentSlide);}}
_.updateDots();_.updateArrows();if(_.options.fade===true){if(dontAnimate!==true){_.fadeSlideOut(oldSlide);_.fadeSlide(animSlide,function(){_.postSlide(animSlide);});}else{_.postSlide(animSlide);}
_.animateHeight();return;}
if(dontAnimate!==true){_.animateSlide(targetLeft,function(){_.postSlide(animSlide);});}else{_.postSlide(animSlide);}};Slick.prototype.startLoad=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.hide();_.$nextArrow.hide();}
if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$dots.hide();}
_.$slider.addClass('slick-loading');};Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;xDist=_.touchObject.startX-_.touchObject.curX;yDist=_.touchObject.startY-_.touchObject.curY;r=Math.atan2(yDist,xDist);swipeAngle=Math.round(r*180/Math.PI);if(swipeAngle<0){swipeAngle=360-Math.abs(swipeAngle);}
if((swipeAngle<=45)&&(swipeAngle>=0)){return(_.options.rtl===false?'left':'right');}
if((swipeAngle<=360)&&(swipeAngle>=315)){return(_.options.rtl===false?'left':'right');}
if((swipeAngle>=135)&&(swipeAngle<=225)){return(_.options.rtl===false?'right':'left');}
if(_.options.verticalSwiping===true){if((swipeAngle>=35)&&(swipeAngle<=135)){return 'down';}else{return 'up';}}
return 'vertical';};Slick.prototype.swipeEnd=function(event){var _=this,slideCount,direction;_.dragging=false;_.interrupted=false;_.shouldClick=(_.touchObject.swipeLength>10)?false:true;if(_.touchObject.curX===undefined){return false;}
if(_.touchObject.edgeHit===true){_.$slider.trigger('edge',[_,_.swipeDirection()]);}
if(_.touchObject.swipeLength>=_.touchObject.minSwipe){direction=_.swipeDirection();switch(direction){case 'left':case 'down':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount();_.currentDirection=0;break;case 'right':case 'up':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount();_.currentDirection=1;break;default:}
if(direction!='vertical'){_.slideHandler(slideCount);_.touchObject={};_.$slider.trigger('swipe',[_,direction]);}}else{if(_.touchObject.startX!==_.touchObject.curX){_.slideHandler(_.currentSlide);_.touchObject={};}}};Slick.prototype.swipeHandler=function(event){var _=this;if((_.options.swipe===false)||('ontouchend'in document&&_.options.swipe===false)){return;}else if(_.options.draggable===false&&event.type.indexOf('mouse')!==-1){return;}
_.touchObject.fingerCount=event.originalEvent&&event.originalEvent.touches!==undefined?event.originalEvent.touches.length:1;_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold;if(_.options.verticalSwiping===true){_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold;}
switch(event.data.action){case 'start':_.swipeStart(event);break;case 'move':_.swipeMove(event);break;case 'end':_.swipeEnd(event);break;}};Slick.prototype.swipeMove=function(event){var _=this,edgeWasHit=false,curLeft,swipeDirection,swipeLength,positionOffset,touches;touches=event.originalEvent!==undefined?event.originalEvent.touches:null;if(!_.dragging||touches&&touches.length!==1){return false;}
curLeft=_.getLeft(_.currentSlide);_.touchObject.curX=touches!==undefined?touches[0].pageX:event.clientX;_.touchObject.curY=touches!==undefined?touches[0].pageY:event.clientY;_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2)));if(_.options.verticalSwiping===true){_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)));}
swipeDirection=_.swipeDirection();if(swipeDirection==='vertical'){return;}
if(event.originalEvent!==undefined&&_.touchObject.swipeLength>4){event.preventDefault();}
positionOffset=(_.options.rtl===false?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1);if(_.options.verticalSwiping===true){positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1;}
swipeLength=_.touchObject.swipeLength;_.touchObject.edgeHit=false;if(_.options.infinite===false){if((_.currentSlide===0&&swipeDirection==='right')||(_.currentSlide>=_.getDotCount()&&swipeDirection==='left')){swipeLength=_.touchObject.swipeLength*_.options.edgeFriction;_.touchObject.edgeHit=true;}}
if(_.options.vertical===false){_.swipeLeft=curLeft+swipeLength*positionOffset;}else{_.swipeLeft=curLeft+(swipeLength*(_.$list.height()/_.listWidth))*positionOffset;}
if(_.options.verticalSwiping===true){_.swipeLeft=curLeft+swipeLength*positionOffset;}
if(_.options.fade===true||_.options.touchMove===false){return false;}
if(_.animating===true){_.swipeLeft=null;return false;}
_.setCSS(_.swipeLeft);};Slick.prototype.swipeStart=function(event){var _=this,touches;_.interrupted=true;if(_.touchObject.fingerCount!==1||_.slideCount<=_.options.slidesToShow){_.touchObject={};return false;}
if(event.originalEvent!==undefined&&event.originalEvent.touches!==undefined){touches=event.originalEvent.touches[0];}
_.touchObject.startX=_.touchObject.curX=touches!==undefined?touches.pageX:event.clientX;_.touchObject.startY=_.touchObject.curY=touches!==undefined?touches.pageY:event.clientY;_.dragging=true;};Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;if(_.$slidesCache!==null){_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.unload=function(){var _=this;$('.slick-cloned',_.$slider).remove();if(_.$dots){_.$dots.remove();}
if(_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove();}
if(_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove();}
_.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','');};Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger('unslick',[_,fromBreakpoint]);_.destroy();};Slick.prototype.updateArrows=function(){var _=this,centerOffset;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow&&!_.options.infinite){_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');if(_.currentSlide===0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow&&_.options.centerMode===false){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-1&&_.options.centerMode===true){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}}};Slick.prototype.updateDots=function(){var _=this;if(_.$dots!==null){_.$dots.find('li').removeClass('slick-active').attr('aria-hidden','true');_.$dots.find('li').eq(Math.floor(_.currentSlide/_.options.slidesToScroll)).addClass('slick-active').attr('aria-hidden','false');}};Slick.prototype.visibility=function(){var _=this;if(_.options.autoplay){if(document[_.hidden]){_.interrupted=true;}else{_.interrupted=false;}}};$.fn.slick=function(){var _=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length,i,ret;for(i=0;i<l;i++){if(typeof opt=='object'||typeof opt=='undefined')
_[i].slick=new Slick(_[i],opt);else
ret=_[i].slick[opt].apply(_[i].slick,args);if(typeof ret!='undefined')return ret;}
return _;};}));/*!
* jQuery Mousewheel 3.1.13
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license
* http://jquery.org/license
*/(function($){var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'],toBind=('onwheel'in document||document.documentMode>=9)?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;}}
var special=$.event.special.mousewheel={version:'3.1.12',setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=handler;}
$.data(this,'mousewheel-line-height',special.getLineHeight(this));$.data(this,'mousewheel-page-height',special.getPageHeight(this));},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=null;}
$.removeData(this,'mousewheel-line-height');$.removeData(this,'mousewheel-page-height');},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem['offsetParent'in $.fn?'offsetParent':'parent']();if(!$parent.length){$parent=$('body');}
return parseInt($parent.css('fontSize'),10)||parseInt($elem.css('fontSize'),10)||16;},getPageHeight:function(elem){return $(elem).height();},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind('mousewheel',fn):this.trigger('mousewheel');},unmousewheel:function(fn){return this.unbind('mousewheel',fn);}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type='mousewheel';if('detail'in orgEvent){deltaY=orgEvent.detail*-1;}
if('wheelDelta'in orgEvent){deltaY=orgEvent.wheelDelta;}
if('wheelDeltaY'in orgEvent){deltaY=orgEvent.wheelDeltaY;}
if('wheelDeltaX'in orgEvent){deltaX=orgEvent.wheelDeltaX*-1;}
if('axis'in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0;}
delta=deltaY===0?deltaX:deltaY;if('deltaY'in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY;}
if('deltaX'in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1;}}
if(deltaY===0&&deltaX===0){return;}
if(orgEvent.deltaMode===1){var lineHeight=$.data(this,'mousewheel-line-height');delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight;}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,'mousewheel-page-height');delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight;}
absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40;}}
if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40;}
delta=Math[delta>=1?'floor':'ceil'](delta/lowestDelta);deltaX=Math[deltaX>=1?'floor':'ceil'](deltaX/lowestDelta);deltaY=Math[deltaY>=1?'floor':'ceil'](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top;}
event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout);}
nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args);}
function nullLowestDelta(){lowestDelta=null;}
function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==='mousewheel'&&absDelta%120===0;}})(window.$);/*! jquery.kinetic - v1.8.2 - 2013-03-23 http://the-taylors.org/jquery.kinetic
* Copyright (c) 2013 Dave Taylor; Licensed MIT */(function(t){var t=window.$;"use strict";var e={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},n="kinetic-settings",i="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()),t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in document});var o=function(){return!1},c=function(t,e){return 0===Math.floor(Math.abs(t))?0:t*e},l=function(t,e){var n=t;return t>0?t>e&&(n=e):0-e>t&&(n=0-e),n},s=function(t,e){this.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),t.velocity>0&&this.addClass(e.right),0>t.velocity&&this.addClass(e.left),t.velocityY>0&&this.addClass(e.down),0>t.velocityY&&this.addClass(e.up)},a=function(t,e){e.velocity=0,e.velocityY=0,e.decelerate=!0,"function"==typeof e.stopped&&e.stopped.call(t,e)},r=function(t,e){var n=t[0];e.x&&n.scrollWidth>0?(n.scrollLeft=e.scrollLeft=n.scrollLeft+e.velocity,Math.abs(e.velocity)>0&&(e.velocity=e.decelerate?c(e.velocity,e.slowdown):e.velocity)):e.velocity=0,e.y&&n.scrollHeight>0?(n.scrollTop=e.scrollTop=n.scrollTop+e.velocityY,Math.abs(e.velocityY)>0&&(e.velocityY=e.decelerate?c(e.velocityY,e.slowdown):e.velocityY)):e.velocityY=0,s.call(t,e,e.deceleratingClass),"function"==typeof e.moved&&e.moved.call(t,e),Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0?window.requestAnimationFrame(function(){r(t,e)}):a(t,e)},u=function(e){var i=t.kinetic.callMethods[e],o=Array.prototype.slice.call(arguments);i&&this.each(function(){var e=o.slice(1),c=t(this).data(n);e.unshift(c),i.apply(this,e)})},v=function(e,n){e[0],t.support.touch?e.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove):e.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),e.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",o).bind("dragstart",n.events.dragStart)},d=function(e,n){e[0],t.support.touch?e.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove):e.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove).unbind("scroll",n.events.scroll),e.unbind("click",n.events.inputClick).unbind("selectstart",o),e.unbind("dragstart",n.events.dragStart)},f=function(o){this.addClass(i).each(function(){var i=this,c=t(this);if(!c.data(n)){var a,u,d,f,p=t.extend({},e,o),m=!1,h=!1,g=!1,w=1e3/p.throttleFPS;p.velocity=0,p.velocityY=0;var y=function(){a=!1,u=!1,g=!1};t(document).mouseup(y).click(y);var C=function(){p.velocity=l(m-a,p.maxvelocity),p.velocityY=l(h-u,p.maxvelocity)},b=function(e){return t.isFunction(p.filterTarget)?p.filterTarget.call(i,e)!==!1:!0},k=function(t,e){g=!0,p.velocity=m=0,p.velocityY=h=0,a=t,u=e},Y=function(){a&&m&&p.decelerate===!1&&(p.decelerate=!0,C(),a=m=g=!1,r(c,p))},D=function(e,n){(!d||new Date>new Date(d.getTime()+w))&&(d=new Date,g&&(a||u)&&(f&&(t(f).blur(),f=null,c.focus()),p.decelerate=!1,p.velocity=p.velocityY=0,c[0].scrollLeft=p.scrollLeft=p.x?c[0].scrollLeft-(e-a):c[0].scrollLeft,c[0].scrollTop=p.scrollTop=p.y?c[0].scrollTop-(n-u):c[0].scrollTop,m=a,h=u,a=e,u=n,C(),s.call(c,p,p.movingClass),"function"==typeof p.moved&&p.moved.call(c,p)))};p.events={touchStart:function(t){var e;b(t.target)&&(e=t.originalEvent.touches[0],k(e.clientX,e.clientY),t.stopPropagation())},touchMove:function(t){var e;g&&(e=t.originalEvent.touches[0],D(e.clientX,e.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){b(t.target)&&(k(t.clientX,t.clientY),f=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){Y(),f=null,t.preventDefault&&t.preventDefault()},inputMove:function(t){g&&(D(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof p.moved&&p.moved.call(c,p),t.preventDefault&&t.preventDefault()},inputClick:function(t){return Math.abs(p.velocity)>0?(t.preventDefault(),!1):void 0},dragStart:function(){return f?!1:void 0}},v(c,p),c.data(n,p).css("cursor",p.cursor),p.triggerHardware&&c.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})}})};t.kinetic={settingsKey:n,callMethods:{start:function(e,n){var i=t(this);e=t.extend(e,n),e&&(e.decelerate=!1,r(i,e))},end:function(e){t(this),e&&(e.decelerate=!0)},stop:function(e){var n=t(this);a(n,e)},detach:function(e){var n=t(this);d(n,e),n.removeClass(i).css("cursor","")},attach:function(e){var n=t(this);v(n,e),n.addClass(i).css("cursor","move")}}},t.fn.kinetic=function(t){return "string"==typeof t?u.apply(this,arguments):f.call(this,t),this}})();(function($){var jQuery=window.$;$.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollingHotSpotLeftVisibleClass:"scrollingHotSpotLeftVisible",scrollingHotSpotRightVisibleClass:"scrollingHotSpotRightVisible",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:false,getContentOnLoad:{},countOnlyClass:"",startAtElementId:"",hotSpotScrolling:true,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"hover",hotSpotsVisibleTime:5000,easingAfterHotSpotScrolling:true,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:"",mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:true,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:false,autoScrollingMode:"",autoScrollingDirection:"endlessLoopRight",autoScrollingStep:1,autoScrollingInterval:10,autoScrollingPauseOnHover:false,touchScrolling:false,scrollToAnimationDuration:1000,scrollToEasingFunction:"easeOutQuart"},_create:function(){var self=this,o=this.options,el=this.element;el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));el.data("scrollingHotSpotRight",el.find("."+o.scrollingHotSpotRightClass));el.data("scrollingHotSpotLeft",el.find("."+o.scrollingHotSpotLeftClass));el.data("scrollableArea",el.find("."+o.scrollableAreaClass));if(el.data("scrollingHotSpotRight").length>0){el.data("scrollingHotSpotRight").detach();}
if(el.data("scrollingHotSpotLeft").length>0){el.data("scrollingHotSpotLeft").detach();}
if(el.data("scrollableArea").length===0&&el.data("scrollWrapper").length===0){el.wrapInner("<div class='"+o.scrollableAreaClass+"'>").wrapInner("<div class='"+o.scrollWrapperClass+"'>");el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));el.data("scrollableArea",el.find("."+o.scrollableAreaClass));}
else if(el.data("scrollWrapper").length===0){el.wrapInner("<div class='"+o.scrollWrapperClass+"'>");el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));}
else if(el.data("scrollableArea").length===0){el.data("scrollWrapper").wrapInner("<div class='"+o.scrollableAreaClass+"'>");el.data("scrollableArea",el.find("."+o.scrollableAreaClass));}
if(el.data("scrollingHotSpotRight").length===0){el.prepend("<div class='"+o.scrollingHotSpotRightClass+"'></div>");el.data("scrollingHotSpotRight",el.find("."+o.scrollingHotSpotRightClass));}else{el.prepend(el.data("scrollingHotSpotRight"));}
if(el.data("scrollingHotSpotLeft").length===0){el.prepend("<div class='"+o.scrollingHotSpotLeftClass+"'></div>");el.data("scrollingHotSpotLeft",el.find("."+o.scrollingHotSpotLeftClass));}else{el.prepend(el.data("scrollingHotSpotLeft"));}
el.data("speedBooster",1);el.data("scrollXPos",0);el.data("hotSpotWidth",el.data("scrollingHotSpotLeft").innerWidth());el.data("scrollableAreaWidth",0);el.data("startingPosition",0);el.data("rightScrollingInterval",null);el.data("leftScrollingInterval",null);el.data("autoScrollingInterval",null);el.data("hideHotSpotBackgroundsInterval",null);el.data("previousScrollLeft",0);el.data("pingPongDirection","right");el.data("getNextElementWidth",true);el.data("swapAt",null);el.data("startAtElementHasNotPassed",true);el.data("swappedElement",null);el.data("originalElements",el.data("scrollableArea").children(o.countOnlyClass));el.data("visible",true);el.data("enabled",true);el.data("scrollableAreaHeight",el.data("scrollableArea").height());el.data("scrollerOffset",el.offset());el.data('autoscrollingWasRunning',false);if(o.touchScrolling&&el.data("enabled")){el.data("scrollWrapper").kinetic({y:false,moved:function(settings){if(o.manualContinuousScrolling){if(el.data("scrollWrapper").scrollLeft()<=0){self._checkContinuousSwapLeft();}else{self._checkContinuousSwapRight();}}
self._trigger("touchMoved");},stopped:function(settings){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();self._trigger("touchStopped");}});}
el.data("scrollWrapper").bind("mouseover",function(){if(o.autoScrollingPauseOnHover&&el.data("autoScrollingInterval")!==null){self.stopAutoScrolling();}});el.data("scrollWrapper").bind("mouseout",function(){if(o.autoScrollingPauseOnHover&&el.data('autoscrollingWasRunning')){self.startAutoScrolling();}});el.data("scrollingHotSpotRight").bind("mousemove",function(e){if(o.hotSpotScrolling){var x=e.pageX-$(this).offset().left;el.data("scrollXPos",Math.round((x/el.data("hotSpotWidth"))*o.hotSpotScrollingStep));if(el.data("scrollXPos")===Infinity||el.data("scrollXPos")<1){el.data("scrollXPos",1);}}});el.data("scrollingHotSpotRight").bind("mouseover",function(){if(o.hotSpotScrolling){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();el.data("rightScrollingInterval",setInterval(function(){if(el.data("scrollXPos")>0&&el.data("enabled")){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+(el.data("scrollXPos")*el.data("speedBooster")));if(o.manualContinuousScrolling){self._checkContinuousSwapRight();}
self._showHideHotSpots();}},o.hotSpotScrollingInterval));self._trigger("mouseOverRightHotSpot");}});el.data("scrollingHotSpotRight").bind("mouseout",function(){if(o.hotSpotScrolling){clearInterval(el.data("rightScrollingInterval"));el.data("scrollXPos",0);if(o.easingAfterHotSpotScrolling&&el.data("enabled")){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()+o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction});}}});el.data("scrollingHotSpotRight").bind("mousedown",function(){el.data("speedBooster",o.hotSpotMouseDownSpeedBooster);});$("body").bind("mouseup",function(){el.data("speedBooster",1);});el.data("scrollingHotSpotLeft").bind("mousemove",function(e){if(o.hotSpotScrolling){var x=el.data("hotSpotWidth")-(e.pageX-$(this).offset().left);el.data("scrollXPos",Math.round((x/el.data("hotSpotWidth"))*o.hotSpotScrollingStep));if(el.data("scrollXPos")===Infinity||el.data("scrollXPos")<1){el.data("scrollXPos",1);}}});el.data("scrollingHotSpotLeft").bind("mouseover",function(){if(o.hotSpotScrolling){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();el.data("leftScrollingInterval",setInterval(function(){if(el.data("scrollXPos")>0&&el.data("enabled")){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-(el.data("scrollXPos")*el.data("speedBooster")));if(o.manualContinuousScrolling){self._checkContinuousSwapLeft();}
self._showHideHotSpots();}},o.hotSpotScrollingInterval));self._trigger("mouseOverLeftHotSpot");}});el.data("scrollingHotSpotLeft").bind("mouseout",function(){if(o.hotSpotScrolling){clearInterval(el.data("leftScrollingInterval"));el.data("scrollXPos",0);if(o.easingAfterHotSpotScrolling&&el.data("enabled")){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()-o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction});}}});el.data("scrollingHotSpotLeft").bind("mousedown",function(){el.data("speedBooster",o.hotSpotMouseDownSpeedBooster);});el.data("scrollableArea").mousewheel(function(event,delta,deltaX,deltaY){if(el.data("enabled")&&o.mousewheelScrolling.length>0){var pixels;if(o.mousewheelScrolling==="vertical"&&deltaY!==0){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*deltaY)*-1);self.move(pixels);}else if(o.mousewheelScrolling==="horizontal"&&deltaX!==0){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*deltaX)*-1);self.move(pixels);}else if(o.mousewheelScrolling==="allDirections"){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*delta)*-1);self.move(pixels);}}});if(o.mousewheelScrolling){el.data("scrollingHotSpotLeft").add(el.data("scrollingHotSpotRight")).mousewheel(function(event){event.preventDefault();});}
$(window).bind("resize",function(){self._showHideHotSpots();self._trigger("windowResized");});if(!(jQuery.isEmptyObject(o.getContentOnLoad))){self[o.getContentOnLoad.method](o.getContentOnLoad.content,o.getContentOnLoad.manipulationMethod,o.getContentOnLoad.addWhere,o.getContentOnLoad.filterTag);}
if(o.hiddenOnStart){self.hide();}
$(window).on('load',function(){if(!(o.hiddenOnStart)){self.recalculateScrollableArea();}
if((o.autoScrollingMode.length>0)&&!(o.hiddenOnStart)){self.startAutoScrolling();}
if(o.autoScrollingMode!=="always"){switch(o.visibleHotSpotBackgrounds){case "always":self.showHotSpotBackgrounds();break;case "onStart":self.showHotSpotBackgrounds();el.data("hideHotSpotBackgroundsInterval",setTimeout(function(){self.hideHotSpotBackgrounds(250);},o.hotSpotsVisibleTime));break;case "hover":el.mouseenter(function(event){if(o.hotSpotScrolling){event.stopPropagation();self.showHotSpotBackgrounds(250);}}).mouseleave(function(event){if(o.hotSpotScrolling){event.stopPropagation();self.hideHotSpotBackgrounds(250);}});break;default:break;}}
self._showHideHotSpots();self._trigger("setupComplete");});},_init:function(){var self=this,el=this.element;self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("initializationComplete");},_setOption:function(key,value){var self=this,o=this.options,el=this.element;o[key]=value;if(key==="hotSpotScrolling"){if(value===true){self._showHideHotSpots();}else{el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}}else if(key==="autoScrollingStep"||key==="easingAfterHotSpotScrollingDistance"||key==="easingAfterHotSpotScrollingDuration"||key==="easingAfterMouseWheelScrollingDuration"){o[key]=parseInt(value,10);}else if(key==="autoScrollingInterval"){o[key]=parseInt(value,10);self.startAutoScrolling();}},showHotSpotBackgrounds:function(fadeSpeed){var self=this,el=this.element,o=this.options;if(fadeSpeed!==undefined){el.data("scrollingHotSpotLeft").addClass(o.scrollingHotSpotLeftVisibleClass);el.data("scrollingHotSpotRight").addClass(o.scrollingHotSpotRightVisibleClass);el.data("scrollingHotSpotLeft").add(el.data("scrollingHotSpotRight")).fadeTo(fadeSpeed,0.35);}
else{el.data("scrollingHotSpotLeft").addClass(o.scrollingHotSpotLeftVisibleClass);el.data("scrollingHotSpotLeft").removeAttr("style");el.data("scrollingHotSpotRight").addClass(o.scrollingHotSpotRightVisibleClass);el.data("scrollingHotSpotRight").removeAttr("style");}
self._showHideHotSpots();},hideHotSpotBackgrounds:function(fadeSpeed){var el=this.element,o=this.options;if(fadeSpeed!==undefined){el.data("scrollingHotSpotLeft").fadeTo(fadeSpeed,0.0,function(){el.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass);});el.data("scrollingHotSpotRight").fadeTo(fadeSpeed,0.0,function(){el.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass);});}
else{el.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass).removeAttr("style");el.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass).removeAttr("style");}},_showHideHotSpots:function(){var self=this,el=this.element,o=this.options;if(!(o.hotSpotScrolling)){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}else{if(o.hotSpotScrolling&&o.autoScrollingMode!=="always"&&el.data("autoScrollingInterval")!==null){el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").show();}
else if(o.autoScrollingMode!=="always"&&o.hotSpotScrolling){if(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth())){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}
else if(el.data("scrollWrapper").scrollLeft()===0){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").show();self._trigger("scrollerLeftLimitReached");clearInterval(el.data("leftScrollingInterval"));el.data("leftScrollingInterval",null);}
else if(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth()+el.data("scrollWrapper").scrollLeft())){el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").hide();self._trigger("scrollerRightLimitReached");clearInterval(el.data("rightScrollingInterval"));el.data("rightScrollingInterval",null);}
else{el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").show();}}
else{el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide();}}},_setElementScrollPosition:function(method,element){var el=this.element,o=this.options,tempScrollPosition=0;switch(method){case "first":el.data("scrollXPos",0);return true;case "start":if(o.startAtElementId!==""){if(el.data("scrollableArea").has("#"+o.startAtElementId)){tempScrollPosition=$("#"+o.startAtElementId).position().left;el.data("scrollXPos",tempScrollPosition);return true;}}
return false;case "last":el.data("scrollXPos",(el.data("scrollableAreaWidth")-el.data("scrollWrapper").innerWidth()));return true;case "number":if(!(isNaN(element))){tempScrollPosition=el.data("scrollableArea").children(o.countOnlyClass).eq(element-1).position().left;el.data("scrollXPos",tempScrollPosition);return true;}
return false;case "id":if(element.length>0){if(el.data("scrollableArea").has("#"+element)){tempScrollPosition=$("#"+element).position().left;el.data("scrollXPos",tempScrollPosition);return true;}}
return false;default:return false;}},jumpToElement:function(jumpTo,element){var self=this,el=this.element;if(el.data("enabled")){if(self._setElementScrollPosition(jumpTo,element)){el.data("scrollWrapper").scrollLeft(el.data("scrollXPos"));self._showHideHotSpots();switch(jumpTo){case "first":self._trigger("jumpedToFirstElement");break;case "start":self._trigger("jumpedToStartElement");break;case "last":self._trigger("jumpedToLastElement");break;case "number":self._trigger("jumpedToElementNumber",null,{"elementNumber":element});break;case "id":self._trigger("jumpedToElementId",null,{"elementId":element});break;default:break;}}}},scrollToElement:function(scrollTo,element){var self=this,el=this.element,o=this.options,autoscrollingWasRunning=false;if(el.data("enabled")){if(self._setElementScrollPosition(scrollTo,element)){if(el.data("autoScrollingInterval")!==null){self.stopAutoScrolling();autoscrollingWasRunning=true;}
el.data("scrollWrapper").stop(true,false);el.data("scrollWrapper").animate({scrollLeft:el.data("scrollXPos")},{duration:o.scrollToAnimationDuration,easing:o.scrollToEasingFunction,complete:function(){if(autoscrollingWasRunning){self.startAutoScrolling();}
self._showHideHotSpots();switch(scrollTo){case "first":self._trigger("scrolledToFirstElement");break;case "start":self._trigger("scrolledToStartElement");break;case "last":self._trigger("scrolledToLastElement");break;case "number":self._trigger("scrolledToElementNumber",null,{"elementNumber":element});break;case "id":self._trigger("scrolledToElementId",null,{"elementId":element});break;default:break;}}});}}},move:function(pixels){var self=this,el=this.element,o=this.options;el.data("scrollWrapper").stop(true,true);if((pixels<0&&el.data("scrollWrapper").scrollLeft()>0)||(pixels>0&&el.data("scrollableAreaWidth")>(el.data("scrollWrapper").innerWidth()+el.data("scrollWrapper").scrollLeft()))||o.manualContinuousScrolling){var scrollLength=el.data("scrollableArea").width()-el.data("scrollWrapper").width();var sOffset=el.data("scrollWrapper").scrollLeft()+pixels;if(sOffset<0){var forceSwapElementLeft=function(){el.data("swappedElement",el.data("scrollableArea").children(":last").detach());el.data("scrollableArea").prepend(el.data("swappedElement"));el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+el.data("swappedElement").outerWidth(true));};while(sOffset<0){forceSwapElementLeft();sOffset=el.data("scrollableArea").children(":first").outerWidth(true)+sOffset;}}else if(sOffset-scrollLength>0){var forceSwapElementRight=function(){el.data("swappedElement",el.data("scrollableArea").children(":first").detach());el.data("scrollableArea").append(el.data("swappedElement"));var wrapperLeft=el.data("scrollWrapper").scrollLeft();el.data("scrollWrapper").scrollLeft(wrapperLeft-el.data("swappedElement").outerWidth(true));};while(sOffset-scrollLength>0){forceSwapElementRight();sOffset=sOffset-el.data("scrollableArea").children(":last").outerWidth(true);}}
if(o.easingAfterMouseWheelScrolling){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()+pixels},{duration:o.easingAfterMouseWheelScrollingDuration,easing:o.easingAfterMouseWheelFunction,complete:function(){self._showHideHotSpots();if(o.manualContinuousScrolling){if(pixels>0){self._checkContinuousSwapRight();}else{self._checkContinuousSwapLeft();}}}});}else{el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+pixels);self._showHideHotSpots();if(o.manualContinuousScrolling){if(pixels>0){self._checkContinuousSwapRight();}else{self._checkContinuousSwapLeft();}}}}},getFlickrContent:function(content,manipulationMethod){var self=this,el=this.element;$.getJSON(content,function(data){var flickrImageSizes=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}];var loadedFlickrImages=[];var imageIdStringBuffer=[];var startingIndex;var numberOfFlickrItems=data.items.length;var loadedFlickrImagesCounter=0;if(el.data("scrollableAreaHeight")<=75){startingIndex=0;}else if(el.data("scrollableAreaHeight")<=100){startingIndex=1;}else if(el.data("scrollableAreaHeight")<=240){startingIndex=2;}else if(el.data("scrollableAreaHeight")<=500){startingIndex=3;}else if(el.data("scrollableAreaHeight")<=640){startingIndex=4;}else{startingIndex=5;}
$.each(data.items,function(index,item){loadFlickrImage(item,startingIndex);});function loadFlickrImage(item,sizeIndex){var path=item.media.m;var imgSrc=path.replace("_m",flickrImageSizes[sizeIndex].letter);var tempImg=$("<img />").attr("src",imgSrc);tempImg.load(function(){if(this.height<el.data("scrollableAreaHeight")){if((sizeIndex+1)<flickrImageSizes.length){loadFlickrImage(item,sizeIndex+1);}else{addImageToLoadedImages(this);}}else{addImageToLoadedImages(this);}
if(loadedFlickrImagesCounter===numberOfFlickrItems){switch(manipulationMethod){case "addFirst":el.data("scrollableArea").children(":first").before(loadedFlickrImages);break;case "addLast":el.data("scrollableArea").children(":last").after(loadedFlickrImages);break;default:el.data("scrollableArea").html(loadedFlickrImages);break;}
self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedFlickrContent",null,{"addedElementIds":imageIdStringBuffer});}});}
function addImageToLoadedImages(imageObj){var widthScalingFactor=el.data("scrollableAreaHeight")/imageObj.height;var tempWidth=Math.round(imageObj.width*widthScalingFactor);var tempIdArr=$(imageObj).attr("src").split("/");var lastElemIndex=(tempIdArr.length-1);tempIdArr=tempIdArr[lastElemIndex].split(".");$(imageObj).attr("id",tempIdArr[0]);$(imageObj).css({"height":el.data("scrollableAreaHeight"),"width":tempWidth});imageIdStringBuffer.push(tempIdArr[0]);loadedFlickrImages.push(imageObj);loadedFlickrImagesCounter++;}});},getAjaxContent:function(content,manipulationMethod,filterTag){var self=this,el=this.element;$.ajaxSetup({cache:false});$.get(content,function(data){var filteredContent;if(filterTag!==undefined){if(filterTag.length>0){filteredContent=$("<div>").html(data).find(filterTag);}else{filteredContent=content;}}else{filteredContent=data;}
switch(manipulationMethod){case "addFirst":el.data("scrollableArea").children(":first").before(filteredContent);break;case "addLast":el.data("scrollableArea").children(":last").after(filteredContent);break;default:el.data("scrollableArea").html(filteredContent);break;}
self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedAjaxContent");});},getHtmlContent:function(content,manipulationMethod,filterTag){var self=this,el=this.element;var filteredContent;if(filterTag!==undefined){if(filterTag.length>0){filteredContent=$("<div>").html(content).find(filterTag);}else{filteredContent=content;}}else{filteredContent=content;}
switch(manipulationMethod){case "addFirst":el.data("scrollableArea").children(":first").before(filteredContent);break;case "addLast":el.data("scrollableArea").children(":last").after(filteredContent);break;default:el.data("scrollableArea").html(filteredContent);break;}
self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedHtmlContent");},recalculateScrollableArea:function(){var tempScrollableAreaWidth=0,foundStartAtElement=false,o=this.options,el=this.element;el.data("scrollableArea").children(o.countOnlyClass).each(function(){if((o.startAtElementId.length>0)&&(($(this).attr("id"))===o.startAtElementId)){el.data("startingPosition",tempScrollableAreaWidth);foundStartAtElement=true;}
tempScrollableAreaWidth=tempScrollableAreaWidth+$(this).outerWidth(true);});if(!(foundStartAtElement)){el.data("startAtElementId","");}
el.data("scrollableAreaWidth",tempScrollableAreaWidth);el.data("scrollableArea").width(el.data("scrollableAreaWidth"));el.data("scrollWrapper").scrollLeft(el.data("startingPosition"));el.data("scrollXPos",el.data("startingPosition"));},getScrollerOffset:function(){var el=this.element;return el.data("scrollWrapper").scrollLeft();},stopAutoScrolling:function(){var self=this,el=this.element;if(el.data("autoScrollingInterval")!==null){clearInterval(el.data("autoScrollingInterval"));el.data("autoscrollingWasRunning",true);el.data("autoScrollingInterval",null);self._showHideHotSpots();self._trigger("autoScrollingStopped");}},startAutoScrolling:function(){var self=this,el=this.element,o=this.options;if(el.data("enabled")){self._showHideHotSpots();clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null);self._trigger("autoScrollingStarted");el.data("autoScrollingInterval",setInterval(function(){if(!(el.data("visible"))||(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth()))){clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null);}else{el.data("previousScrollLeft",el.data("scrollWrapper").scrollLeft());switch(o.autoScrollingDirection){case "right":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+o.autoScrollingStep);if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){self._trigger("autoScrollingRightLimitReached");self.stopAutoScrolling();}
break;case "left":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-o.autoScrollingStep);if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){self._trigger("autoScrollingLeftLimitReached");self.stopAutoScrolling();}
break;case "backAndForth":if(el.data("pingPongDirection")==="right"){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+(o.autoScrollingStep));}else{el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-(o.autoScrollingStep));}
if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){if(el.data("pingPongDirection")==="right"){el.data("pingPongDirection","left");self._trigger("autoScrollingRightLimitReached");}else{el.data("pingPongDirection","right");self._trigger("autoScrollingLeftLimitReached");}}
break;case "endlessLoopRight":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+o.autoScrollingStep);self._checkContinuousSwapRight();break;case "endlessLoopLeft":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-o.autoScrollingStep);self._checkContinuousSwapLeft();break;default:break;}}},o.autoScrollingInterval));}},_checkContinuousSwapRight:function(){var el=this.element,o=this.options;if(el.data("getNextElementWidth")){if((o.startAtElementId.length>0)&&(el.data("startAtElementHasNotPassed"))){el.data("swapAt",$("#"+o.startAtElementId).outerWidth(true));el.data("startAtElementHasNotPassed",false);}else{el.data("swapAt",el.data("scrollableArea").children(":first").outerWidth(true));}
el.data("getNextElementWidth",false);}
if(el.data("swapAt")<=el.data("scrollWrapper").scrollLeft()){el.data("swappedElement",el.data("scrollableArea").children(":first").detach());el.data("scrollableArea").append(el.data("swappedElement"));var wrapperLeft=el.data("scrollWrapper").scrollLeft();el.data("scrollWrapper").scrollLeft(wrapperLeft-el.data("swappedElement").outerWidth(true));el.data("getNextElementWidth",true);}},_checkContinuousSwapLeft:function(){var el=this.element,o=this.options;if(el.data("getNextElementWidth")){if((o.startAtElementId.length>0)&&(el.data("startAtElementHasNotPassed"))){el.data("swapAt",$("#"+o.startAtElementId).outerWidth(true));el.data("startAtElementHasNotPassed",false);}else{el.data("swapAt",el.data("scrollableArea").children(":first").outerWidth(true));}
el.data("getNextElementWidth",false);}
if(el.data("scrollWrapper").scrollLeft()===0){el.data("swappedElement",el.data("scrollableArea").children(":last").detach());el.data("scrollableArea").prepend(el.data("swappedElement"));el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+el.data("swappedElement").outerWidth(true));el.data("getNextElementWidth",true);}},restoreOriginalElements:function(){var self=this,el=this.element;el.data("scrollableArea").html(el.data("originalElements"));self.recalculateScrollableArea();self.jumpToElement("first");},show:function(){var el=this.element;el.data("visible",true);el.show();},hide:function(){var el=this.element;el.data("visible",false);el.hide();},enable:function(){var el=this.element;if(this.options.touchScrolling){el.data("scrollWrapper").kinetic('attach');}
el.data("enabled",true);},disable:function(){var self=this,el=this.element;self.stopAutoScrolling();clearInterval(el.data("rightScrollingInterval"));clearInterval(el.data("leftScrollingInterval"));clearInterval(el.data("hideHotSpotBackgroundsInterval"));if(this.options.touchScrolling){el.data("scrollWrapper").kinetic('detach');}
el.data("enabled",false);},destroy:function(){var self=this,el=this.element;self.stopAutoScrolling();clearInterval(el.data("rightScrollingInterval"));clearInterval(el.data("leftScrollingInterval"));clearInterval(el.data("hideHotSpotBackgroundsInterval"));el.data("scrollingHotSpotRight").unbind("mouseover");el.data("scrollingHotSpotRight").unbind("mouseout");el.data("scrollingHotSpotRight").unbind("mousedown");el.data("scrollingHotSpotLeft").unbind("mouseover");el.data("scrollingHotSpotLeft").unbind("mouseout");el.data("scrollingHotSpotLeft").unbind("mousedown");el.unbind("mousenter");el.unbind("mouseleave");el.data("scrollingHotSpotRight").remove();el.data("scrollingHotSpotLeft").remove();el.data("scrollableArea").remove();el.data("scrollWrapper").remove();el.html(el.data("originalElements"));$.Widget.prototype.destroy.apply(this,arguments);}});})(window.$);/*! Hammer.JS - v2.0.8 - 2016-04-23
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");/*!
* sly 1.6.1 - 8th Aug 2015
* https://github.com/darsain/sly
*
* Licensed under the MIT license.
* http://opensource.org/licenses/MIT
*/;(function($,w,undefined){'use strict';var pluginName='sly';var className='Sly';var namespace=pluginName;var cAF=w.cancelAnimationFrame||w.cancelRequestAnimationFrame;var rAF=w.requestAnimationFrame;var transform,gpuAcceleration;var $doc=$(document);var dragInitEvents='touchstart.'+namespace+' mousedown.'+namespace;var dragMouseEvents='mousemove.'+namespace+' mouseup.'+namespace;var dragTouchEvents='touchmove.'+namespace+' touchend.'+namespace;var wheelEvent=(document.implementation.hasFeature('Event.wheel','3.0')?'wheel.':'mousewheel.')+namespace;var clickEvent='click.'+namespace;var mouseDownEvent='mousedown.'+namespace;var interactiveElements=['INPUT','SELECT','BUTTON','TEXTAREA'];var tmpArray=[];var time;var abs=Math.abs;var sqrt=Math.sqrt;var pow=Math.pow;var round=Math.round;var max=Math.max;var min=Math.min;var lastGlobalWheel=0;$doc.on(wheelEvent,function(event){var sly=event.originalEvent[namespace];var time=+new Date();if(!sly||sly.options.scrollHijack<time-lastGlobalWheel)lastGlobalWheel=time;});function Sly(frame,options,callbackMap){if(!(this instanceof Sly))return new Sly(frame,options,callbackMap);var o=$.extend({},Sly.defaults,options);var self=this;var parallax=isNumber(frame);var $frame=$(frame);var $slidee=o.slidee?$(o.slidee).eq(0):$frame.children().eq(0);var frameSize=0;var slideeSize=0;var pos={start:0,center:0,end:0,cur:0,dest:0};var $sb=$(o.scrollBar).eq(0);var $handle=$sb.children().eq(0);var sbSize=0;var handleSize=0;var hPos={start:0,end:0,cur:0};var $pb=$(o.pagesBar);var $pages=0;var pages=[];var $items=0;var items=[];var rel={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0};var frameStyles=new StyleRestorer($frame[0]);var slideeStyles=new StyleRestorer($slidee[0]);var sbStyles=new StyleRestorer($sb[0]);var handleStyles=new StyleRestorer($handle[0]);var basicNav=o.itemNav==='basic';var forceCenteredNav=o.itemNav==='forceCentered';var centeredNav=o.itemNav==='centered'||forceCenteredNav;var itemNav=!parallax&&(basicNav||centeredNav||forceCenteredNav);var $scrollSource=o.scrollSource?$(o.scrollSource):$frame;var $dragSource=o.dragSource?$(o.dragSource):$frame;var $forwardButton=$(o.forward);var $backwardButton=$(o.backward);var $prevButton=$(o.prev);var $nextButton=$(o.next);var $prevPageButton=$(o.prevPage);var $nextPageButton=$(o.nextPage);var callbacks={};var last={};var animation={};var move={};var dragging={released:1};var scrolling={last:0,delta:0,resetTime:200};var renderID=0;var historyID=0;var cycleID=0;var continuousID=0;var i,l;if(!parallax){frame=$frame[0];}
self.initialized=0;self.frame=frame;self.slidee=$slidee[0];self.pos=pos;self.rel=rel;self.items=items;self.pages=pages;self.isPaused=0;self.options=o;self.dragging=dragging;function load(isInit){var lastItemsCount=0;var lastPagesCount=pages.length;pos.old=$.extend({},pos);frameSize=parallax?0:$frame[o.horizontal?'width':'height']();sbSize=$sb[o.horizontal?'width':'height']();slideeSize=parallax?frame:$slidee[o.horizontal?'outerWidth':'outerHeight']();pages.length=0;pos.start=0;pos.end=max(slideeSize-frameSize,0);if(itemNav){lastItemsCount=items.length;$items=$slidee.children(o.itemSelector);items.length=0;var paddingStart=getPx($slidee,o.horizontal?'paddingLeft':'paddingTop');var paddingEnd=getPx($slidee,o.horizontal?'paddingRight':'paddingBottom');var borderBox=$($items).css('boxSizing')==='border-box';var areFloated=$items.css('float')!=='none';var ignoredMargin=0;var lastItemIndex=$items.length-1;var lastItem;slideeSize=0;$items.each(function(i,element){var $item=$(element);var rect=element.getBoundingClientRect();var itemSize=round(o.horizontal?rect.width||rect.right-rect.left:rect.height||rect.bottom-rect.top);var itemMarginStart=getPx($item,o.horizontal?'marginLeft':'marginTop');var itemMarginEnd=getPx($item,o.horizontal?'marginRight':'marginBottom');var itemSizeFull=itemSize+itemMarginStart+itemMarginEnd;var singleSpaced=!itemMarginStart||!itemMarginEnd;var item={};item.el=element;item.size=singleSpaced?itemSize:itemSizeFull;item.half=item.size/2;item.start=slideeSize+(singleSpaced?itemMarginStart:0);item.center=item.start-round(frameSize/2-item.size/2);item.end=item.start-frameSize+item.size;if(!i){slideeSize+=paddingStart;}
slideeSize+=itemSizeFull;if(!o.horizontal&&!areFloated){if(itemMarginEnd&&itemMarginStart&&i>0){slideeSize-=min(itemMarginStart,itemMarginEnd);}}
if(i===lastItemIndex){item.end+=paddingEnd;slideeSize+=paddingEnd;ignoredMargin=singleSpaced?itemMarginEnd:0;}
items.push(item);lastItem=item;});$slidee[0].style[o.horizontal?'width':'height']=(borderBox?slideeSize:slideeSize-paddingStart-paddingEnd)+'px';slideeSize-=ignoredMargin;if(items.length){pos.start=items[0][forceCenteredNav?'center':'start'];pos.end=forceCenteredNav?lastItem.center:frameSize<slideeSize?lastItem.end:pos.start;}else{pos.start=pos.end=0;}}
pos.center=round(pos.end/2+pos.start/2);updateRelatives();if($handle.length&&sbSize>0){if(o.dynamicHandle){handleSize=pos.start===pos.end?sbSize:round(sbSize*frameSize/slideeSize);handleSize=within(handleSize,o.minHandleSize,sbSize);$handle[0].style[o.horizontal?'width':'height']=handleSize+'px';}else{handleSize=$handle[o.horizontal?'outerWidth':'outerHeight']();}
hPos.end=sbSize-handleSize;if(!renderID){syncScrollbar();}}
if(!parallax&&frameSize>0){var tempPagePos=pos.start;var pagesHtml='';if(itemNav){$.each(items,function(i,item){if(forceCenteredNav){pages.push(item.center);}else if(item.start+item.size>tempPagePos&&tempPagePos<=pos.end){tempPagePos=item.start;pages.push(tempPagePos);tempPagePos+=frameSize;if(tempPagePos>pos.end&&tempPagePos<pos.end+frameSize){pages.push(pos.end);}}});}else{while(tempPagePos-frameSize<pos.end){pages.push(tempPagePos);tempPagePos+=frameSize;}}
if($pb[0]&&lastPagesCount!==pages.length){for(var i=0;i<pages.length;i++){pagesHtml+=o.pageBuilder.call(self,i);}
$pages=$pb.html(pagesHtml).children();$pages.eq(rel.activePage).addClass(o.activeClass);}}
rel.slideeSize=slideeSize;rel.frameSize=frameSize;rel.sbSize=sbSize;rel.handleSize=handleSize;if(itemNav){if(isInit&&o.startAt!=null){activate(o.startAt);self[centeredNav?'toCenter':'toStart'](o.startAt);}
var activeItem=items[rel.activeItem];slideTo(centeredNav&&activeItem?activeItem.center:within(pos.dest,pos.start,pos.end));}else{if(isInit){if(o.startAt!=null)slideTo(o.startAt,1);}else{slideTo(within(pos.dest,pos.start,pos.end));}}
trigger('load');}
self.reload=function(){load();};function slideTo(newPos,immediate,dontAlign){if(itemNav&&dragging.released&&!dontAlign){var tempRel=getRelatives(newPos);var isNotBordering=newPos>pos.start&&newPos<pos.end;if(centeredNav){if(isNotBordering){newPos=items[tempRel.centerItem].center;}
if(forceCenteredNav&&o.activateMiddle){activate(tempRel.centerItem);}}else if(isNotBordering){newPos=items[tempRel.firstItem].start;}}
if(dragging.init&&dragging.slidee&&o.elasticBounds){if(newPos>pos.end){newPos=pos.end+(newPos-pos.end)/6;}else if(newPos<pos.start){newPos=pos.start+(newPos-pos.start)/6;}}else{newPos=within(newPos,pos.start,pos.end);}
animation.start=+new Date();animation.time=0;animation.from=pos.cur;animation.to=newPos;animation.delta=newPos-pos.cur;animation.tweesing=dragging.tweese||dragging.init&&!dragging.slidee;animation.immediate=!animation.tweesing&&(immediate||dragging.init&&dragging.slidee||!o.speed);dragging.tweese=0;if(newPos!==pos.dest){pos.dest=newPos;trigger('change');if(!renderID){render();}}
resetCycle();updateRelatives();updateButtonsState();syncPagesbar();}
function render(){if(!self.initialized){return;}
if(!renderID){renderID=rAF(render);if(dragging.released){trigger('moveStart');}
return;}
if(animation.immediate){pos.cur=animation.to;}
else if(animation.tweesing){animation.tweeseDelta=animation.to-pos.cur;if(abs(animation.tweeseDelta)<0.1){pos.cur=animation.to;}else{pos.cur+=animation.tweeseDelta*(dragging.released?o.swingSpeed:o.syncSpeed);}}
else{animation.time=min(+new Date()-animation.start,o.speed);pos.cur=animation.from+animation.delta*$.easing[o.easing](animation.time/o.speed,animation.time,0,1,o.speed);}
if(animation.to===pos.cur){pos.cur=animation.to;dragging.tweese=renderID=0;}else{renderID=rAF(render);}
trigger('move');if(!parallax){if(transform){$slidee[0].style[transform]=gpuAcceleration+(o.horizontal?'translateX':'translateY')+'('+(-pos.cur)+'px)';}else{$slidee[0].style[o.horizontal?'left':'top']=-round(pos.cur)+'px';}}
if(!renderID&&dragging.released){trigger('moveEnd');}
syncScrollbar();}
function syncScrollbar(){if($handle.length){hPos.cur=pos.start===pos.end?0:(((dragging.init&&!dragging.slidee)?pos.dest:pos.cur)-pos.start)/(pos.end-pos.start)*hPos.end;hPos.cur=within(round(hPos.cur),hPos.start,hPos.end);if(last.hPos!==hPos.cur){last.hPos=hPos.cur;if(transform){$handle[0].style[transform]=gpuAcceleration+(o.horizontal?'translateX':'translateY')+'('+hPos.cur+'px)';}else{$handle[0].style[o.horizontal?'left':'top']=hPos.cur+'px';}}}}
function syncPagesbar(){if($pages[0]&&last.page!==rel.activePage){last.page=rel.activePage;$pages.removeClass(o.activeClass).eq(rel.activePage).addClass(o.activeClass);trigger('activePage',last.page);}}
self.getPos=function(item){if(itemNav){var index=getIndex(item);return index!==-1?items[index]:false;}else{var $item=$slidee.find(item).eq(0);if($item[0]){var offset=o.horizontal?$item.offset().left-$slidee.offset().left:$item.offset().top-$slidee.offset().top;var size=$item[o.horizontal?'outerWidth':'outerHeight']();return{start:offset,center:offset-frameSize/2+size/2,end:offset-frameSize+size,size:size};}else{return false;}}};self.moveBy=function(speed){move.speed=speed;if(dragging.init||!move.speed||pos.cur===(move.speed>0?pos.end:pos.start)){return;}
move.lastTime=+new Date();move.startPos=pos.cur;continuousInit('button');dragging.init=1;trigger('moveStart');cAF(continuousID);moveLoop();};function moveLoop(){if(!move.speed||pos.cur===(move.speed>0?pos.end:pos.start)){self.stop();}
continuousID=dragging.init?rAF(moveLoop):0;move.now=+new Date();move.pos=pos.cur+(move.now-move.lastTime)/1000*move.speed;slideTo(dragging.init?move.pos:round(move.pos));if(!dragging.init&&pos.cur===pos.dest){trigger('moveEnd');}
move.lastTime=move.now;}
self.stop=function(){if(dragging.source==='button'){dragging.init=0;dragging.released=1;}};self.prev=function(){self.activate(rel.activeItem==null?0:rel.activeItem-1);};self.next=function(){self.activate(rel.activeItem==null?0:rel.activeItem+1);};self.prevPage=function(){self.activatePage(rel.activePage-1);};self.nextPage=function(){self.activatePage(rel.activePage+1);};self.slideBy=function(delta,immediate){if(!delta){return;}
if(itemNav){self[centeredNav?'toCenter':'toStart'](within((centeredNav?rel.centerItem:rel.firstItem)+o.scrollBy*delta,0,items.length));}else{slideTo(pos.dest+delta,immediate);}};self.slideTo=function(pos,immediate){slideTo(pos,immediate);};function to(location,item,immediate){if(type(item)==='boolean'){immediate=item;item=undefined;}
if(item===undefined){slideTo(pos[location],immediate);}else{if(centeredNav&&location!=='center'){return;}
var itemPos=self.getPos(item);if(itemPos){slideTo(itemPos[location],immediate,!centeredNav);}}}
self.toStart=function(item,immediate){to('start',item,immediate);};self.toEnd=function(item,immediate){to('end',item,immediate);};self.toCenter=function(item,immediate){to('center',item,immediate);};function getIndex(item){return item!=null?isNumber(item)?item>=0&&item<items.length?item:-1:$items.index(item):-1;}
self.getIndex=getIndex;function getRelativeIndex(item){return getIndex(isNumber(item)&&item<0?item+items.length:item);}
function activate(item,force){var index=getIndex(item);if(!itemNav||index<0){return false;}
if(last.active!==index||force){$items.eq(rel.activeItem).removeClass(o.activeClass);$items.eq(index).addClass(o.activeClass);last.active=rel.activeItem=index;updateButtonsState();trigger('active',index);}
return index;}
self.activate=function(item,immediate){var index=activate(item);if(o.smart&&index!==false){if(centeredNav){self.toCenter(index,immediate);}else if(index>=rel.lastItem){self.toStart(index,immediate);}else if(index<=rel.firstItem){self.toEnd(index,immediate);}else{resetCycle();}}};self.activatePage=function(index,immediate){if(isNumber(index)){slideTo(pages[within(index,0,pages.length-1)],immediate);}};function getRelatives(slideePos){slideePos=within(isNumber(slideePos)?slideePos:pos.dest,pos.start,pos.end);var relatives={};var centerOffset=forceCenteredNav?0:frameSize/2;if(!parallax){for(var p=0,pl=pages.length;p<pl;p++){if(slideePos>=pos.end||p===pages.length-1){relatives.activePage=pages.length-1;break;}
if(slideePos<=pages[p]+centerOffset){relatives.activePage=p;break;}}}
if(itemNav){var first=false;var last=false;var center=false;for(var i=0,il=items.length;i<il;i++){if(first===false&&slideePos<=items[i].start+items[i].half){first=i;}
if(center===false&&slideePos<=items[i].center+items[i].half){center=i;}
if(i===il-1||slideePos<=items[i].end+items[i].half){last=i;break;}}
relatives.firstItem=isNumber(first)?first:0;relatives.centerItem=isNumber(center)?center:relatives.firstItem;relatives.lastItem=isNumber(last)?last:relatives.centerItem;}
return relatives;}
function updateRelatives(newPos){$.extend(rel,getRelatives(newPos));}
function updateButtonsState(){var isStart=pos.dest<=pos.start;var isEnd=pos.dest>=pos.end;var slideePosState=(isStart?1:0)|(isEnd?2:0);if(last.slideePosState!==slideePosState){last.slideePosState=slideePosState;if($prevPageButton.is('button,input')){$prevPageButton.prop('disabled',isStart);}
if($nextPageButton.is('button,input')){$nextPageButton.prop('disabled',isEnd);}
$prevPageButton.add($backwardButton)[isStart?'addClass':'removeClass'](o.disabledClass);$nextPageButton.add($forwardButton)[isEnd?'addClass':'removeClass'](o.disabledClass);}
if(last.fwdbwdState!==slideePosState&&dragging.released){last.fwdbwdState=slideePosState;if($backwardButton.is('button,input')){$backwardButton.prop('disabled',isStart);}
if($forwardButton.is('button,input')){$forwardButton.prop('disabled',isEnd);}}
if(itemNav&&rel.activeItem!=null){var isFirst=rel.activeItem===0;var isLast=rel.activeItem>=items.length-1;var itemsButtonState=(isFirst?1:0)|(isLast?2:0);if(last.itemsButtonState!==itemsButtonState){last.itemsButtonState=itemsButtonState;if($prevButton.is('button,input')){$prevButton.prop('disabled',isFirst);}
if($nextButton.is('button,input')){$nextButton.prop('disabled',isLast);}
$prevButton[isFirst?'addClass':'removeClass'](o.disabledClass);$nextButton[isLast?'addClass':'removeClass'](o.disabledClass);}}}
self.resume=function(priority){if(!o.cycleBy||!o.cycleInterval||o.cycleBy==='items'&&(!items[0]||rel.activeItem==null)||priority<self.isPaused){return;}
self.isPaused=0;if(cycleID){cycleID=clearTimeout(cycleID);}else{trigger('resume');}
cycleID=setTimeout(function(){trigger('cycle');switch(o.cycleBy){case 'items':self.activate(rel.activeItem>=items.length-1?0:rel.activeItem+1);break;case 'pages':self.activatePage(rel.activePage>=pages.length-1?0:rel.activePage+1);break;}},o.cycleInterval);};self.pause=function(priority){if(priority<self.isPaused){return;}
self.isPaused=priority||100;if(cycleID){cycleID=clearTimeout(cycleID);trigger('pause');}};self.toggle=function(){self[cycleID?'pause':'resume']();};self.set=function(name,value){if($.isPlainObject(name)){$.extend(o,name);}else if(o.hasOwnProperty(name)){o[name]=value;}};self.add=function(element,index){var $element=$(element);if(itemNav){if(index==null||!items[0]||index>=items.length){$element.appendTo($slidee);}else if(items.length){$element.insertBefore(items[index].el);}
if(rel.activeItem!=null&&index<=rel.activeItem){last.active=rel.activeItem+=$element.length;}}else{$slidee.append($element);}
load();};self.remove=function(element){if(itemNav){var index=getRelativeIndex(element);if(index>-1){$items.eq(index).remove();var reactivate=index===rel.activeItem;if(rel.activeItem!=null&&index<rel.activeItem){last.active=--rel.activeItem;}
load();if(reactivate){last.active=null;self.activate(rel.activeItem);}}}else{$(element).remove();load();}};function moveItem(item,position,after){item=getRelativeIndex(item);position=getRelativeIndex(position);if(item>-1&&position>-1&&item!==position&&(!after||position!==item-1)&&(after||position!==item+1)){$items.eq(item)[after?'insertAfter':'insertBefore'](items[position].el);var shiftStart=item<position?item:(after?position:position-1);var shiftEnd=item>position?item:(after?position+1:position);var shiftsUp=item>position;if(rel.activeItem!=null){if(item===rel.activeItem){last.active=rel.activeItem=after?(shiftsUp?position+1:position):(shiftsUp?position:position-1);}else if(rel.activeItem>shiftStart&&rel.activeItem<shiftEnd){last.active=rel.activeItem+=shiftsUp?1:-1;}}
load();}}
self.moveAfter=function(item,position){moveItem(item,position,1);};self.moveBefore=function(item,position){moveItem(item,position);};self.on=function(name,fn){if(type(name)==='object'){for(var key in name){if(name.hasOwnProperty(key)){self.on(key,name[key]);}}}else if(type(fn)==='function'){var names=name.split(' ');for(var n=0,nl=names.length;n<nl;n++){callbacks[names[n]]=callbacks[names[n]]||[];if(callbackIndex(names[n],fn)===-1){callbacks[names[n]].push(fn);}}}else if(type(fn)==='array'){for(var f=0,fl=fn.length;f<fl;f++){self.on(name,fn[f]);}}};self.one=function(name,fn){function proxy(){fn.apply(self,arguments);self.off(name,proxy);}
self.on(name,proxy);};self.off=function(name,fn){if(fn instanceof Array){for(var f=0,fl=fn.length;f<fl;f++){self.off(name,fn[f]);}}else{var names=name.split(' ');for(var n=0,nl=names.length;n<nl;n++){callbacks[names[n]]=callbacks[names[n]]||[];if(fn==null){callbacks[names[n]].length=0;}else{var index=callbackIndex(names[n],fn);if(index!==-1){callbacks[names[n]].splice(index,1);}}}}};function callbackIndex(name,fn){for(var i=0,l=callbacks[name].length;i<l;i++){if(callbacks[name][i]===fn){return i;}}
return-1;}
function resetCycle(){if(dragging.released&&!self.isPaused){self.resume();}}
function handleToSlidee(handlePos){return round(within(handlePos,hPos.start,hPos.end)/hPos.end*(pos.end-pos.start))+pos.start;}
function draggingHistoryTick(){dragging.history[0]=dragging.history[1];dragging.history[1]=dragging.history[2];dragging.history[2]=dragging.history[3];dragging.history[3]=dragging.delta;}
function continuousInit(source){dragging.released=0;dragging.source=source;dragging.slidee=source==='slidee';}
function dragInit(event){var isTouch=event.type==='touchstart';var source=event.data.source;var isSlidee=source==='slidee';if(dragging.init||!isTouch&&isInteractive(event.target)){return;}
if(source==='handle'&&(!o.dragHandle||hPos.start===hPos.end)){return;}
if(isSlidee&&!(isTouch?o.touchDragging:o.mouseDragging&&event.which<2)){return;}
if(!isTouch){stopDefault(event);}
continuousInit(source);dragging.init=0;dragging.$source=$(event.target);dragging.touch=isTouch;dragging.pointer=isTouch?event.originalEvent.touches[0]:event;dragging.initX=dragging.pointer.pageX;dragging.initY=dragging.pointer.pageY;dragging.initPos=isSlidee?pos.cur:hPos.cur;dragging.start=+new Date();dragging.time=0;dragging.path=0;dragging.delta=0;dragging.locked=0;dragging.history=[0,0,0,0];dragging.pathToLock=isSlidee?isTouch?30:10:0;$doc.on(isTouch?dragTouchEvents:dragMouseEvents,dragHandler);self.pause(1);(isSlidee?$slidee:$handle).addClass(o.draggedClass);trigger('moveStart');if(isSlidee){historyID=setInterval(draggingHistoryTick,10);}}
function dragHandler(event){dragging.released=event.type==='mouseup'||event.type==='touchend';dragging.pointer=dragging.touch?event.originalEvent[dragging.released?'changedTouches':'touches'][0]:event;dragging.pathX=dragging.pointer.pageX-dragging.initX;dragging.pathY=dragging.pointer.pageY-dragging.initY;dragging.path=sqrt(pow(dragging.pathX,2)+pow(dragging.pathY,2));dragging.delta=o.horizontal?dragging.pathX:dragging.pathY;if(!dragging.released&&dragging.path<1)return;if(!dragging.init){if(dragging.path<o.dragThreshold){return dragging.released?dragEnd():undefined;}
else{if(o.horizontal?abs(dragging.pathX)>abs(dragging.pathY):abs(dragging.pathX)<abs(dragging.pathY)){dragging.init=1;}else{return dragEnd();}}}
stopDefault(event);if(!dragging.locked&&dragging.path>dragging.pathToLock&&dragging.slidee){dragging.locked=1;dragging.$source.on(clickEvent,disableOneEvent);}
if(dragging.released){dragEnd();if(o.releaseSwing&&dragging.slidee){dragging.swing=(dragging.delta-dragging.history[0])/40*300;dragging.delta+=dragging.swing;dragging.tweese=abs(dragging.swing)>10;}}
slideTo(dragging.slidee?round(dragging.initPos-dragging.delta):handleToSlidee(dragging.initPos+dragging.delta));}
function dragEnd(){clearInterval(historyID);dragging.released=true;$doc.off(dragging.touch?dragTouchEvents:dragMouseEvents,dragHandler);(dragging.slidee?$slidee:$handle).removeClass(o.draggedClass);setTimeout(function(){dragging.$source.off(clickEvent,disableOneEvent);});if(pos.cur===pos.dest&&dragging.init){trigger('moveEnd');}
self.resume(1);dragging.init=0;}
function isInteractive(element){return~$.inArray(element.nodeName,interactiveElements)||$(element).is(o.interactive);}
function movementReleaseHandler(){self.stop();$doc.off('mouseup',movementReleaseHandler);}
function buttonsHandler(event){stopDefault(event);switch(this){case $forwardButton[0]:case $backwardButton[0]:self.moveBy($forwardButton.is(this)?o.moveBy:-o.moveBy);$doc.on('mouseup',movementReleaseHandler);break;case $prevButton[0]:self.prev();break;case $nextButton[0]:self.next();break;case $prevPageButton[0]:self.prevPage();break;case $nextPageButton[0]:self.nextPage();break;}}
function normalizeWheelDelta(event){scrolling.curDelta=((o.horizontal?event.deltaY||event.deltaX:event.deltaY)||-event.wheelDelta);scrolling.curDelta/=event.deltaMode===1?3:100;if(!itemNav){return scrolling.curDelta;}
time=+new Date();if(scrolling.last<time-scrolling.resetTime){scrolling.delta=0;}
scrolling.last=time;scrolling.delta+=scrolling.curDelta;if(abs(scrolling.delta)<1){scrolling.finalDelta=0;}else{scrolling.finalDelta=round(scrolling.delta/1);scrolling.delta%=1;}
return scrolling.finalDelta;}
function scrollHandler(event){event.originalEvent[namespace]=self;var time=+new Date();if(lastGlobalWheel+o.scrollHijack>time&&$scrollSource[0]!==document&&$scrollSource[0]!==window){lastGlobalWheel=time;return;}
if(!o.scrollBy||pos.start===pos.end){return;}
var delta=normalizeWheelDelta(event.originalEvent);if(o.scrollTrap||delta>0&&pos.dest<pos.end||delta<0&&pos.dest>pos.start){stopDefault(event,1);}
self.slideBy(o.scrollBy*delta);}
function scrollbarHandler(event){if(o.clickBar&&event.target===$sb[0]){stopDefault(event);slideTo(handleToSlidee((o.horizontal?event.pageX-$sb.offset().left:event.pageY-$sb.offset().top)-handleSize/2));}}
function keyboardHandler(event){if(!o.keyboardNavBy){return;}
switch(event.which){case o.horizontal?37:38:stopDefault(event);self[o.keyboardNavBy==='pages'?'prevPage':'prev']();break;case o.horizontal?39:40:stopDefault(event);self[o.keyboardNavBy==='pages'?'nextPage':'next']();break;}}
function activateHandler(event){if(isInteractive(this)){event.originalEvent[namespace+'ignore']=true;return;}
if(this.parentNode!==$slidee[0]||event.originalEvent[namespace+'ignore'])return;self.activate(this);}
function activatePageHandler(){if(this.parentNode===$pb[0]){self.activatePage($pages.index(this));}}
function pauseOnHoverHandler(event){if(o.pauseOnHover){self[event.type==='mouseenter'?'pause':'resume'](2);}}
function trigger(name,arg1){if(callbacks[name]){l=callbacks[name].length;tmpArray.length=0;for(i=0;i<l;i++){tmpArray.push(callbacks[name][i]);}
for(i=0;i<l;i++){tmpArray[i].call(self,name,arg1);}}}
self.destroy=function(){Sly.removeInstance(frame);$scrollSource.add($handle).add($sb).add($pb).add($forwardButton).add($backwardButton).add($prevButton).add($nextButton).add($prevPageButton).add($nextPageButton).off('.'+namespace);$doc.off('keydown',keyboardHandler);$prevButton.add($nextButton).add($prevPageButton).add($nextPageButton).removeClass(o.disabledClass);if($items&&rel.activeItem!=null){$items.eq(rel.activeItem).removeClass(o.activeClass);}
$pb.empty();if(!parallax){$frame.off('.'+namespace);frameStyles.restore();slideeStyles.restore();sbStyles.restore();handleStyles.restore();$.removeData(frame,namespace);}
items.length=pages.length=0;last={};self.initialized=0;return self;};self.init=function(){if(self.initialized){return;}
if(Sly.getInstance(frame))throw new Error('There is already a Sly instance on this element');Sly.storeInstance(frame,self);self.on(callbackMap);var holderProps=['overflow','position'];var movableProps=['position','webkitTransform','msTransform','transform','left','top','width','height'];frameStyles.save.apply(frameStyles,holderProps);sbStyles.save.apply(sbStyles,holderProps);slideeStyles.save.apply(slideeStyles,movableProps);handleStyles.save.apply(handleStyles,movableProps);var $movables=$handle;if(!parallax){$movables=$movables.add($slidee);$frame.css('overflow','hidden');if(!transform&&$frame.css('position')==='static'){$frame.css('position','relative');}}
if(transform){if(gpuAcceleration){$movables.css(transform,gpuAcceleration);}}else{if($sb.css('position')==='static'){$sb.css('position','relative');}
$movables.css({position:'absolute'});}
if(o.forward){$forwardButton.on(mouseDownEvent,buttonsHandler);}
if(o.backward){$backwardButton.on(mouseDownEvent,buttonsHandler);}
if(o.prev){$prevButton.on(clickEvent,buttonsHandler);}
if(o.next){$nextButton.on(clickEvent,buttonsHandler);}
if(o.prevPage){$prevPageButton.on(clickEvent,buttonsHandler);}
if(o.nextPage){$nextPageButton.on(clickEvent,buttonsHandler);}
$scrollSource.on(wheelEvent,scrollHandler);if($sb[0]){$sb.on(clickEvent,scrollbarHandler);}
if(itemNav&&o.activateOn){$frame.on(o.activateOn+'.'+namespace,'*',activateHandler);}
if($pb[0]&&o.activatePageOn){$pb.on(o.activatePageOn+'.'+namespace,'*',activatePageHandler);}
$dragSource.on(dragInitEvents,{source:'slidee'},dragInit);if($handle){$handle.on(dragInitEvents,{source:'handle'},dragInit);}
$doc.on('keydown',keyboardHandler);if(!parallax){$frame.on('mouseenter.'+namespace+' mouseleave.'+namespace,pauseOnHoverHandler);$frame.on('scroll.'+namespace,resetScroll);}
self.initialized=1;load(true);if(o.cycleBy&&!parallax){self[o.startPaused?'pause':'resume']();}
return self;};}
Sly.getInstance=function(element){return $.data(element,namespace);};Sly.storeInstance=function(element,sly){return $.data(element,namespace,sly);};Sly.removeInstance=function(element){return $.removeData(element,namespace);};function type(value){if(value==null){return String(value);}
if(typeof value==='object'||typeof value==='function'){return Object.prototype.toString.call(value).match(/\s([a-z]+)/i)[1].toLowerCase()||'object';}
return typeof value;}
function stopDefault(event,noBubbles){event.preventDefault();if(noBubbles){event.stopPropagation();}}
function disableOneEvent(event){stopDefault(event,1);$(this).off(event.type,disableOneEvent);}
function resetScroll(){this.scrollLeft=0;this.scrollTop=0;}
function isNumber(value){return!isNaN(parseFloat(value))&&isFinite(value);}
function getPx($item,property){return 0|round(String($item.css(property)).replace(/[^\-0-9.]/g,''));}
function within(number,min,max){return number<min?min:number>max?max:number;}
function StyleRestorer(element){var self={};self.style={};self.save=function(){if(!element||!element.nodeType)return;for(var i=0;i<arguments.length;i++){self.style[arguments[i]]=element.style[arguments[i]];}
return self;};self.restore=function(){if(!element||!element.nodeType)return;for(var prop in self.style){if(self.style.hasOwnProperty(prop))element.style[prop]=self.style[prop];}
return self;};return self;}
(function(w){rAF=w.requestAnimationFrame||w.webkitRequestAnimationFrame||fallback;var prev=new Date().getTime();function fallback(fn){var curr=new Date().getTime();var ms=Math.max(0,16-(curr-prev));var req=setTimeout(fn,ms);prev=curr;return req;}
var cancel=w.cancelAnimationFrame||w.webkitCancelAnimationFrame||w.clearTimeout;cAF=function(id){cancel.call(w,id);};}(window));(function(){var prefixes=['','Webkit','Moz','ms','O'];var el=document.createElement('div');function testProp(prop){for(var p=0,pl=prefixes.length;p<pl;p++){var prefixedProp=prefixes[p]?prefixes[p]+prop.charAt(0).toUpperCase()+prop.slice(1):prop;if(el.style[prefixedProp]!=null){return prefixedProp;}}}
transform=testProp('transform');gpuAcceleration=testProp('perspective')?'translateZ(0) ':'';}());w[className]=Sly;$.fn[pluginName]=function(options,callbackMap){var method,methodArgs;if(!$.isPlainObject(options)){if(type(options)==='string'||options===false){method=options===false?'destroy':options;methodArgs=Array.prototype.slice.call(arguments,1);}
options={};}
return this.each(function(i,element){var plugin=Sly.getInstance(element);if(!plugin&&!method){plugin=new Sly(element,options,callbackMap).init();}else if(plugin&&method){if(plugin[method]){plugin[method].apply(plugin,methodArgs);}}});};Sly.defaults={slidee:null,horizontal:false,itemNav:null,itemSelector:null,smart:false,activateOn:null,activateMiddle:false,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:false,dragSource:null,mouseDragging:false,touchDragging:false,releaseSwing:false,swingSpeed:0.2,elasticBounds:false,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:false,dynamicHandle:false,minHandleSize:50,clickBar:false,syncSpeed:0.5,pagesBar:null,activatePageOn:null,pageBuilder:function(index){return '<li>'+(index+1)+'</li>';},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5000,pauseOnHover:false,startPaused:false,moveBy:300,speed:0,easing:'swing',startAt:null,keyboardNavBy:null,draggedClass:'dragged',activeClass:'active',disabledClass:'disabled'};}(Cog.jQuery(),window));'use strict';Array.prototype.find=Array.prototype.find||function(callback){if(this===null){throw new TypeError('Array.prototype.find called on null or undefined');}else if(typeof callback!=='function'){throw new TypeError('callback must be a function');}
var list=Object(this);var length=list.length>>>0;var thisArg=arguments[1];for(var i=0;i<length;i++){var element=list[i];if(callback.call(thisArg,element,i,list)){return element;}}};function polyfill(){var CLASS_NAME='focus-within';function computeEventPath(node){var path=[];var parent=null;while((parent=node.parentNode||node.host||node.defaultView)){path.push(parent);node=parent;}
return path;}
function addClass(value){return function(el){var attributes=(typeof el.getAttribute!=='undefined')?el.getAttribute('class')||'':undefined;if(attributes&&attributes.indexOf(value)===-1){el.setAttribute('class',attributes.concat(' ',value).trim());}};}
function removeClass(value){return function(el){var attributes=(typeof el.getAttribute!=='undefined')?el.getAttribute('class')||'':undefined;if(attributes&&attributes.indexOf(value)!==-1){var newAttributes=attributes.replace(value,'').trim();(newAttributes==='')?el.removeAttribute('class'):el.setAttribute('class',newAttributes);}};}
function load(){var handler=function(e){var running;function action(){running=false;if('blur'===e.type){Array.prototype.slice.call(computeEventPath(e.target)).forEach(removeClass(CLASS_NAME));}
if('focus'===e.type){Array.prototype.slice.call(computeEventPath(e.target)).forEach(addClass(CLASS_NAME));}}
if(!running){window.requestAnimationFrame(action);running=true;}};document.addEventListener('focus',handler,true);document.addEventListener('blur',handler,true);addClass('js-focus-within')(document.body);return true;}
try{return!document.querySelector(':'+CLASS_NAME);}catch(error){return load();}}
polyfill();/*!npm.im/object-fit-images 3.2.4*/var objectFitImages=(function(){'use strict';var OFI='fregante:object-fit-images';var propRegex=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g;var testImg=typeof Image==='undefined'?{style:{'object-position':1}}:new Image();var supportsObjectFit='object-fit'in testImg.style;var supportsObjectPosition='object-position'in testImg.style;var supportsOFI='background-size'in testImg.style;var supportsCurrentSrc=typeof testImg.currentSrc==='string';var nativeGetAttribute=testImg.getAttribute;var nativeSetAttribute=testImg.setAttribute;var autoModeEnabled=false;function createPlaceholder(w,h){return("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+w+"' height='"+h+"'%3E%3C/svg%3E");}
function polyfillCurrentSrc(el){if(el.srcset&&!supportsCurrentSrc&&window.picturefill){var pf=window.picturefill._;if(!el[pf.ns]||!el[pf.ns].evaled){pf.fillImg(el,{reselect:true});}
if(!el[pf.ns].curSrc){el[pf.ns].supported=false;pf.fillImg(el,{reselect:true});}
el.currentSrc=el[pf.ns].curSrc||el.src;}}
function getStyle(el){var style=getComputedStyle(el).fontFamily;var parsed;var props={};while((parsed=propRegex.exec(style))!==null){props[parsed[1]]=parsed[2];}
return props;}
function setPlaceholder(img,width,height){var placeholder=createPlaceholder(width||1,height||0);if(nativeGetAttribute.call(img,'src')!==placeholder){nativeSetAttribute.call(img,'src',placeholder);}}
function onImageReady(img,callback){if(img.naturalWidth){callback(img);}else{setTimeout(onImageReady,100,img,callback);}}
function fixOne(el){var style=getStyle(el);var ofi=el[OFI];style['object-fit']=style['object-fit']||'fill';if(!ofi.img){if(style['object-fit']==='fill'){return;}
if(!ofi.skipTest&&supportsObjectFit&&!style['object-position']){return;}}
if(!ofi.img){ofi.img=new Image(el.width,el.height);ofi.img.srcset=nativeGetAttribute.call(el,"data-ofi-srcset")||el.srcset;ofi.img.src=nativeGetAttribute.call(el,"data-ofi-src")||el.src;nativeSetAttribute.call(el,"data-ofi-src",el.src);if(el.srcset){nativeSetAttribute.call(el,"data-ofi-srcset",el.srcset);}
setPlaceholder(el,el.naturalWidth||el.width,el.naturalHeight||el.height);if(el.srcset){el.srcset='';}
try{keepSrcUsable(el);}catch(err){if(window.console){console.warn('https://bit.ly/ofi-old-browser');}}}
polyfillCurrentSrc(ofi.img);el.style.backgroundImage="url(\""+((ofi.img.currentSrc||ofi.img.src).replace(/"/g,'\\"'))+"\")";el.style.backgroundPosition=style['object-position']||'center';el.style.backgroundRepeat='no-repeat';el.style.backgroundOrigin='content-box';if(/scale-down/.test(style['object-fit'])){onImageReady(ofi.img,function(){if(ofi.img.naturalWidth>el.width||ofi.img.naturalHeight>el.height){el.style.backgroundSize='contain';}else{el.style.backgroundSize='auto';}});}else{el.style.backgroundSize=style['object-fit'].replace('none','auto').replace('fill','100% 100%');}
onImageReady(ofi.img,function(img){setPlaceholder(el,img.naturalWidth,img.naturalHeight);});}
function keepSrcUsable(el){var descriptors={get:function get(prop){return el[OFI].img[prop?prop:'src'];},set:function set(value,prop){el[OFI].img[prop?prop:'src']=value;nativeSetAttribute.call(el,("data-ofi-"+prop),value);fixOne(el);return value;}};Object.defineProperty(el,'src',descriptors);Object.defineProperty(el,'currentSrc',{get:function(){return descriptors.get('currentSrc');}});Object.defineProperty(el,'srcset',{get:function(){return descriptors.get('srcset');},set:function(ss){return descriptors.set(ss,'srcset');}});}
function hijackAttributes(){function getOfiImageMaybe(el,name){return el[OFI]&&el[OFI].img&&(name==='src'||name==='srcset')?el[OFI].img:el;}
if(!supportsObjectPosition){HTMLImageElement.prototype.getAttribute=function(name){return nativeGetAttribute.call(getOfiImageMaybe(this,name),name);};HTMLImageElement.prototype.setAttribute=function(name,value){return nativeSetAttribute.call(getOfiImageMaybe(this,name),name,String(value));};}}
function fix(imgs,opts){var startAutoMode=!autoModeEnabled&&!imgs;opts=opts||{};imgs=imgs||'img';if((supportsObjectPosition&&!opts.skipTest)||!supportsOFI){return false;}
if(imgs==='img'){imgs=document.getElementsByTagName('img');}else if(typeof imgs==='string'){imgs=document.querySelectorAll(imgs);}else if(!('length'in imgs)){imgs=[imgs];}
for(var i=0;i<imgs.length;i++){imgs[i][OFI]=imgs[i][OFI]||{skipTest:opts.skipTest};fixOne(imgs[i]);}
if(startAutoMode){document.body.addEventListener('load',function(e){if(e.target.tagName==='IMG'){fix(e.target,{skipTest:opts.skipTest});}},true);autoModeEnabled=true;imgs='img';}
if(opts.watchMQ){window.addEventListener('resize',fix.bind(null,imgs,{skipTest:opts.skipTest}));}}
fix.supportsObjectFit=supportsObjectFit;fix.supportsObjectPosition=supportsObjectPosition;hijackAttributes();return fix;}());objectFitImages();(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.ResizeObserver=factory());}(this,(function(){'use strict';var MapShim=(function(){if(typeof Map!=='undefined'){return Map;}
function getIndex(arr,key){var result=-1;arr.some(function(entry,index){if(entry[0]===key){result=index;return true;}
return false;});return result;}
return(function(){function anonymous(){this.__entries__=[];}
var prototypeAccessors={size:{configurable:true}};prototypeAccessors.size.get=function(){return this.__entries__.length;};anonymous.prototype.get=function(key){var index=getIndex(this.__entries__,key);var entry=this.__entries__[index];return entry&&entry[1];};anonymous.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value;}else{this.__entries__.push([key,value]);}};anonymous.prototype.delete=function(key){var entries=this.__entries__;var index=getIndex(entries,key);if(~index){entries.splice(index,1);}};anonymous.prototype.has=function(key){return!!~getIndex(this.__entries__,key);};anonymous.prototype.clear=function(){this.__entries__.splice(0);};anonymous.prototype.forEach=function(callback,ctx){var this$1=this;if(ctx===void 0)ctx=null;for(var i=0,list=this$1.__entries__;i<list.length;i+=1){var entry=list[i];callback.call(ctx,entry[1],entry[0]);}};Object.defineProperties(anonymous.prototype,prototypeAccessors);return anonymous;}());})();var isBrowser=typeof window!=='undefined'&&typeof document!=='undefined'&&window.document===document;var global$1=(function(){if(typeof global!=='undefined'&&global.Math===Math){return global;}
if(typeof self!=='undefined'&&self.Math===Math){return self;}
if(typeof window!=='undefined'&&window.Math===Math){return window;}
return Function('return this')();})();var requestAnimationFrame$1=(function(){if(typeof requestAnimationFrame==='function'){return requestAnimationFrame.bind(global$1);}
return function(callback){return setTimeout(function(){return callback(Date.now());},1000/60);};})();var trailingTimeout=2;var throttle=function(callback,delay){var leadingCall=false,trailingCall=false,lastCallTime=0;function resolvePending(){if(leadingCall){leadingCall=false;callback();}
if(trailingCall){proxy();}}
function timeoutCallback(){requestAnimationFrame$1(resolvePending);}
function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout){return;}
trailingCall=true;}else{leadingCall=true;trailingCall=false;setTimeout(timeoutCallback,delay);}
lastCallTime=timeStamp;}
return proxy;};var REFRESH_DELAY=20;var transitionKeys=['top','right','bottom','left','width','height','size','weight'];var mutationObserverSupported=typeof MutationObserver!=='undefined';var ResizeObserverController=function(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY);};ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer)){this.observers_.push(observer);}
if(!this.connected_){this.connect_();}};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_;var index=observers.indexOf(observer);if(~index){observers.splice(index,1);}
if(!observers.length&&this.connected_){this.disconnect_();}};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected){this.refresh();}};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter(function(observer){return observer.gatherActive(),observer.hasActive();});activeObservers.forEach(function(observer){return observer.broadcastActive();});return activeObservers.length>0;};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_){return;}
document.addEventListener('transitionend',this.onTransitionEnd_);window.addEventListener('resize',this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true});}else{document.addEventListener('DOMSubtreeModified',this.refresh);this.mutationEventsAdded_=true;}
this.connected_=true;};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_){return;}
document.removeEventListener('transitionend',this.onTransitionEnd_);window.removeEventListener('resize',this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect();}
if(this.mutationEventsAdded_){document.removeEventListener('DOMSubtreeModified',this.refresh);}
this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false;};ResizeObserverController.prototype.onTransitionEnd_=function(ref){var propertyName=ref.propertyName;if(propertyName===void 0)propertyName='';var isReflowProperty=transitionKeys.some(function(key){return!!~propertyName.indexOf(key);});if(isReflowProperty){this.refresh();}};ResizeObserverController.getInstance=function(){if(!this.instance_){this.instance_=new ResizeObserverController();}
return this.instance_;};ResizeObserverController.instance_=null;var defineConfigurable=(function(target,props){for(var i=0,list=Object.keys(props);i<list.length;i+=1){var key=list[i];Object.defineProperty(target,key,{value:props[key],enumerable:false,writable:false,configurable:true});}
return target;});var getWindowOf=(function(target){var ownerGlobal=target&&target.ownerDocument&&target.ownerDocument.defaultView;return ownerGlobal||global$1;});var emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0;}
function getBordersSize(styles){var positions=[],len=arguments.length-1;while(len-->0)positions[len]=arguments[len+1];return positions.reduce(function(size,position){var value=styles['border-'+position+'-width'];return size+toFloat(value);},0);}
function getPaddings(styles){var positions=['top','right','bottom','left'];var paddings={};for(var i=0,list=positions;i<list.length;i+=1){var position=list[i];var value=styles['padding-'+position];paddings[position]=toFloat(value);}
return paddings;}
function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height);}
function getHTMLElementContentRect(target){var clientWidth=target.clientWidth;var clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight){return emptyRect;}
var styles=getWindowOf(target).getComputedStyle(target);var paddings=getPaddings(styles);var horizPad=paddings.left+paddings.right;var vertPad=paddings.top+paddings.bottom;var width=toFloat(styles.width),height=toFloat(styles.height);if(styles.boxSizing==='border-box'){if(Math.round(width+horizPad)!==clientWidth){width-=getBordersSize(styles,'left','right')+horizPad;}
if(Math.round(height+vertPad)!==clientHeight){height-=getBordersSize(styles,'top','bottom')+vertPad;}}
if(!isDocumentElement(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth;var horizScrollbar=Math.round(height+vertPad)-clientHeight;if(Math.abs(vertScrollbar)!==1){width-=vertScrollbar;}
if(Math.abs(horizScrollbar)!==1){height-=horizScrollbar;}}
return createRectInit(paddings.left,paddings.top,width,height);}
var isSVGGraphicsElement=(function(){if(typeof SVGGraphicsElement!=='undefined'){return function(target){return target instanceof getWindowOf(target).SVGGraphicsElement;};}
return function(target){return target instanceof getWindowOf(target).SVGElement&&typeof target.getBBox==='function';};})();function isDocumentElement(target){return target===getWindowOf(target).document.documentElement;}
function getContentRect(target){if(!isBrowser){return emptyRect;}
if(isSVGGraphicsElement(target)){return getSVGContentRect(target);}
return getHTMLElementContentRect(target);}
function createReadOnlyRect(ref){var x=ref.x;var y=ref.y;var width=ref.width;var height=ref.height;var Constr=typeof DOMRectReadOnly!=='undefined'?DOMRectReadOnly:Object;var rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect;}
function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height};}
var ResizeObservation=function(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target;};ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight;};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect;};var ResizeObserverEntry=function(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect});};var ResizeObserverSPI=function(callback,controller,callbackCtx){this.activeObservations_=[];this.observations_=new MapShim();if(typeof callback!=='function'){throw new TypeError('The callback provided as parameter 1 is not a function.');}
this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx;};ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.');}
if(typeof Element==='undefined'||!(Element instanceof Object)){return;}
if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".');}
var observations=this.observations_;if(observations.has(target)){return;}
observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh();};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.');}
if(typeof Element==='undefined'||!(Element instanceof Object)){return;}
if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".');}
var observations=this.observations_;if(!observations.has(target)){return;}
observations.delete(target);if(!observations.size){this.controller_.removeObserver(this);}};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this);};ResizeObserverSPI.prototype.gatherActive=function(){var this$1=this;this.clearActive();this.observations_.forEach(function(observation){if(observation.isActive()){this$1.activeObservations_.push(observation);}});};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive()){return;}
var ctx=this.callbackCtx_;var entries=this.activeObservations_.map(function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect());});this.callback_.call(ctx,entries,ctx);this.clearActive();};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0);};ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0;};var observers=typeof WeakMap!=='undefined'?new WeakMap():new MapShim();var ResizeObserver=function(callback){if(!(this instanceof ResizeObserver)){throw new TypeError('Cannot call a class as a function.');}
if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.');}
var controller=ResizeObserverController.getInstance();var observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer);};['observe','unobserve','disconnect'].forEach(function(method){ResizeObserver.prototype[method]=function(){return(ref=observers.get(this))[method].apply(ref,arguments);var ref;};});var index=(function(){if(typeof global$1.ResizeObserver!=='undefined'){return global$1.ResizeObserver;}
global$1.ResizeObserver=ResizeObserver;return ResizeObserver;})();return index;})));!function(t,e){"object"==typeof exports?module.exports=e(window,document):t.SimpleScrollbar=e(window,document)}(this,function(t,e){function s(t){Object.prototype.hasOwnProperty.call(t,"data-simple-scrollbar")||Object.defineProperty(t,"data-simple-scrollbar",{value:new o(t)})}function i(t,s){function i(t){var e=t.pageY-a;a=t.pageY,n(function(){s.el.scrollTop+=e/s.scrollRatio})}function r(){t.classList.remove("ss-grabbed"),e.body.classList.remove("ss-grabbed"),e.removeEventListener("mousemove",i),e.removeEventListener("mouseup",r)}var a;t.addEventListener("mousedown",function(s){return a=s.pageY,t.classList.add("ss-grabbed"),e.body.classList.add("ss-grabbed"),e.addEventListener("mousemove",i),e.addEventListener("mouseup",r),!1})}function r(t){for(this.target=t,this.direction=window.getComputedStyle(this.target).direction,this.bar='<div class="ss-scroll">',this.wrapper=e.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=e.createElement("div"),this.el.setAttribute("class","ss-content"),"rtl"===this.direction&&this.el.classList.add("rtl"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,i(this.bar,this),this.moveBar(),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var s=window.getComputedStyle(t);"0px"===s.height&&"0px"!==s["max-height"]&&(t.style.height=s["max-height"])}function a(){for(var t=e.querySelectorAll("*[ss-container]"),i=0;i<t.length;i++)s(t[i])}var n=t.requestAnimationFrame||t.setImmediate||function(t){return setTimeout(t,0)};r.prototype={moveBar:function(t){var e=this.el.scrollHeight,s=this.el.clientHeight,i=this;this.scrollRatio=s/e;var r="rtl"===i.direction,a=r?i.target.clientWidth-i.bar.clientWidth+18:-1*(i.target.clientWidth-i.bar.clientWidth-11);n(function(){i.scrollRatio>=1?i.bar.classList.add("ss-hidden"):(i.bar.classList.remove("ss-hidden"),i.bar.style.cssText="height:"+Math.max(100*i.scrollRatio,10)+"%; top:"+i.el.scrollTop/e*100+"%;right:"+a+"px;")})}},e.addEventListener("DOMContentLoaded",a),r.initEl=s,r.initAll=a;var o=r;return o});/*!lazysizes - v5.2.2*/!function(e){var t=function(u,D,f){"use strict";var k,H;if(function(){var e;var t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:true,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:true,ricTimeout:0,throttleDelay:125};H=u.lazySizesConfig||u.lazysizesConfig||{};for(e in t){if(!(e in H)){H[e]=t[e]}}}(),!D||!D.getElementsByClassName){return{init:function(){},cfg:H,noSupport:true}}var O=D.documentElement,a=u.HTMLPictureElement,P="addEventListener",$="getAttribute",q=u[P].bind(u),I=u.setTimeout,U=u.requestAnimationFrame||I,l=u.requestIdleCallback,j=/^picture$/i,r=["load","error","lazyincluded","_lazyloaded"],i={},G=Array.prototype.forEach,J=function(e,t){if(!i[t]){i[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")}return i[t].test(e[$]("class")||"")&&i[t]},K=function(e,t){if(!J(e,t)){e.setAttribute("class",(e[$]("class")||"").trim()+" "+t)}},Q=function(e,t){var i;if(i=J(e,t)){e.setAttribute("class",(e[$]("class")||"").replace(i," "))}},V=function(t,i,e){var a=e?P:"removeEventListener";if(e){V(t,i)}r.forEach(function(e){t[a](e,i)})},X=function(e,t,i,a,r){var n=D.createEvent("Event");if(!i){i={}}i.instance=k;n.initEvent(t,!a,!r);n.detail=i;e.dispatchEvent(n);return n},Y=function(e,t){var i;if(!a&&(i=u.picturefill||H.pf)){if(t&&t.src&&!e[$]("srcset")){e.setAttribute("srcset",t.src)}i({reevaluate:true,elements:[e]})}else if(t&&t.src){e.src=t.src}},Z=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,i){i=i||e.offsetWidth;while(i<H.minSize&&t&&!e._lazysizesWidth){i=t.offsetWidth;t=t.parentNode}return i},ee=function(){var i,a;var t=[];var r=[];var n=t;var s=function(){var e=n;n=t.length?r:t;i=true;a=false;while(e.length){e.shift()()}i=false};var e=function(e,t){if(i&&!t){e.apply(this,arguments)}else{n.push(e);if(!a){a=true;(D.hidden?I:U)(s)}}};e._lsFlush=s;return e}(),te=function(i,e){return e?function(){ee(i)}:function(){var e=this;var t=arguments;ee(function(){i.apply(e,t)})}},ie=function(e){var i;var a=0;var r=H.throttleDelay;var n=H.ricTimeout;var t=function(){i=false;a=f.now();e()};var s=l&&n>49?function(){l(t,{timeout:n});if(n!==H.ricTimeout){n=H.ricTimeout}}:te(function(){I(t)},true);return function(e){var t;if(e=e===true){n=33}if(i){return}i=true;t=r-(f.now()-a);if(t<0){t=0}if(e||t<9){s()}else{I(s,t)}}},ae=function(e){var t,i;var a=99;var r=function(){t=null;e()};var n=function(){var e=f.now()-i;if(e<a){I(n,a-e)}else{(l||r)(r)}};return function(){i=f.now();if(!t){t=I(n,a)}}},e=function(){var v,m,c,h,e;var y,z,g,p,C,b,A;var n=/^img$/i;var d=/^iframe$/i;var E="onscroll"in u&&!/(gle|ing)bot/.test(navigator.userAgent);var _=0;var w=0;var N=0;var M=-1;var x=function(e){N--;if(!e||N<0||!e.target){N=0}};var W=function(e){if(A==null){A=Z(D.body,"visibility")=="hidden"}return A||!(Z(e.parentNode,"visibility")=="hidden"&&Z(e,"visibility")=="hidden")};var S=function(e,t){var i;var a=e;var r=W(e);g-=t;b+=t;p-=t;C+=t;while(r&&(a=a.offsetParent)&&a!=D.body&&a!=O){r=(Z(a,"opacity")||1)>0;if(r&&Z(a,"overflow")!="visible"){i=a.getBoundingClientRect();r=C>i.left&&p<i.right&&b>i.top-1&&g<i.bottom+1}}return r};var t=function(){var e,t,i,a,r,n,s,l,o,u,f,c;var d=k.elements;if((h=H.loadMode)&&N<8&&(e=d.length)){t=0;M++;for(;t<e;t++){if(!d[t]||d[t]._lazyRace){continue}if(!E||k.prematureUnveil&&k.prematureUnveil(d[t])){R(d[t]);continue}if(!(l=d[t][$]("data-expand"))||!(n=l*1)){n=w}if(!u){u=!H.expand||H.expand<1?O.clientHeight>500&&O.clientWidth>500?500:370:H.expand;k._defEx=u;f=u*H.expFactor;c=H.hFac;A=null;if(w<f&&N<1&&M>2&&h>2&&!D.hidden){w=f;M=0}else if(h>1&&M>1&&N<6){w=u}else{w=_}}if(o!==n){y=innerWidth+n*c;z=innerHeight+n;s=n*-1;o=n}i=d[t].getBoundingClientRect();if((b=i.bottom)>=s&&(g=i.top)<=z&&(C=i.right)>=s*c&&(p=i.left)<=y&&(b||C||p||g)&&(H.loadHidden||W(d[t]))&&(m&&N<3&&!l&&(h<3||M<4)||S(d[t],n))){R(d[t]);r=true;if(N>9){break}}else if(!r&&m&&!a&&N<4&&M<4&&h>2&&(v[0]||H.preloadAfterLoad)&&(v[0]||!l&&(b||C||p||g||d[t][$](H.sizesAttr)!="auto"))){a=v[0]||d[t]}}if(a&&!r){R(a)}}};var i=ie(t);var B=function(e){var t=e.target;if(t._lazyCache){delete t._lazyCache;return}x(e);K(t,H.loadedClass);Q(t,H.loadingClass);V(t,L);X(t,"lazyloaded")};var a=te(B);var L=function(e){a({target:e.target})};var T=function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}};var F=function(e){var t;var i=e[$](H.srcsetAttr);if(t=H.customMedia[e[$]("data-media")||e[$]("media")]){e.setAttribute("media",t)}if(i){e.setAttribute("srcset",i)}};var s=te(function(t,e,i,a,r){var n,s,l,o,u,f;if(!(u=X(t,"lazybeforeunveil",e)).defaultPrevented){if(a){if(i){K(t,H.autosizesClass)}else{t.setAttribute("sizes",a)}}s=t[$](H.srcsetAttr);n=t[$](H.srcAttr);if(r){l=t.parentNode;o=l&&j.test(l.nodeName||"")}f=e.firesLoad||"src"in t&&(s||n||o);u={target:t};K(t,H.loadingClass);if(f){clearTimeout(c);c=I(x,2500);V(t,L,true)}if(o){G.call(l.getElementsByTagName("source"),F)}if(s){t.setAttribute("srcset",s)}else if(n&&!o){if(d.test(t.nodeName)){T(t,n)}else{t.src=n}}if(r&&(s||o)){Y(t,{src:n})}}if(t._lazyRace){delete t._lazyRace}Q(t,H.lazyClass);ee(function(){var e=t.complete&&t.naturalWidth>1;if(!f||e){if(e){K(t,"ls-is-cached")}B(u);t._lazyCache=true;I(function(){if("_lazyCache"in t){delete t._lazyCache}},9)}if(t.loading=="lazy"){N--}},true)});var R=function(e){if(e._lazyRace){return}var t;var i=n.test(e.nodeName);var a=i&&(e[$](H.sizesAttr)||e[$]("sizes"));var r=a=="auto";if((r||!m)&&i&&(e[$]("src")||e.srcset)&&!e.complete&&!J(e,H.errorClass)&&J(e,H.lazyClass)){return}t=X(e,"lazyunveilread").detail;if(r){re.updateElem(e,true,e.offsetWidth)}e._lazyRace=true;N++;s(e,t,r,a,i)};var r=ae(function(){H.loadMode=3;i()});var l=function(){if(H.loadMode==3){H.loadMode=2}r()};var o=function(){if(m){return}if(f.now()-e<999){I(o,999);return}m=true;H.loadMode=3;i();q("scroll",l,true)};return{_:function(){e=f.now();k.elements=D.getElementsByClassName(H.lazyClass);v=D.getElementsByClassName(H.lazyClass+" "+H.preloadClass);q("scroll",i,true);q("resize",i,true);q("pageshow",function(e){if(e.persisted){var t=D.querySelectorAll("."+H.loadingClass);if(t.length&&t.forEach){U(function(){t.forEach(function(e){if(e.complete){R(e)}})})}}});if(u.MutationObserver){new MutationObserver(i).observe(O,{childList:true,subtree:true,attributes:true})}else{O[P]("DOMNodeInserted",i,true);O[P]("DOMAttrModified",i,true);setInterval(i,999)}q("hashchange",i,true);["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){D[P](e,i,true)});if(/d$|^c/.test(D.readyState)){o()}else{q("load",o);D[P]("DOMContentLoaded",i);I(o,2e4)}if(k.elements.length){t();ee._lsFlush()}else{i()}},checkElems:i,unveil:R,_aLSL:l}}(),re=function(){var i;var n=te(function(e,t,i,a){var r,n,s;e._lazysizesWidth=a;a+="px";e.setAttribute("sizes",a);if(j.test(t.nodeName||"")){r=t.getElementsByTagName("source");for(n=0,s=r.length;n<s;n++){r[n].setAttribute("sizes",a)}}if(!i.detail.dataAttr){Y(e,i.detail)}});var a=function(e,t,i){var a;var r=e.parentNode;if(r){i=s(e,r,i);a=X(e,"lazybeforesizes",{width:i,dataAttr:!!t});if(!a.defaultPrevented){i=a.detail.width;if(i&&i!==e._lazysizesWidth){n(e,r,a,i)}}}};var e=function(){var e;var t=i.length;if(t){e=0;for(;e<t;e++){a(i[e])}}};var t=ae(e);return{_:function(){i=D.getElementsByClassName(H.autosizesClass);q("resize",t)},checkElems:t,updateElem:a}}(),t=function(){if(!t.i&&D.getElementsByClassName){t.i=true;re._();e._()}};return I(function(){H.init&&t()}),k={cfg:H,autoSizer:re,loader:e,init:t,uP:Y,aC:K,rC:Q,hC:J,fire:X,gW:s,rAF:ee}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});

